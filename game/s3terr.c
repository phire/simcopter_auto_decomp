// Module: S3terr.obj
// Source: C:\Copter\source\game\S3terr.c
// autogenerated by simcopter_tool from PDB file

// Type: unsigned short *;

// Type: unsigned short;

// Type: short;

// Type: int32_t;

// Type: long;

// Type: void;

// Type: unsigned char;

// Type: int32_t *;

// Type: /*packed*/ struct Point2d;
struct Point2d{ // packed(0x8 bytes) TI: 0x18b2
	/*+0x0*/   int32_t x;
	/*+0x4*/   int32_t y;
};

// Type: /*packed*/ struct Point3d (forward reference);
struct Point3d{ // packed(0xc bytes) TI: 0x18b0
	/*+0x0*/   int32_t x;
	/*+0x4*/   int32_t y;
	/*+0x8*/   int32_t z;
};

// Type: short *;

// Type: /*packed*/ struct _CELL_INFO (forward reference);
struct _CELL_INFO{ // packed(0x18 bytes) TI: 0x1b03
	/*+0x0*/   short flags; // 0x2 bytes
	/*+0x2*/   short x; // 0x2 bytes
	/*+0x4*/   short y; // 0x2 bytes
	/*+0x6*/   short z; // 0x2 bytes
	/*+0x8*/   short size; // 0x2 bytes
	/*+0xa*/   short ctr; // 0x2 bytes
	/*+0xc*/   /*packed*/ struct _STOBJ_INST *stptr;
	/*+0x10*/  /*packed*/ struct _DYOBJ_INST *dyptr;
	/*+0x14*/  /*packed*/ struct _DYOBJ_INST *vwptr;
};

// Type: /*packed*/ struct _STOBJ_INST (forward reference);
struct _STOBJ_INST{ // packed(0x10 bytes) TI: 0x193f
	/*+0x0*/   /*packed*/ struct _STOBJ_INST *next;
	/*+0x4*/   void * __ptr32 mesh;
	/*+0x8*/   long user1;
	/*+0xc*/   long user2;
};



// Contribution: 1:00112d50-00117f8b Module: 169, 16 byte alignment, code, execute, read, 
// FUNCTION: COPTER_D 0x00513d50
short GetAltitude(int32_t x, int32_t y) {
	/*bp-0x4*/   short wat;
	/*bp-0x8*/   short alt;

// LINE 96:
	__asm        cmp    x, 0;
	__asm        jl     _T1d;

	__asm        cmp    y, 0;
	__asm        jge    _T25;
// LINE 97:
_T1d:
	return 0x0;
// LINE 98:
_T25:
	__asm        cmp    x, 0x80;
	__asm        jge    _T3f;

	__asm        cmp    y, 0x80;
	__asm        jl     _T47;
// LINE 99:
_T3f:
	return 0x0;
// LINE 100:
_T47:
	__asm        mov    eax, x;
	__asm        mov    eax, AltMap[eax*4];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx*2];
	__asm        and    edx, 0x1F;
	__asm        mov    alt, dx;
// LINE 101:
	__asm        mov    eax, x;
	__asm        mov    eax, AltMap[eax*4];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx*2];
	__asm        shr    edx, 5;
	__asm        and    edx, 0x1F;
	__asm        mov    wat, dx;
// LINE 105:
	__asm        movsx  eax, alt;
	__asm        movsx  ecx, wat;
	__asm        cmp    eax, ecx;
	__asm        jge    _Tb7;

	__asm        mov    eax, x;
	__asm        mov    eax, TerrainMap[eax*4];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        cmp    edx, 0xF;
	__asm        jle    _Tb7;
// LINE 106:
	return wat;
// LINE 107:
	__asm        jmp    __RETURN;
// LINE 108:
_Tb7:
	return alt;
// LINE 110:
__RETURN:
}

// FUNCTION: COPTER_D 0x00513e15
void S3TerrainInit() {
	/*bp-0x4*/   long i;

// LINE 130:
	__asm        push   0x400000;
	__asm        push   0x10000;
	__asm        call   _FixedDiv;
	__asm        add    esp, 8;
	__asm        mov    S_recip_celldim, eax;
// LINE 135:
_FOR_2c:
	for (i = 0x0; (i < 0x40); i++) {
		// LINE 137:
			__asm        mov    eax, i;
			__asm        or     eax, 0x140000;
			__asm        mov    ecx, i;
			__asm        mov    G_terr2bmp[ecx*4], eax;
		// LINE 138:
			__asm        mov    eax, i;
			__asm        or     eax, 0xD0000;
			__asm        mov    ecx, i;
			__asm        mov    G_terr2bmp[64][ecx*4], eax;
	}
// LINE 143:
_T62:
	return;
// LINE 144:
}

// FUNCTION: COPTER_D 0x00513e81
short S3TerrainInitMap() {
	/*bp-0x4*/   short wflags;
	/*bp-0x8*/   int32_t k1;
	/*bp-0xc*/   int32_t k2;
	/*bp-0x10*/  short alt2;
	/*bp-0x14*/  unsigned char texval;
	/*bp-0x18*/  int32_t k3;
	/*bp-0x1c*/  long x;
	/*bp-0x20*/  long y;
	/*bp-0x24*/  short alt;
	/*bp-0x28*/  short tile;

// LINE 164:
	G_terr_minalt = 0x7530;
// LINE 165:
	G_terr_maxalt = 0x0;
// LINE 171:
	G_tdim = 0x100;
// LINE 172:
	G_tmask = 0xff;
// LINE 173:
	G_tshift = 0x8;
// LINE 176:
	G_tmap = S2AllocMem(G_citymempool, 0x5b5d68, ((G_tdim * G_tdim) + (G_tdim * G_tdim)));
// LINE 177:
	__asm        cmp    G_tmap, 0;
	__asm        jne    _T7c;
// LINE 178:
	ERexit(0x5b5d70);
// LINE 181:
_T7c:
	__asm        mov    edx, G_tdim;
	__asm        imul   edx, G_tdim;
	__asm        add    edx, edx;
	__asm        mov    edi, G_tmap;
	__asm        xor    eax, eax;
	__asm        mov    ecx, edx;
	__asm        shr    ecx, 2;
	__asm        rep stosd;
	__asm        mov    ecx, edx;
	__asm        and    ecx, 3;
	__asm        rep stosb;
// LINE 190:
_FOR_ad:
	for (x = 0x0; (x < 0x80); x++) {
		// LINE 191:
		_FOR_c9:
			for (y = 0x0; (y < 0x80); y++) {
				// LINE 193:
					alt = GetAltitude(x, y);
				// LINE 195:
					__asm        mov    eax, x;
					__asm        mov    eax, TerrainMap[eax*4];
					__asm        mov    ecx, y;
					__asm        xor    edx, edx;
					__asm        mov    dl, [eax+ecx];
					__asm        cmp    edx, 0xD;
					__asm        je     _T123;

					__asm        mov    eax, x;
					__asm        mov    eax, TerrainMap[eax*4];
					__asm        mov    ecx, y;
					__asm        xor    edx, edx;
					__asm        mov    dl, [eax+ecx];
					__asm        cmp    edx, 0xE;
					__asm        jne    _T127;
				// LINE 196:
				_T123:
					alt++;
				// LINE 199:
				_T127:
					__asm        movsx  eax, alt;
					__asm        shl    eax, 5;
					__asm        add    eax, 0x20;
					__asm        mov    alt, ax;
				// LINE 202:
					__asm        movsx  eax, alt;
					__asm        cmp    eax, G_terr_maxalt;
					__asm        jle    _T14e;
				// LINE 203:
					G_terr_maxalt = reinterpret_cast<int16_t>(alt);
				// LINE 204:
				_T14e:
					__asm        movsx  eax, alt;
					__asm        cmp    eax, G_terr_minalt;
					__asm        jge    _T167;
				// LINE 205:
					G_terr_minalt = reinterpret_cast<int16_t>(alt);
				// LINE 207:
				_T167:
					__asm        mov    ax, alt;
					__asm        mov    edx, y;
					__asm        add    edx, edx;
					__asm        inc    edx;
					__asm        and    edx, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    edx, cl;
					__asm        mov    ecx, x;
					__asm        add    ecx, ecx;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    edx, [ecx+edx*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [edx+ecx], ax;
			}
		_T19f:
	}
// LINE 211:
_T1a4:
	G_terr_minalt -= 0x32;
// LINE 212:
	G_terr_maxalt += 0x64;
// LINE 213:
	__asm        cmp    G_terr_minalt, 0;
	__asm        jge    _FOR_1d5;

	G_terr_minalt = 0x0;
// LINE 219:
_FOR_1d5:
	for (x = 0x1; (x < 0x100); x += 0x2) {
		// LINE 220:
		_FOR_1f2:
			for (y = 0x0; (y <= 0x100); y += 0x2) {
				// LINE 222:
					__asm        cmp    y, 0;
					__asm        jne    _T272;
				// LINE 224:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        sub    edx, 2;
					__asm        mov    alt, dx;
				// LINE 225:
					__asm        mov    ax, alt;
					__asm        mov    edx, y;
					__asm        and    edx, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    edx, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    edx, [ecx+edx*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [edx+ecx], ax;
				// LINE 227:
					__asm        jmp    _T372;
				_T272:
					__asm        cmp    y, 0x100;
					__asm        jne    _T2e4;
				// LINE 229:
					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        sub    edx, 2;
					__asm        mov    alt, dx;
				// LINE 230:
					__asm        mov    ax, alt;
					__asm        mov    edx, y;
					__asm        and    edx, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    edx, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    edx, [ecx+edx*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [edx+ecx], ax;
				// LINE 232:
					__asm        jmp    _T372;
				// LINE 234:
				_T2e4:
					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    ebx, ebx;
					__asm        mov    bx, [eax+ecx];
					__asm        add    edx, ebx;
					__asm        sar    edx, 1;
					__asm        mov    alt, dx;
				// LINE 235:
					__asm        mov    ax, alt;
					__asm        mov    edx, y;
					__asm        and    edx, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    edx, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    edx, [ecx+edx*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [edx+ecx], ax;
				// LINE 237:
				_T372:
			}
		_T377:
	}
// LINE 242:
_FOR_388:
	for (y = 0x1; (y < 0x100); y += 0x2) {
		// LINE 243:
		_FOR_3a5:
			for (x = 0x0; (x <= 0x100); x += 0x2) {
				// LINE 245:
					__asm        cmp    x, 0;
					__asm        jne    _T425;
				// LINE 247:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        sub    edx, 2;
					__asm        mov    alt, dx;
				// LINE 248:
					__asm        mov    ax, alt;
					__asm        mov    edx, y;
					__asm        and    edx, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    edx, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    edx, [ecx+edx*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [edx+ecx], ax;
				// LINE 250:
					__asm        jmp    _T525;
				_T425:
					__asm        cmp    x, 0x100;
					__asm        jne    _T497;
				// LINE 252:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        sub    edx, 2;
					__asm        mov    alt, dx;
				// LINE 253:
					__asm        mov    ax, alt;
					__asm        mov    edx, y;
					__asm        and    edx, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    edx, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    edx, [ecx+edx*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [edx+ecx], ax;
				// LINE 255:
					__asm        jmp    _T525;
				// LINE 257:
				_T497:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    ebx, ebx;
					__asm        mov    bx, [eax+ecx];
					__asm        add    edx, ebx;
					__asm        sar    edx, 1;
					__asm        mov    alt, dx;
				// LINE 258:
					__asm        mov    ax, alt;
					__asm        mov    edx, y;
					__asm        and    edx, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    edx, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    edx, [ecx+edx*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [edx+ecx], ax;
				// LINE 260:
				_T525:
			}
		_T52a:
	}
// LINE 264:
_FOR_53b:
	for (y = 0x0; (y <= 0x100); y += 0x2) {
		// LINE 265:
		_FOR_558:
			for (x = 0x0; (x <= 0x100); x += 0x2) {
				// LINE 267:
					__asm        cmp    x, 0;
					__asm        jne    _T5d6;
				// LINE 269:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        dec    edx;
					__asm        mov    alt, dx;
				// LINE 270:
					__asm        mov    ax, alt;
					__asm        mov    edx, y;
					__asm        and    edx, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    edx, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    edx, [ecx+edx*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [edx+ecx], ax;
				// LINE 272:
					__asm        jmp    _T6d4;
				_T5d6:
					__asm        cmp    x, 0x100;
					__asm        jne    _T646;
				// LINE 274:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        dec    edx;
					__asm        mov    alt, dx;
				// LINE 275:
					__asm        mov    ax, alt;
					__asm        mov    edx, y;
					__asm        and    edx, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    edx, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    edx, [ecx+edx*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [edx+ecx], ax;
				// LINE 277:
					__asm        jmp    _T6d4;
				// LINE 279:
				_T646:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    ebx, ebx;
					__asm        mov    bx, [eax+ecx];
					__asm        add    edx, ebx;
					__asm        sar    edx, 1;
					__asm        mov    alt, dx;
				// LINE 280:
					__asm        mov    ax, alt;
					__asm        mov    edx, y;
					__asm        and    edx, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    edx, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    edx, [ecx+edx*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [edx+ecx], ax;
				// LINE 282:
				_T6d4:
			}
		_T6d9:
	}
// LINE 290:
_FOR_6ea:
	for (y = 0x0; (y < 0x80); y++) {
		// LINE 292:
		_FOR_706:
			for (x = 0x0; (x < 0x80); x++) {
				// LINE 294:
					__asm        mov    eax, y;
					__asm        add    eax, eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        add    ecx, ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    ax, [eax+ecx];
					__asm        mov    edx, y;
					__asm        and    edx, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    edx, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    edx, [ecx+edx*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [edx+ecx], ax;
			}
		// LINE 298:
		_T771:
			__asm        mov    eax, G_tdim;
			__asm        cdq;
			__asm        sub    eax, edx;
			__asm        sar    eax, 1;
			__asm        lea    edx, [eax*2];
			__asm        mov    eax, y;
			__asm        and    eax, G_tmask;
			__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
			__asm        shl    eax, cl;
			__asm        mov    ecx, G_tmask;
			__asm        and    ecx, x;
			__asm        add    ecx, ecx;
			__asm        lea    eax, [ecx+eax*2];
			__asm        add    eax, G_tmap;
			__asm        mov    edi, eax;
			__asm        xor    eax, eax;
			__asm        mov    ecx, edx;
			__asm        shr    ecx, 2;
			__asm        rep stosd;
			__asm        mov    ecx, edx;
			__asm        and    ecx, 3;
			__asm        rep stosb;
	}
// LINE 302:
_FOR_7cb:
	for (y = 0x80; (y < G_tdim); y++) {
		// LINE 304:
			__asm        mov    edx, G_tdim;
			__asm        add    edx, edx;
			__asm        mov    eax, y;
			__asm        and    eax, G_tmask;
			__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
			__asm        shl    eax, cl;
			__asm        add    eax, eax;
			__asm        add    eax, G_tmap;
			__asm        mov    edi, eax;
			__asm        xor    eax, eax;
			__asm        mov    ecx, edx;
			__asm        shr    ecx, 2;
			__asm        rep stosd;
			__asm        mov    ecx, edx;
			__asm        and    ecx, 3;
			__asm        rep stosb;
	}
// LINE 311:
_FOR_820:
	for (y = 0x0; (y < 0x80); y++) {
		// LINE 313:
			__asm        mov    eax, y;
			__asm        and    eax, G_tmask;
			__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
			__asm        shl    eax, cl;
			__asm        mov    ecx, G_tmask;
			__asm        and    ecx, 0x7F;
			__asm        add    ecx, ecx;
			__asm        lea    eax, [ecx+eax*2];
			__asm        mov    ecx, G_tmap;
			__asm        mov    ax, [eax+ecx];
			__asm        mov    edx, y;
			__asm        and    edx, G_tmask;
			__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
			__asm        shl    edx, cl;
			__asm        mov    ecx, G_tmask;
			__asm        and    ecx, 0x80;
			__asm        add    ecx, ecx;
			__asm        lea    edx, [ecx+edx*2];
			__asm        mov    ecx, G_tmap;
			__asm        mov    [edx+ecx], ax;
		// LINE 314:
			__asm        mov    eax, y;
			__asm        and    eax, G_tmask;
			__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
			__asm        shl    eax, cl;
			__asm        mov    ecx, G_tmask;
			__asm        and    ecx, 1;
			__asm        add    ecx, ecx;
			__asm        lea    eax, [ecx+eax*2];
			__asm        mov    ecx, G_tmap;
			__asm        mov    ax, [eax+ecx];
			__asm        mov    edx, y;
			__asm        and    edx, G_tmask;
			__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
			__asm        shl    edx, cl;
			__asm        mov    ecx, G_tmap;
			__asm        mov    [ecx+edx*2], ax;
	}
// LINE 317:
_FOR_8da:
	for (x = 0x0; (x < 0x80); x++) {
		// LINE 319:
			__asm        mov    eax, G_tmask;
			__asm        and    eax, 0x7F;
			__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
			__asm        shl    eax, cl;
			__asm        mov    ecx, G_tmask;
			__asm        and    ecx, x;
			__asm        add    ecx, ecx;
			__asm        lea    eax, [ecx+eax*2];
			__asm        mov    ecx, G_tmap;
			__asm        mov    ax, [eax+ecx];
			__asm        mov    edx, G_tmask;
			__asm        and    edx, 0x80;
			__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
			__asm        shl    edx, cl;
			__asm        mov    ecx, G_tmask;
			__asm        and    ecx, x;
			__asm        add    ecx, ecx;
			__asm        lea    edx, [ecx+edx*2];
			__asm        mov    ecx, G_tmap;
			__asm        mov    [edx+ecx], ax;
		// LINE 320:
			__asm        mov    eax, G_tmask;
			__asm        and    eax, 1;
			__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
			__asm        shl    eax, cl;
			__asm        mov    ecx, G_tmask;
			__asm        and    ecx, x;
			__asm        add    ecx, ecx;
			__asm        lea    eax, [ecx+eax*2];
			__asm        mov    ecx, G_tmap;
			__asm        mov    ax, [eax+ecx];
			__asm        xor    edx, edx;
			__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
			__asm        shl    edx, cl;
			__asm        mov    ecx, G_tmask;
			__asm        and    ecx, x;
			__asm        add    ecx, ecx;
			__asm        lea    edx, [ecx+edx*2];
			__asm        mov    ecx, G_tmap;
			__asm        mov    [edx+ecx], ax;
	}
// LINE 324:
_T98d:
	__asm        mov    eax, G_tmask;
	__asm        and    eax, 0x7F;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, 0x7F;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 326:
_FOR_9c5:
	for (x = 0x80; (x <= 0x90); x++) {
		// LINE 328:
		_FOR_9e1:
			for (y = 0x80; (y <= 0x90); y++) {
				// LINE 330:
					__asm        mov    ax, alt;
					__asm        mov    edx, y;
					__asm        and    edx, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    edx, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    edx, [ecx+edx*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [edx+ecx], ax;
			}
		// LINE 332:
		_Ta23:
	}
// LINE 343:
_Ta28:
	srand(clock());
// LINE 344:
	do_map_square(0x0, 0x0, G_tdim);
// LINE 349:
	__asm        cmp    G_fract_blurr, 1;
	__asm        jne    _Tbc2;
// LINE 351:
	k1 = 0x30a3;
// LINE 352:
	k2 = 0x547a;
// LINE 353:
	k3 = 0x7ae1;
// LINE 354:
_FOR_a76:
	for (x = 0x0; (x <= G_tdim); x++) {
		// LINE 356:
		_FOR_a93:
			for (y = 0x0; (y <= G_tdim); y++) {
				// LINE 359:
					__asm        mov    eax, G_tdim;
					__asm        sar    eax, 1;
					__asm        cmp    eax, x;
					__asm        jle    _Tacb;

					__asm        mov    eax, G_tdim;
					__asm        sar    eax, 1;
					__asm        cmp    eax, y;
					__asm        jle    _Tacb;

					__asm        jmp    _FOR_NEXT_a93;
				// LINE 365:
				_Tacb:
					__asm        mov    eax, y;
					__asm        add    eax, 2;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        sub    ecx, 2;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        shl    edx, 0x10;
					__asm        push   edx;
					__asm        mov    eax, k3;
					__asm        push   eax;
					__asm        call   _FixedMul;
					__asm        add    esp, 8;
					__asm        mov    ebx, eax;
					__asm        mov    eax, y;
					__asm        sub    eax, 2;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        shl    edx, 0x10;
					__asm        push   edx;
					__asm        mov    eax, k2;
					__asm        push   eax;
					__asm        call   _FixedMul;
					__asm        add    esp, 8;
					__asm        add    ebx, eax;
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        shl    edx, 0x10;
					__asm        push   edx;
					__asm        mov    eax, k1;
					__asm        push   eax;
					__asm        call   _FixedMul;
					__asm        add    esp, 8;
					__asm        add    ebx, eax;
					__asm        sar    ebx, 0x10;
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [eax+ecx], bx;
			}
		// LINE 367:
		_Tbbd:
	}
// LINE 375:
_Tbc2:
	AdjustTerrainMap();
// LINE 383:
_FOR_bd3:
	for (x = 0x0; (x < 0x100); x++) {
		// LINE 385:
		_FOR_bef:
			for (y = 0x0; (y < 0x100); y++) {
				// LINE 395:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    G_texmap[0][eax+ecx], 0x30;
			}
		// LINE 397:
		_Tc15:
	}
// LINE 402:
_FOR_c26:
	for (x = 0x0; (x < 0x80); x++) {
		// LINE 404:
		_FOR_c42:
			for (y = 0x0; (y < 0x80); y++) {
				// LINE 406:
					__asm        mov    eax, x;
					__asm        mov    eax, BuildMap[eax*4];
					__asm        mov    ecx, y;
					__asm        movzx  ax, byte ptr [eax+ecx];
					__asm        mov    tile, ax;
				// LINE 407:
					__asm        movsx  eax, tile;
					__asm        test   eax, eax;
					__asm        jle    _Tcad;

					__asm        movsx  eax, tile;
					__asm        cmp    eax, 5;
					__asm        jge    _Tcad;
				// LINE 409:
					__asm        call   rand;
					__asm        movsx  eax, ax;
					__asm        cdq;
					__asm        xor    eax, edx;
					__asm        sub    eax, edx;
					__asm        and    eax, 1;
					__asm        xor    eax, edx;
					__asm        sub    eax, edx;
					__asm        add    eax, 0xA;
					__asm        mov    ecx, y;
					__asm        mov    edx, x;
					__asm        shl    edx, 8;
					__asm        mov    G_texmap[0][ecx+edx], al;
				// LINE 412:
					__asm        jmp    _Td83;
				_Tcad:
					__asm        movsx  eax, tile;
					__asm        cmp    eax, 6;
					__asm        jl     _Tcc7;

					__asm        movsx  eax, tile;
					__asm        cmp    eax, 0xD;
					__asm        jle    _Tcd6;
				_Tcc7:
					__asm        movsx  eax, tile;
					__asm        cmp    eax, 0xD5;
					__asm        jne    _Tcec;
				// LINE 414:
				_Tcd6:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    G_texmap[0][eax+ecx], 0x20;
				// LINE 416:
					__asm        jmp    _Td83;
				_Tcec:
					__asm        mov    eax, x;
					__asm        mov    eax, TerrainMap[eax*4];
					__asm        mov    ecx, y;
					__asm        xor    edx, edx;
					__asm        mov    dl, [eax+ecx];
					__asm        cmp    edx, 0xF;
					__asm        jle    _Td83;
				// LINE 418:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    G_texmap[0][eax+ecx], 5;
				// LINE 420:
					__asm        test   reinterpret_cast<uint8_t>(x), 1;
					__asm        jne    _Td83;

					__asm        test   reinterpret_cast<uint8_t>(y), 1;
					__asm        jne    _Td83;
				// LINE 421:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        sub    edx, 8;
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [eax+ecx], dx;
				// LINE 423:
				_Td83:
			}
		// LINE 424:
		_Td88:
	}
// LINE 430:
_FOR_d99:
	for (x = 0x1; (x < 0x7f); x++) {
		// LINE 432:
		_FOR_db2:
			for (y = 0x1; (y < 0x7f); y++) {
				// LINE 434:
				// Block start:
					/*bp-0x2c*/  unsigned char texid;
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    al, G_texmap[0][eax+ecx];
					__asm        mov    texid, al;
				// LINE 436:
					__asm        xor    eax, eax;
					__asm        mov    al, texid;
					__asm        cmp    eax, 0x30;
					__asm        je     _Tdee;

					__asm        xor    eax, eax;
					__asm        mov    al, texid;
					__asm        cmp    eax, 0x20;
					__asm        jne    _Tedd;
				// LINE 445:
				_Tdee:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, [eax+ecx+0x66EB0F];
					__asm        cmp    edx, 5;
					__asm        je     _Tecc;

					__asm        mov    eax, x;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        xor    edx, edx;
					__asm        mov    dl, [eax+ecx+0x66EB0F];
					__asm        cmp    edx, 5;
					__asm        je     _Tecc;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        xor    edx, edx;
					__asm        mov    dl, [eax+ecx+0x66EB0F];
					__asm        cmp    edx, 5;
					__asm        je     _Tecc;

					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        je     _Tecc;

					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        je     _Tecc;

					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][1][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        je     _Tecc;

					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][1][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        je     _Tecc;

					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][1][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jne    _Tedd;
				// LINE 447:
				_Tecc:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    G_texmap[0][eax+ecx], 0x10;
				// LINE 450:
				// Block end:
				_Tedd:
			}
		// LINE 451:
		_Tee2:
	}
// LINE 456:
_FOR_ef3:
	for (x = 0x1; (x < 0x7f); x++) {
		// LINE 458:
		_FOR_f0c:
			for (y = 0x1; (y < 0x7f); y++) {
				// LINE 460:
				// Block start:
					/*bp-0x30*/  unsigned char texid;
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    al, G_texmap[0][eax+ecx];
					__asm        mov    texid, al;
				// LINE 462:
					__asm        xor    eax, eax;
					__asm        mov    al, texid;
					__asm        cmp    eax, 0x30;
					__asm        jne    _T1029;
				// LINE 471:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, [eax+ecx+0x66EB0F];
					__asm        cmp    edx, 0x10;
					__asm        je     _T1018;

					__asm        mov    eax, x;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        xor    edx, edx;
					__asm        mov    dl, [eax+ecx+0x66EB0F];
					__asm        cmp    edx, 0x10;
					__asm        je     _T1018;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        xor    edx, edx;
					__asm        mov    dl, [eax+ecx+0x66EB0F];
					__asm        cmp    edx, 0x10;
					__asm        je     _T1018;

					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x10;
					__asm        je     _T1018;

					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x10;
					__asm        je     _T1018;

					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][1][eax+ecx];
					__asm        cmp    edx, 0x10;
					__asm        je     _T1018;

					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][1][eax+ecx];
					__asm        cmp    edx, 0x10;
					__asm        je     _T1018;

					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][1][eax+ecx];
					__asm        cmp    edx, 0x10;
					__asm        jne    _T1029;
				// LINE 473:
				_T1018:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    G_texmap[0][eax+ecx], 0x20;
				// LINE 476:
				// Block end:
				_T1029:
			}
		// LINE 477:
		_T102e:
	}
// LINE 482:
_FOR_103f:
	for (x = 0x0; (x < 0x80); x++) {
		// LINE 484:
		_FOR_105b:
			for (y = 0x0; (y < 0x80); y++) {
				// LINE 487:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        je     _T108b;
				// LINE 488:
					__asm        jmp    _FOR_NEXT_105b;
				// LINE 490:
				_T108b:
					wflags = 0x0;
				// LINE 493:
					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        test   edx, edx;
					__asm        jl     _T10e0;

					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T113b;
				_T10e0:
					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T1130;

					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0xA;
					__asm        jl     _T113b;
				// LINE 494:
				_T1130:
					__asm        movsx  eax, wflags;
					__asm        or     eax, 1;
					__asm        mov    wflags, ax;
				// LINE 495:
				_T113b:
					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        test   edx, edx;
					__asm        jl     _T1188;

					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T11e1;
				_T1188:
					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T11d6;

					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0xA;
					__asm        jl     _T11e1;
				// LINE 496:
				_T11d6:
					__asm        movsx  eax, wflags;
					__asm        or     eax, 2;
					__asm        mov    wflags, ax;
				// LINE 497:
				_T11e1:
					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        dec    ecx;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        test   edx, edx;
					__asm        jl     _T1230;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        dec    ecx;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T128b;
				_T1230:
					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        dec    ecx;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T1280;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        dec    ecx;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0xA;
					__asm        jl     _T128b;
				// LINE 498:
				_T1280:
					__asm        movsx  eax, wflags;
					__asm        or     eax, 4;
					__asm        mov    wflags, ax;
				// LINE 499:
				_T128b:
					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        test   edx, edx;
					__asm        jl     _T12d8;

					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T1331;
				_T12d8:
					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T1326;

					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0xA;
					__asm        jl     _T1331;
				// LINE 500:
				_T1326:
					__asm        movsx  eax, wflags;
					__asm        or     eax, 8;
					__asm        mov    wflags, ax;
				// LINE 501:
				_T1331:
					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        test   edx, edx;
					__asm        jl     _T137e;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T13d7;
				_T137e:
					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T13cc;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0xA;
					__asm        jl     _T13d7;
				// LINE 502:
				_T13cc:
					__asm        movsx  eax, wflags;
					__asm        or     eax, 0x10;
					__asm        mov    wflags, ax;
				// LINE 503:
				_T13d7:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        test   edx, edx;
					__asm        jl     _T1426;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T1481;
				_T1426:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T1476;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0xA;
					__asm        jl     _T1481;
				// LINE 504:
				_T1476:
					__asm        movsx  eax, wflags;
					__asm        or     eax, 0x20;
					__asm        mov    wflags, ax;
				// LINE 505:
				_T1481:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        test   edx, edx;
					__asm        jl     _T14ce;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T1527;
				_T14ce:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T151c;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0xA;
					__asm        jl     _T1527;
				// LINE 506:
				_T151c:
					__asm        movsx  eax, wflags;
					__asm        or     eax, 0x40;
					__asm        mov    wflags, ax;
				// LINE 507:
				_T1527:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        test   edx, edx;
					__asm        jl     _T1576;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T15d3;
				_T1576:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T15c6;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0xA;
					__asm        jl     _T15d3;
				// LINE 508:
				_T15c6:
					__asm        movsx  eax, wflags;
					__asm        or     eax, 0x80;
					__asm        mov    wflags, ax;
				// LINE 510:
				_T15d3:
					__asm        movsx  eax, wflags;
					__asm        test   eax, eax;
					__asm        je     _T15f0;
				// LINE 511:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    G_texmap[0][eax+ecx], 0;
				// LINE 513:
				_T15f0:
			}
		// LINE 514:
		_T15f5:
	}
// LINE 520:
_FOR_1606:
	for (y = 0x0; (y < 0x80); y++) {
		// LINE 522:
		_FOR_1622:
			for (x = 0x0; (x < 0x80); x++) {
				// LINE 525:
					__asm        mov    eax, x;
					__asm        mov    eax, BuildMap[eax*4];
					__asm        mov    ecx, y;
					__asm        movzx  ax, byte ptr [eax+ecx];
					__asm        mov    tile, ax;
				// LINE 526:
					__asm        movsx  eax, tile;
					__asm        cmp    eax, 0x70;
					__asm        jge    _T16be;
				// LINE 532:
					__asm        movsx  eax, tile;
					__asm        mov    [ebp-0x34], eax;
					__asm        jmp    _T1670;
				// LINE 556:
				_T1661:
					__asm        jmp    _T16be;
				// LINE 558:
				_T1666:
			}
		// LINE 559:
			__asm        jmp    _T16be;
		_T1670:
			__asm        sub    dword ptr [ebp-0x34], 0x1D;
			__asm        cmp    dword ptr [ebp-0x34], 0x1D;
			__asm        ja     _FOR_NEXT_1622;

			__asm        mov    eax, [ebp-0x34];
			__asm        xor    ecx, ecx;
			__asm        mov    cl, _SwitchTable_16a0[0][eax];
			__asm        jmp    _Switch_1690[0][ecx*4];
		// Switch pointers:
		//   _T1661
		//   _T1661
		//   _T1661
		//   _T1666
		// Switch table
		//  [0, 0, 3, 3, 3, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2]
		// LINE 562:
		_T16be:
			alt = GetAltitude(x, y);
		// LINE 563:
			__asm        mov    eax, x;
			__asm        mov    eax, TerrainMap[eax*4];
			__asm        mov    ecx, y;
			__asm        xor    edx, edx;
			__asm        mov    dl, [eax+ecx];
			__asm        cmp    edx, 0xD;
			__asm        je     _T1708;

			__asm        mov    eax, x;
			__asm        mov    eax, TerrainMap[eax*4];
			__asm        mov    ecx, y;
			__asm        xor    edx, edx;
			__asm        mov    dl, [eax+ecx];
			__asm        cmp    edx, 0xE;
			__asm        jne    _T170c;
		// LINE 564:
		_T1708:
			alt++;
		// LINE 565:
		_T170c:
			__asm        movsx  eax, alt;
			__asm        shl    eax, 5;
			__asm        add    eax, 0x20;
			__asm        mov    alt, ax;
		// LINE 566:
			__asm        mov    ax, alt;
			__asm        mov    edx, y;
			__asm        and    edx, G_tmask;
			__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
			__asm        shl    edx, cl;
			__asm        mov    ecx, G_tmask;
			__asm        and    ecx, x;
			__asm        add    ecx, ecx;
			__asm        lea    edx, [ecx+edx*2];
			__asm        mov    ecx, G_tmap;
			__asm        mov    [edx+ecx], ax;
		// LINE 567:
			__asm        mov    ax, alt;
			__asm        mov    edx, y;
			__asm        and    edx, G_tmask;
			__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
			__asm        shl    edx, cl;
			__asm        mov    ecx, x;
			__asm        inc    ecx;
			__asm        and    ecx, G_tmask;
			__asm        add    ecx, ecx;
			__asm        lea    edx, [ecx+edx*2];
			__asm        mov    ecx, G_tmap;
			__asm        mov    [edx+ecx], ax;
		// LINE 568:
			__asm        mov    ax, alt;
			__asm        mov    edx, y;
			__asm        inc    edx;
			__asm        and    edx, G_tmask;
			__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
			__asm        shl    edx, cl;
			__asm        mov    ecx, G_tmask;
			__asm        and    ecx, x;
			__asm        add    ecx, ecx;
			__asm        lea    edx, [ecx+edx*2];
			__asm        mov    ecx, G_tmap;
			__asm        mov    [edx+ecx], ax;
		// LINE 569:
			__asm        mov    ax, alt;
			__asm        mov    edx, y;
			__asm        inc    edx;
			__asm        and    edx, G_tmask;
			__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
			__asm        shl    edx, cl;
			__asm        mov    ecx, x;
			__asm        inc    ecx;
			__asm        and    ecx, G_tmask;
			__asm        add    ecx, ecx;
			__asm        lea    edx, [ecx+edx*2];
			__asm        mov    ecx, G_tmap;
			__asm        mov    [edx+ecx], ax;
		// LINE 570:
			__asm        jmp    _FOR_NEXT_1622;
		// LINE 572:
		_T17d7:
	}
// LINE 578:
_T17dc:
	__asm        mov    eax, G_terr_maxalt;
	__asm        sub    eax, G_terr_minalt;
	__asm        mov    alt2, ax;
// LINE 579:
	__asm        movsx  eax, alt2;
	__asm        sar    eax, 4;
	__asm        mov    alt2, ax;
// LINE 584:
_FOR_1802:
	for (x = 0x0; (x < 0x100); x++) {
		// LINE 586:
		_FOR_181e:
			for (y = 0x0; (y < 0x100); y++) {
				// LINE 589:
					__asm        cmp    x, 0x80;
					__asm        jge    _T184d;

					__asm        cmp    y, 0x80;
					__asm        jge    _T184d;
				// LINE 590:
					__asm        jmp    _FOR_NEXT_181e;
				// LINE 593:
				_T184d:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    ax, [eax+ecx];
					__asm        mov    alt, ax;
				// LINE 594:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 595:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 596:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 597:
					__asm        movsx  eax, alt;
					__asm        sar    eax, 2;
					__asm        mov    alt, ax;
				// LINE 599:
					__asm        movsx  eax, alt2;
					__asm        sar    eax, 1;
					__asm        add    eax, G_terr_minalt;
					__asm        movsx  ecx, alt;
					__asm        cmp    eax, ecx;
					__asm        jl     _T1952;
				// LINE 600:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    G_texmap[0][eax+ecx], 0;
				// LINE 601:
				_T1952:
			}
		// LINE 602:
		_T1957:
	}
// LINE 605:
_FOR_1968:
	for (x = 0x0; (x < 0x100); x++) {
		// LINE 607:
		_FOR_1984:
			for (y = 0x0; (y < 0x100); y++) {
				// LINE 616:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    ax, [eax+ecx];
					__asm        mov    alt, ax;
				// LINE 617:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 618:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 619:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 620:
					__asm        movsx  eax, alt;
					__asm        sar    eax, 2;
					__asm        mov    alt, ax;
				// LINE 622:
					__asm        mov    eax, x;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        jne    _T1b67;
				// LINE 627:
					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        test   edx, edx;
					__asm        je     _T1b2d;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        test   edx, edx;
					__asm        je     _T1b2d;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        test   edx, edx;
					__asm        je     _T1b2d;

					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        test   edx, edx;
					__asm        jne    _T1b3e;
				// LINE 629:
				_T1b2d:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    G_texmap[0][eax+ecx], 0x10;
				// LINE 634:
				_T1b3e:
					__asm        movsx  eax, alt2;
					__asm        add    eax, eax;
					__asm        add    eax, G_terr_minalt;
					__asm        movsx  ecx, alt;
					__asm        cmp    eax, ecx;
					__asm        jl     _T1b67;
				// LINE 635:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    G_texmap[0][eax+ecx], 0x10;
				// LINE 637:
				_T1b67:
			}
		// LINE 638:
		_T1b6c:
	}
// LINE 641:
_FOR_1b7d:
	for (x = 0x0; (x < 0x100); x++) {
		// LINE 643:
		_FOR_1b99:
			for (y = 0x0; (y < 0x100); y++) {
				// LINE 652:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    ax, [eax+ecx];
					__asm        mov    alt, ax;
				// LINE 653:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 654:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 655:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 656:
					__asm        movsx  eax, alt;
					__asm        sar    eax, 2;
					__asm        mov    alt, ax;
				// LINE 658:
					__asm        mov    eax, x;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        jne    _T1d81;
				// LINE 663:
					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x10;
					__asm        je     _T1d46;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x10;
					__asm        je     _T1d46;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x10;
					__asm        je     _T1d46;

					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x10;
					__asm        jne    _T1d57;
				// LINE 665:
				_T1d46:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    G_texmap[0][eax+ecx], 0x20;
				// LINE 669:
				_T1d57:
					__asm        movsx  eax, alt2;
					__asm        lea    eax, [eax+eax*4];
					__asm        add    eax, G_terr_minalt;
					__asm        movsx  ecx, alt;
					__asm        cmp    eax, ecx;
					__asm        jl     _T1d81;
				// LINE 670:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    G_texmap[0][eax+ecx], 0x20;
				// LINE 672:
				_T1d81:
			}
		// LINE 673:
		_T1d86:
	}
// LINE 677:
_FOR_1d97:
	for (x = 0x80; (x < 0x84); x++) {
		// LINE 679:
		_FOR_1db3:
			for (y = 0x80; (y < 0x84); y++) {
				// LINE 681:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    G_texmap[0][eax+ecx], 0x20;
			}
		// LINE 683:
		_T1dd9:
	}
// LINE 686:
_FOR_1dea:
	for (x = 0x0; (x < 0x100); x++) {
		// LINE 688:
		_FOR_1e06:
			for (y = 0x0; (y < 0x100); y++) {
				// LINE 696:
					__asm        mov    eax, x;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        je     _T1e41;
				// LINE 697:
					__asm        jmp    _FOR_NEXT_1e06;
				// LINE 700:
				_T1e41:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    ax, [eax+ecx];
					__asm        mov    alt, ax;
				// LINE 701:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 702:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 703:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 704:
					__asm        movsx  eax, alt;
					__asm        sar    eax, 2;
					__asm        mov    alt, ax;
				// LINE 707:
					__asm        mov    eax, G_terr_maxalt;
					__asm        movsx  ecx, alt2;
					__asm        lea    ecx, [ecx+ecx*2];
					__asm        add    ecx, ecx;
					__asm        sub    eax, ecx;
					__asm        movsx  ecx, alt;
					__asm        cmp    eax, ecx;
					__asm        jle    _T1f3d;
				// LINE 710:
					__asm        jmp    _FOR_NEXT_1e06;
				// LINE 719:
				_T1f3d:
					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        je     _T1f8b;

					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jne    _T2086;
				_T1f8b:
					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        je     _T1fd9;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jne    _T2086;
				_T1fd9:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        je     _T2027;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jne    _T2086;
				_T2027:
					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        je     _T2075;

					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jne    _T2086;
				// LINE 721:
				_T2075:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    G_texmap[0][eax+ecx], 0x40;
				// LINE 724:
				_T2086:
			}
		// LINE 725:
		_T208b:
	}
// LINE 728:
_FOR_209c:
	for (x = 0x0; (x < 0x100); x++) {
		// LINE 730:
		_FOR_20b8:
			for (y = 0x0; (y < 0x100); y++) {
				// LINE 738:
					__asm        mov    eax, x;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        je     _T20f3;
				// LINE 739:
					__asm        jmp    _FOR_NEXT_20b8;
				// LINE 742:
				_T20f3:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    ax, [eax+ecx];
					__asm        mov    alt, ax;
				// LINE 743:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 744:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 745:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 746:
					__asm        movsx  eax, alt;
					__asm        sar    eax, 2;
					__asm        mov    alt, ax;
				// LINE 749:
					__asm        mov    eax, G_terr_maxalt;
					__asm        movsx  ecx, alt2;
					__asm        lea    ecx, [ecx+ecx*2];
					__asm        sub    eax, ecx;
					__asm        movsx  ecx, alt;
					__asm        cmp    eax, ecx;
					__asm        jle    _T21ed;
				// LINE 752:
					__asm        jmp    _FOR_NEXT_20b8;
				// LINE 761:
				_T21ed:
					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        je     _T223b;

					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jne    _T2336;
				_T223b:
					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        je     _T2289;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jne    _T2336;
				_T2289:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        je     _T22d7;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jne    _T2336;
				_T22d7:
					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        je     _T2325;

					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jne    _T2336;
				// LINE 763:
				_T2325:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    G_texmap[0][eax+ecx], 0x50;
				// LINE 766:
				_T2336:
			}
		// LINE 767:
		_T233b:
	}
// LINE 770:
_FOR_234c:
	for (x = 0x0; (x < 0x100); x++) {
		// LINE 772:
		_FOR_2368:
			for (y = 0x0; (y < 0x100); y++) {
				// LINE 780:
					__asm        mov    eax, x;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        je     _T23a3;
				// LINE 781:
					__asm        jmp    _FOR_NEXT_2368;
				// LINE 784:
				_T23a3:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    ax, [eax+ecx];
					__asm        mov    alt, ax;
				// LINE 785:
					__asm        mov    eax, y;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 786:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 787:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt;
					__asm        add    edx, eax;
					__asm        mov    alt, dx;
				// LINE 788:
					__asm        movsx  eax, alt;
					__asm        sar    eax, 2;
					__asm        mov    alt, ax;
				// LINE 791:
					__asm        movsx  eax, alt2;
					__asm        add    eax, G_terr_maxalt;
					__asm        movsx  ecx, alt;
					__asm        cmp    eax, ecx;
					__asm        jle    _T2499;
				// LINE 794:
					__asm        jmp    _FOR_NEXT_2368;
				// LINE 803:
				_T2499:
					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        je     _T24e7;

					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x60;
					__asm        jne    _T25e2;
				_T24e7:
					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        je     _T2535;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x60;
					__asm        jne    _T25e2;
				_T2535:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        je     _T2583;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x60;
					__asm        jne    _T25e2;
				_T2583:
					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        je     _T25d1;

					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x60;
					__asm        jne    _T25e2;
				// LINE 805:
				_T25d1:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        mov    G_texmap[0][eax+ecx], 0x60;
				// LINE 808:
				_T25e2:
			}
		// LINE 809:
		_T25e7:
	}
// LINE 812:
_FOR_25f8:
	for (x = 0x0; (x < 0x100); x++) {
		// LINE 814:
		_FOR_2614:
			for (y = 0x0; (y < 0x100); y++) {
				// LINE 816:
					__asm        mov    eax, x;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x10;
					__asm        jne    _T28fc;
				// LINE 818:
					texval = 0x10;
				// LINE 821:
					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        test   edx, edx;
					__asm        jl     _T269b;

					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T26e9;
				_T269b:
					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T26f2;

					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0xA;
					__asm        jge    _T26f2;
				// LINE 822:
				_T26e9:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        inc    eax;
					__asm        mov    texval, al;
				// LINE 824:
				_T26f2:
					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        test   edx, edx;
					__asm        jl     _T273f;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T278d;
				_T273f:
					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T2798;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0xA;
					__asm        jge    _T2798;
				// LINE 825:
				_T278d:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 2;
					__asm        mov    texval, al;
				// LINE 827:
				_T2798:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        test   edx, edx;
					__asm        jl     _T27e5;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T2833;
				_T27e5:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T283e;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0xA;
					__asm        jge    _T283e;
				// LINE 828:
				_T2833:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 4;
					__asm        mov    texval, al;
				// LINE 830:
				_T283e:
					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        test   edx, edx;
					__asm        jl     _T288b;

					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T28d9;
				_T288b:
					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jl     _T28e4;

					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0xA;
					__asm        jge    _T28e4;
				// LINE 831:
				_T28d9:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 8;
					__asm        mov    texval, al;
				// LINE 832:
				_T28e4:
					__asm        mov    al, texval;
					__asm        mov    ecx, y;
					__asm        mov    edx, x;
					__asm        shl    edx, 8;
					__asm        mov    G_texmap[0][ecx+edx], al;
				// LINE 834:
					__asm        jmp    _T312b;
				_T28fc:
					__asm        mov    eax, x;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x20;
					__asm        jne    _T2aa0;
				// LINE 836:
					texval = 0x20;
				// LINE 839:
					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x10;
					__asm        jl     _T297d;

					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x20;
					__asm        jge    _T297d;
				// LINE 840:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        inc    eax;
					__asm        mov    texval, al;
				// LINE 842:
				_T297d:
					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x10;
					__asm        jl     _T29d6;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x20;
					__asm        jge    _T29d6;
				// LINE 843:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 2;
					__asm        mov    texval, al;
				// LINE 845:
				_T29d6:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x10;
					__asm        jl     _T2a2f;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x20;
					__asm        jge    _T2a2f;
				// LINE 846:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 4;
					__asm        mov    texval, al;
				// LINE 848:
				_T2a2f:
					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x10;
					__asm        jl     _T2a88;

					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x20;
					__asm        jge    _T2a88;
				// LINE 849:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 8;
					__asm        mov    texval, al;
				// LINE 850:
				_T2a88:
					__asm        mov    al, texval;
					__asm        mov    ecx, y;
					__asm        mov    edx, x;
					__asm        shl    edx, 8;
					__asm        mov    G_texmap[0][ecx+edx], al;
				// LINE 852:
					__asm        jmp    _T312b;
				_T2aa0:
					__asm        mov    eax, x;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        jne    _T2c44;
				// LINE 854:
					texval = 0x30;
				// LINE 857:
					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x20;
					__asm        jl     _T2b21;

					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        jge    _T2b21;
				// LINE 858:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        inc    eax;
					__asm        mov    texval, al;
				// LINE 860:
				_T2b21:
					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x20;
					__asm        jl     _T2b7a;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        jge    _T2b7a;
				// LINE 861:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 2;
					__asm        mov    texval, al;
				// LINE 863:
				_T2b7a:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x20;
					__asm        jl     _T2bd3;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        jge    _T2bd3;
				// LINE 864:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 4;
					__asm        mov    texval, al;
				// LINE 866:
				_T2bd3:
					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x20;
					__asm        jl     _T2c2c;

					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        jge    _T2c2c;
				// LINE 867:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 8;
					__asm        mov    texval, al;
				// LINE 868:
				_T2c2c:
					__asm        mov    al, texval;
					__asm        mov    ecx, y;
					__asm        mov    edx, x;
					__asm        shl    edx, 8;
					__asm        mov    G_texmap[0][ecx+edx], al;
				// LINE 870:
					__asm        jmp    _T312b;
				_T2c44:
					__asm        mov    eax, x;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jne    _T2de8;
				// LINE 872:
					texval = 0x40;
				// LINE 875:
					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        jl     _T2cc5;

					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jge    _T2cc5;
				// LINE 876:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        inc    eax;
					__asm        mov    texval, al;
				// LINE 878:
				_T2cc5:
					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        jl     _T2d1e;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jge    _T2d1e;
				// LINE 879:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 2;
					__asm        mov    texval, al;
				// LINE 881:
				_T2d1e:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        jl     _T2d77;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jge    _T2d77;
				// LINE 882:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 4;
					__asm        mov    texval, al;
				// LINE 884:
				_T2d77:
					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        jl     _T2dd0;

					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jge    _T2dd0;
				// LINE 885:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 8;
					__asm        mov    texval, al;
				// LINE 886:
				_T2dd0:
					__asm        mov    al, texval;
					__asm        mov    ecx, y;
					__asm        mov    edx, x;
					__asm        shl    edx, 8;
					__asm        mov    G_texmap[0][ecx+edx], al;
				// LINE 888:
					__asm        jmp    _T312b;
				_T2de8:
					__asm        mov    eax, x;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        jne    _T2f8c;
				// LINE 890:
					texval = 0x50;
				// LINE 893:
					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jl     _T2e69;

					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        jge    _T2e69;
				// LINE 894:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        inc    eax;
					__asm        mov    texval, al;
				// LINE 896:
				_T2e69:
					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jl     _T2ec2;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        jge    _T2ec2;
				// LINE 897:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 2;
					__asm        mov    texval, al;
				// LINE 899:
				_T2ec2:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jl     _T2f1b;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        jge    _T2f1b;
				// LINE 900:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 4;
					__asm        mov    texval, al;
				// LINE 902:
				_T2f1b:
					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jl     _T2f74;

					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        jge    _T2f74;
				// LINE 903:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 8;
					__asm        mov    texval, al;
				// LINE 904:
				_T2f74:
					__asm        mov    al, texval;
					__asm        mov    ecx, y;
					__asm        mov    edx, x;
					__asm        shl    edx, 8;
					__asm        mov    G_texmap[0][ecx+edx], al;
				// LINE 906:
					__asm        jmp    _T312b;
				_T2f8c:
					__asm        mov    eax, x;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x60;
					__asm        jne    _T312b;
				// LINE 908:
					texval = 0x60;
				// LINE 911:
					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        jl     _T300d;

					__asm        mov    eax, y;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x60;
					__asm        jge    _T300d;
				// LINE 912:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        inc    eax;
					__asm        mov    texval, al;
				// LINE 914:
				_T300d:
					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        jl     _T3066;

					__asm        mov    eax, x;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x60;
					__asm        jge    _T3066;
				// LINE 915:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 2;
					__asm        mov    texval, al;
				// LINE 917:
				_T3066:
					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        jl     _T30bf;

					__asm        mov    eax, y;
					__asm        inc    eax;
					__asm        and    eax, 0xFF;
					__asm        mov    ecx, x;
					__asm        and    ecx, 0xFF;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x60;
					__asm        jge    _T30bf;
				// LINE 918:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 4;
					__asm        mov    texval, al;
				// LINE 920:
				_T30bf:
					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x50;
					__asm        jl     _T3118;

					__asm        mov    eax, x;
					__asm        dec    eax;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x60;
					__asm        jge    _T3118;
				// LINE 921:
					__asm        xor    eax, eax;
					__asm        mov    al, texval;
					__asm        add    eax, 8;
					__asm        mov    texval, al;
				// LINE 922:
				_T3118:
					__asm        mov    al, texval;
					__asm        mov    ecx, y;
					__asm        mov    edx, x;
					__asm        shl    edx, 8;
					__asm        mov    G_texmap[0][ecx+edx], al;
				// LINE 925:
				_T312b:
			}
		// LINE 926:
		_T3130:
	}
// LINE 930:
_FOR_3141:
	for (x = 0x0; (x < 0x100); x++) {
		// LINE 932:
		_FOR_315d:
			for (y = 0x0; (y < 0x100); y++) {
				// LINE 934:
					__asm        mov    eax, x;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x10;
					__asm        jne    _T31d5;
				// LINE 936:
					__asm        call   rand;
					__asm        movsx  eax, ax;
					__asm        cdq;
					__asm        xor    eax, edx;
					__asm        sub    eax, edx;
					__asm        and    eax, 1;
					__asm        xor    eax, edx;
					__asm        sub    eax, edx;
					__asm        je     _T31d0;
				// LINE 938:
					__asm        call   rand;
					__asm        mov    ecx, 3;
					__asm        movsx  eax, ax;
					__asm        cdq;
					__asm        idiv   ecx;
					__asm        lea    eax, [edx+0x70];
					__asm        mov    ecx, y;
					__asm        mov    edx, x;
					__asm        shl    edx, 8;
					__asm        mov    G_texmap[0][ecx+edx], al;
				// LINE 941:
				_T31d0:
					__asm        jmp    _T3370;
				_T31d5:
					__asm        mov    eax, x;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x20;
					__asm        jne    _T323d;
				// LINE 943:
					__asm        call   rand;
					__asm        movsx  eax, ax;
					__asm        cdq;
					__asm        xor    eax, edx;
					__asm        sub    eax, edx;
					__asm        and    eax, 1;
					__asm        xor    eax, edx;
					__asm        sub    eax, edx;
					__asm        je     _T3238;
				// LINE 945:
					__asm        call   rand;
					__asm        mov    ecx, 3;
					__asm        movsx  eax, ax;
					__asm        cdq;
					__asm        idiv   ecx;
					__asm        lea    eax, [edx+0x73];
					__asm        mov    ecx, y;
					__asm        mov    edx, x;
					__asm        shl    edx, 8;
					__asm        mov    G_texmap[0][ecx+edx], al;
				// LINE 948:
				_T3238:
					__asm        jmp    _T3370;
				_T323d:
					__asm        mov    eax, x;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x30;
					__asm        jne    _T32a5;
				// LINE 950:
					__asm        call   rand;
					__asm        movsx  eax, ax;
					__asm        cdq;
					__asm        xor    eax, edx;
					__asm        sub    eax, edx;
					__asm        and    eax, 1;
					__asm        xor    eax, edx;
					__asm        sub    eax, edx;
					__asm        je     _T32a0;
				// LINE 952:
					__asm        call   rand;
					__asm        mov    ecx, 3;
					__asm        movsx  eax, ax;
					__asm        cdq;
					__asm        idiv   ecx;
					__asm        lea    eax, [edx+0x76];
					__asm        mov    ecx, y;
					__asm        mov    edx, x;
					__asm        shl    edx, 8;
					__asm        mov    G_texmap[0][ecx+edx], al;
				// LINE 955:
				_T32a0:
					__asm        jmp    _T3370;
				_T32a5:
					__asm        mov    eax, x;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x40;
					__asm        jne    _T330d;
				// LINE 957:
					__asm        call   rand;
					__asm        movsx  eax, ax;
					__asm        cdq;
					__asm        xor    eax, edx;
					__asm        sub    eax, edx;
					__asm        and    eax, 1;
					__asm        xor    eax, edx;
					__asm        sub    eax, edx;
					__asm        je     _T3308;
				// LINE 959:
					__asm        call   rand;
					__asm        mov    ecx, 3;
					__asm        movsx  eax, ax;
					__asm        cdq;
					__asm        idiv   ecx;
					__asm        lea    eax, [edx+0x79];
					__asm        mov    ecx, y;
					__asm        mov    edx, x;
					__asm        shl    edx, 8;
					__asm        mov    G_texmap[0][ecx+edx], al;
				// LINE 962:
				_T3308:
					__asm        jmp    _T3370;
				_T330d:
					__asm        mov    eax, x;
					__asm        and    eax, 0xFF;
					__asm        shl    eax, 8;
					__asm        mov    ecx, y;
					__asm        and    ecx, 0xFF;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 0x60;
					__asm        jne    _T3370;
				// LINE 964:
					__asm        call   rand;
					__asm        movsx  eax, ax;
					__asm        cdq;
					__asm        xor    eax, edx;
					__asm        sub    eax, edx;
					__asm        and    eax, 1;
					__asm        xor    eax, edx;
					__asm        sub    eax, edx;
					__asm        je     _T3370;
				// LINE 966:
					__asm        call   rand;
					__asm        mov    ecx, 3;
					__asm        movsx  eax, ax;
					__asm        cdq;
					__asm        idiv   ecx;
					__asm        lea    eax, [edx+0x7C];
					__asm        mov    ecx, y;
					__asm        mov    edx, x;
					__asm        shl    edx, 8;
					__asm        mov    G_texmap[0][ecx+edx], al;
				// LINE 970:
				_T3370:
			}
		// LINE 971:
		_T3375:
	}
// LINE 990:
_T337a:
	__asm        cmp    G_use_height_backplane, 1;
	__asm        jne    _T3396;
// LINE 991:
	VRInitGridObj(0x11);
// LINE 992:
	__asm        jmp    _T33a0;
// LINE 995:
_T3396:
	VRInitGridObj(0x19);
// LINE 998:
_T33a0:
	__asm        shl    G_terr_minalt, 0x10;
// LINE 999:
	__asm        shl    G_terr_maxalt, 0x10;
// LINE 1001:
	return 0x0;
// LINE 1002:
}

// FUNCTION: COPTER_D 0x0051723c
void do_map_square(short x, short y, short msize) {
	/*bp-0x4*/   short is_odd;
	/*bp-0x8*/   short midp;
	/*bp-0xc*/   unsigned short hght;

// LINE 1015:
	__asm        movsx  eax, msize;
	__asm        sar    eax, 1;
	__asm        mov    midp, ax;
// LINE 1017:
	__asm        movsx  eax, msize;
	__asm        cmp    eax, 1;
	__asm        jg     _T26;
// LINE 1018:
	return;
// LINE 1019:
_T26:
	__asm        movsx  eax, msize;
	__asm        and    eax, 1;
	__asm        mov    is_odd, ax;
// LINE 1025:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T11a;
// LINE 1027:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    hght, ax;
// LINE 1028:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1030:
_T11a:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T21b;
// LINE 1032:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, x;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        movsx  ebx, y;
	__asm        and    ebx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    ebx, cl;
	__asm        add    ebx, ebx;
	__asm        lea    eax, [ebx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    hght, ax;
// LINE 1033:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  ebx, x;
	__asm        add    ecx, ebx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1035:
_T21b:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, x;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        movsx  edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        add    edx, edx;
	__asm        lea    eax, [edx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T304;
// LINE 1037:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, x;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        movsx  edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        add    edx, edx;
	__asm        lea    eax, [edx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    hght, ax;
// LINE 1038:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, x;
	__asm        add    edx, ebx;
	__asm        and    edx, G_tmask;
	__asm        movsx  ebx, y;
	__asm        and    ebx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    ebx, cl;
	__asm        add    ebx, ebx;
	__asm        lea    edx, [ebx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1040:
_T304:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T405;
// LINE 1042:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    hght, ax;
// LINE 1043:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, msize;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  ebx, x;
	__asm        add    ecx, ebx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1049:
_T405:
	__asm        movsx  eax, is_odd;
	__asm        test   eax, eax;
	__asm        je     _T7ed;
// LINE 1051:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T4fc;
// LINE 1053:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    hght, ax;
// LINE 1054:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        inc    edx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1056:
_T4fc:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T5ff;
// LINE 1058:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, x;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        movsx  ebx, y;
	__asm        and    ebx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    ebx, cl;
	__asm        add    ebx, ebx;
	__asm        lea    eax, [ebx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    hght, ax;
// LINE 1059:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        inc    edx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  ebx, x;
	__asm        add    ecx, ebx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1061:
_T5ff:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, x;
	__asm        add    eax, ecx;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        movsx  edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        add    edx, edx;
	__asm        lea    eax, [edx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T6ea;
// LINE 1063:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, x;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        movsx  edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        add    edx, edx;
	__asm        lea    eax, [edx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    hght, ax;
// LINE 1064:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, x;
	__asm        add    edx, ebx;
	__asm        inc    edx;
	__asm        and    edx, G_tmask;
	__asm        movsx  ebx, y;
	__asm        and    ebx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    ebx, cl;
	__asm        add    ebx, ebx;
	__asm        lea    edx, [ebx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1066:
_T6ea:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T7ed;
// LINE 1068:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    hght, ax;
// LINE 1069:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, msize;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  ebx, x;
	__asm        add    ecx, ebx;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1078:
_T7ed:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, x;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        movsx  ebx, y;
	__asm        and    ebx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    ebx, cl;
	__asm        add    ebx, ebx;
	__asm        lea    eax, [ebx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        add    edx, ebx;
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        add    edx, ebx;
	__asm        movsx  eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        and    edx, 3;
	__asm        add    eax, edx;
	__asm        sar    eax, 2;
	__asm        mov    hght, ax;
// LINE 1079:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T955;
// LINE 1080:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  ebx, x;
	__asm        add    ecx, ebx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1082:
_T955:
	__asm        movsx  eax, is_odd;
	__asm        test   eax, eax;
	__asm        je     _Tb01;
// LINE 1084:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T9eb;
// LINE 1085:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  ebx, x;
	__asm        add    ecx, ebx;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1086:
_T9eb:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _Ta75;
// LINE 1087:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        inc    edx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  ebx, x;
	__asm        add    ecx, ebx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1088:
_Ta75:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _Tb01;
// LINE 1089:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        inc    edx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  ebx, x;
	__asm        add    ecx, ebx;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1095:
_Tb01:
	do_map_square(reinterpret_cast<uint32_t>(x), reinterpret_cast<uint32_t>(y), reinterpret_cast<uint32_t>(midp));
// LINE 1096:
	do_map_square(reinterpret_cast<uint32_t>(x), ((reinterpret_cast<int16_t>(midp) + reinterpret_cast<int16_t>(is_odd)) + reinterpret_cast<int16_t>(y)), reinterpret_cast<uint32_t>(midp));
// LINE 1097:
	do_map_square(((reinterpret_cast<int16_t>(midp) + reinterpret_cast<int16_t>(is_odd)) + reinterpret_cast<int16_t>(x)), reinterpret_cast<uint32_t>(y), reinterpret_cast<uint32_t>(midp));
// LINE 1098:
	do_map_square(((reinterpret_cast<int16_t>(midp) + reinterpret_cast<int16_t>(is_odd)) + reinterpret_cast<int16_t>(x)), ((reinterpret_cast<int16_t>(midp) + reinterpret_cast<int16_t>(is_odd)) + reinterpret_cast<int16_t>(y)), reinterpret_cast<uint32_t>(midp));
// LINE 1100:
}

// FUNCTION: COPTER_D 0x00517dc6
unsigned short noise(unsigned short hght, unsigned short edge_len) {
	/*bp-0x4*/   long new_height;
	/*bp-0x8*/   long max_noise;
	/*bp-0xc*/   long delta;

// LINE 1110:
	max_noise = 0x7ff;
// LINE 1115:
	__asm        call   rand;
	__asm        and    eax, max_noise;
	__asm        mov    [ebp-0x10], eax;
	__asm        fild   dword ptr [ebp-0x10];
	__asm        mov    eax, reinterpret_cast<uint32_t>(edge_len);
	__asm        and    eax, 0xFFFF;
	__asm        mov    [ebp-0x18], eax;
	__asm        mov    dword ptr [ebp-0x14], 0;
	__asm        fild   qword ptr [ebp-0x18];
	__asm        fmulp;
	__asm        mov    eax, G_tdim;
	__asm        mov    [ebp-0x1C], eax;
	__asm        fidiv  dword ptr [ebp-0x1C];
	__asm        call   __ftol;
	__asm        mov    delta, eax;
// LINE 1116:
	__asm        call   rand;
	__asm        test   al, 1;
	__asm        je     _T5a;

	__asm        jmp    _T62;
_T5a:
	delta = -delta;
// LINE 1117:
_T62:
	new_height = ((reinterpret_cast<uint32_t>(hght) & 0xffff) + delta);
// LINE 1119:
	__asm        mov    eax, G_terr_minalt;
	__asm        cmp    new_height, eax;
	__asm        jge    _T89;

	__asm        xor    eax, eax;
	__asm        mov    ax, reinterpret_cast<uint16_t>(G_terr_minalt);
	__asm        mov    new_height, eax;
// LINE 1120:
_T89:
	return reinterpret_cast<uint16_t>(new_height);
// LINE 1121:
}

// FUNCTION: COPTER_D 0x00517e5d
void S3TerrSetGridObj() {
	/*bp-0x8*/   /*packed*/ struct Point2d ulp; // 0x8 bytes
	/*bp-0xc*/   int32_t * yptr;
	/*bp-0x10*/  long x;
	/*bp-0x14*/  long y;

// LINE 1144:
	ulp.x = (G_grid_ulc.x & 0xff);
// LINE 1145:
	ulp.y = (G_grid_ulc.y & 0xff);
// LINE 1148:
	yptr = (GridVerts + 0x4);
// LINE 1150:
_FOR_39:
	for (y = ulp.y; ((ulp.y + G_VertDim) > y); y++) {
		// LINE 1152:
		_FOR_59:
			for (x = ulp.x; ((ulp.x + G_VertDim) > x); x++) {
				// LINE 1154:
					__asm        mov    eax, yptr;
					__asm        cmp    GridVerts, eax;
					__asm        jbe    _T99;

					_assert(0x5b5db0, 0x5b5d90, 0x482);
					__asm        jmp    _T9e;
				_T99:
					__asm        jmp    _T9e;
				// LINE 1155:
				_T9e:
					__asm        mov    eax, yptr;
					__asm        cmp    GridVertsEnd, eax;
					__asm        ja     _Tc9;

					_assert(0x5b5df0, 0x5b5dd0, 0x483);
					__asm        jmp    _Tce;
				_Tc9:
					__asm        jmp    _Tce;
				// LINE 1158:
				_Tce:
					__asm        mov    eax, G_tmask;
					__asm        and    eax, y;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        shl    edx, 0x10;
					__asm        mov    eax, yptr;
					__asm        mov    [eax], edx;
				// LINE 1160:
					yptr += 0xc;
			}
		// LINE 1162:
		_T109:
	}
// LINE 1163:
__RETURN:
}

// FUNCTION: COPTER_D 0x00517f70
void S3TerrainMorph() {
	/*bp-0x8*/   /*packed*/ struct Point2d ulp; // 0x8 bytes
	/*bp-0xc*/   /*packed*/ struct Point3d *v;
	/*bp-0x14*/  /*packed*/ struct Point2d mcell; // 0x8 bytes

// LINE 1199:
	__asm        cmp    G_morphno, 0xA;
	__asm        jne    _T232;
// LINE 1202:
	ulp.x = ((G_morphcell.x & 0xff) + (G_morphcell.x & 0xff));
// LINE 1203:
	ulp.y = ((G_morphcell.y & 0xff) + (G_morphcell.y & 0xff));
// LINE 1204:
	__asm        mov    eax, ulp.y;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h1, eax;
// LINE 1205:
	__asm        mov    eax, ulp.y;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h2, eax;
// LINE 1206:
	__asm        mov    eax, ulp.y;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        add    ecx, 2;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h3, eax;
// LINE 1207:
	__asm        mov    eax, ulp.y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h4, eax;
// LINE 1208:
	__asm        mov    eax, ulp.y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h5, eax;
// LINE 1209:
	__asm        mov    eax, ulp.y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        add    ecx, 2;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h6, eax;
// LINE 1210:
	__asm        mov    eax, ulp.y;
	__asm        add    eax, 2;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h7, eax;
// LINE 1211:
	__asm        mov    eax, ulp.y;
	__asm        add    eax, 2;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h8, eax;
// LINE 1212:
	__asm        mov    eax, ulp.y;
	__asm        add    eax, 2;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        add    ecx, 2;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h9, eax;
// LINE 1218:
_T232:
	__asm        mov    eax, S_h1;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h1;
	__asm        mov    [eax], cx;
// LINE 1219:
	__asm        mov    eax, S_h2;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h2;
	__asm        mov    [eax], cx;
// LINE 1220:
	__asm        mov    eax, S_h3;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h3;
	__asm        mov    [eax], cx;
// LINE 1221:
	__asm        mov    eax, S_h4;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h4;
	__asm        mov    [eax], cx;
// LINE 1222:
	__asm        mov    eax, S_h5;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h5;
	__asm        mov    [eax], cx;
// LINE 1223:
	__asm        mov    eax, S_h6;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h6;
	__asm        mov    [eax], cx;
// LINE 1224:
	__asm        mov    eax, S_h7;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h7;
	__asm        mov    [eax], cx;
// LINE 1225:
	__asm        mov    eax, S_h8;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h8;
	__asm        mov    [eax], cx;
// LINE 1226:
	__asm        mov    eax, S_h9;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h9;
	__asm        mov    [eax], cx;
// LINE 1229:
	G_morphno--;
// LINE 1232:
	__asm        cmp    G_morphno, 3;
	__asm        jge    _T317;
// LINE 1233:
	__asm        mov    eax, S_h5;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h5;
	__asm        mov    [eax], cx;
// LINE 1236:
_T317:
	__asm        cmp    G_morphno, 0;
	__asm        jle    _T356;
// LINE 1238:
	__asm        mov    eax, G_morphno;
	__asm        and    eax, 3;
	__asm        mov    al, reinterpret_cast<uint8_t>(S_texcycle[0])[eax*2];
	__asm        mov    ecx, G_morphcell.y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dx, reinterpret_cast<uint16_t>(G_morphcell.x);
	__asm        mov    dh, dl;
	__asm        mov    G_texmap[0][ecx+edx], al;
// LINE 1240:
	__asm        jmp    _T38c;
// LINE 1242:
_T356:
	__asm        movsx  eax, S_texlast;
	__asm        and    eax, 3;
	__asm        mov    al, reinterpret_cast<uint8_t>(S_texcycle[0])[eax*2];
	__asm        mov    ecx, G_morphcell.y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dx, reinterpret_cast<uint16_t>(G_morphcell.x);
	__asm        mov    dh, dl;
	__asm        mov    G_texmap[0][ecx+edx], al;
// LINE 1243:
	S_texlast++;
// LINE 1249:
_T38c:
	mcell.x = (G_morphcell.x - G_grid_ulc.x);
// LINE 1250:
	mcell.y = (G_morphcell.y - G_grid_ulc.y);
// LINE 1255:
	__asm        cmp    mcell.x, 0;
	__asm        jl     _T3d8;

	__asm        cmp    mcell.y, 0;
	__asm        jl     _T3d8;

	__asm        mov    eax, G_ViewSize;
	__asm        cmp    mcell.x, eax;
	__asm        jge    _T3d8;

	__asm        mov    eax, G_ViewSize;
	__asm        cmp    mcell.y, eax;
	__asm        jl     _T3dd;
// LINE 1256:
_T3d8:
	return;
// LINE 1259:
_T3dd:
	__asm        mov    eax, mcell.y;
	__asm        imul   eax, G_VertDim;
	__asm        lea    eax, [eax+eax*2];
	__asm        mov    ecx, mcell.x;
	__asm        lea    ecx, [ecx+ecx*2];
	__asm        shl    ecx, 3;
	__asm        lea    eax, [ecx+eax*8];
	__asm        add    eax, GridVerts;
	__asm        mov    v, eax;
// LINE 1261:
	__asm        mov    eax, GridVerts;
	__asm        cmp    v, eax;
	__asm        jae    _T429;

	_assert(0x5b5e34, 0x5b5e14, 0x4ed);
	__asm        jmp    _T42e;
_T429:
	__asm        jmp    _T42e;
// LINE 1262:
_T42e:
	__asm        mov    eax, GridVertsEnd;
	__asm        cmp    v, eax;
	__asm        jb     _T458;

	_assert(0x5b5e64, 0x5b5e44, 0x4ee);
	__asm        jmp    _T45d;
_T458:
	__asm        jmp    _T45d;
// LINE 1265:
_T45d:
	__asm        mov    eax, S_h1;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+4], ecx;
// LINE 1266:
	__asm        mov    eax, S_h2;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+0x10], ecx;
// LINE 1267:
	__asm        mov    eax, S_h3;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+0x1C], ecx;
// LINE 1268:
	__asm        mov    eax, G_VertDim;
	__asm        lea    eax, [eax+eax*2];
	__asm        shl    eax, 2;
	__asm        add    v, eax;
// LINE 1269:
	__asm        mov    eax, S_h4;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+4], ecx;
// LINE 1270:
	__asm        mov    eax, S_h5;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+0x10], ecx;
// LINE 1271:
	__asm        mov    eax, S_h6;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+0x1C], ecx;
// LINE 1272:
	__asm        mov    eax, G_VertDim;
	__asm        lea    eax, [eax+eax*2];
	__asm        shl    eax, 2;
	__asm        add    v, eax;
// LINE 1273:
	__asm        mov    eax, S_h7;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+4], ecx;
// LINE 1274:
	__asm        mov    eax, S_h8;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+0x10], ecx;
// LINE 1275:
	__asm        mov    eax, S_h9;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+0x1C], ecx;
// LINE 1277:
}

// FUNCTION: COPTER_D 0x00518499
int32_t S3TerrMorphWater() {
	/*bp-0x4*/   short * array1;
	/*bp-0x8*/   short alt0;
	/*bp-0xc*/   short * cycle;
	/*bp-0x10*/  long x;
	/*bp-0x14*/  long y;
	/*bp-0x18*/  long ystart;
	/*bp-0x1c*/  long xstart;

// LINE 1439:
	S_looptime += LoopTime;
// LINE 1441:
	__asm        mov    eax, S_looptime;
	__asm        cmp    S_checktime, eax;
	__asm        jle    _T2c;
// LINE 1442:
	return 0x0;
// LINE 1444:
_T2c:
	S_looptime = 0x0;
// LINE 1446:
	__asm        movsx  eax, S_cycle;
	__asm        mov    [ebp-0x20], eax;
	__asm        jmp    _Ta0;
// LINE 1450:
_T45:
	xstart = 0x0;
// LINE 1451:
	ystart = 0x0;
// LINE 1452:
	cycle = 0x5b5cd4;
// LINE 1453:
	S_checktime = 0x0;
// LINE 1454:
	array1 = 0x5b5d28;
// LINE 1455:
	__asm        jmp    _Tc4;
// LINE 1458:
_T70:
	xstart = 0x1;
// LINE 1459:
	ystart = 0x1;
// LINE 1460:
	cycle = 0x5b5cd8;
// LINE 1461:
	S_checktime = 0x0;
// LINE 1462:
	array1 = 0x5b5ce8;
// LINE 1463:
	__asm        jmp    _Tc4;
// LINE 1464:
	__asm        jmp    _Tc4;
_Ta0:
	__asm        cmp    dword ptr [ebp-0x20], 3;
	__asm        ja     _Tc4;

	__asm        mov    eax, [ebp-0x20];
	__asm        jmp    _Switch_b4[0][eax*4];
// Switch pointers:
//   _T45
//   _T70
//   _T45
//   _T70
// LINE 1466:
_Tc4:
	S_cycle++;
// LINE 1467:
	__asm        movsx  eax, S_cycle;
	__asm        cmp    eax, 4;
	__asm        jne    _Te4;

	S_cycle = 0x0;
// LINE 1469:
_Te4:
	__asm        mov    eax, cycle;
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0x1F;
	__asm        mov    ecx, array1;
	__asm        mov    ax, [ecx+eax*2];
	__asm        mov    alt0, ax;
// LINE 1471:
	cycle[0]++;
// LINE 1476:
_FOR_109:
	for (x = xstart; (x < 0x80); x += 0x2) {
		// LINE 1478:
		_FOR_125:
			for (y = ystart; (y < 0x80); y += 0x2) {
				// LINE 1481:
					__asm        mov    eax, y;
					__asm        mov    ecx, x;
					__asm        shl    ecx, 8;
					__asm        xor    edx, edx;
					__asm        mov    dl, G_texmap[0][eax+ecx];
					__asm        cmp    edx, 5;
					__asm        jne    _T1a9;
				// LINE 1483:
					__asm        mov    eax, G_tmask;
					__asm        and    eax, y;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        movsx  eax, alt0;
					__asm        add    edx, eax;
					__asm        mov    eax, G_tmask;
					__asm        and    eax, y;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [eax+ecx], dx;
				// LINE 1485:
				_T1a9:
			}
		// LINE 1486:
		_T1ae:
	}
// LINE 1488:
_T1b3:
	return 0x1;
// LINE 1489:
}

// FUNCTION: COPTER_D 0x0051865b
void AdjustTerrainMap() {
	/*bp-0x4*/   int32_t alt1;
	/*bp-0x8*/   int32_t end;
	/*bp-0xc*/   int32_t alt2;
	/*bp-0x10*/  int32_t alt3;
	/*bp-0x14*/  int32_t citysize;
	/*bp-0x18*/  int32_t x;
	/*bp-0x1c*/  int32_t i;
	/*bp-0x20*/  int32_t z;
	/*bp-0x24*/  int32_t alt;
	/*bp-0x28*/  int32_t start;

// LINE 1544:
	citysize = (G_tdim >> 0x1);
// LINE 1545:
	start = 0x0;
// LINE 1546:
	end = 0x20;
// LINE 1548:
_FOR_2d:
	for (i = start; (end > i); i++) {
		// LINE 1550:
			x = (citysize + i);
		// LINE 1551:
			z = (citysize + i);
		// LINE 1553:
		_FOR_53:
			for (; ((-i - 1) <= z); z--) {
				// LINE 1555:
					__asm        mov    eax, G_tmask;
					__asm        and    eax, z;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        mov    alt, edx;
				// LINE 1556:
					__asm        mov    eax, z;
					__asm        inc    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        mov    alt1, edx;
				// LINE 1557:
					__asm        mov    eax, G_tmask;
					__asm        and    eax, z;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        mov    alt2, edx;
				// LINE 1558:
					__asm        mov    eax, z;
					__asm        dec    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        mov    alt3, edx;
				// LINE 1559:
					__asm        mov    eax, alt1;
					__asm        add    eax, 0x20;
					__asm        cmp    eax, alt;
					__asm        jge    _T138;

					alt = (alt1 + 0x20);
				_T138:
					__asm        mov    eax, alt1;
					__asm        sub    eax, 0x20;
					__asm        cmp    eax, alt;
					__asm        jle    _T150;

					alt = (alt1 - 0x20);
				_T150:
					__asm        mov    eax, alt3;
					__asm        add    eax, 0x20;
					__asm        cmp    eax, alt;
					__asm        jge    _T168;

					alt = (alt3 + 0x20);
				_T168:
					__asm        mov    eax, alt3;
					__asm        sub    eax, 0x20;
					__asm        cmp    eax, alt;
					__asm        jle    _T180;

					alt = (alt3 - 0x20);
				_T180:
					__asm        mov    eax, alt2;
					__asm        add    eax, 0x20;
					__asm        cmp    eax, alt;
					__asm        jge    _T198;

					alt = (alt2 + 0x20);
				_T198:
					__asm        mov    eax, alt2;
					__asm        sub    eax, 0x20;
					__asm        cmp    eax, alt;
					__asm        jle    _T1b0;

					alt = (alt2 - 0x20);
				_T1b0:
					__asm        mov    eax, alt;
					__asm        mov    edx, G_tmask;
					__asm        and    edx, z;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    edx, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    edx, [ecx+edx*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [edx+ecx], ax;
			}
		// LINE 1563:
		_T1e1:
			x = (citysize + i);
		// LINE 1564:
			z = (citysize + i);
		// LINE 1566:
		_FOR_1f8:
			for (; ((-i - 1) <= x); x--) {
				// LINE 1568:
					__asm        mov    eax, G_tmask;
					__asm        and    eax, z;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        mov    alt, edx;
				// LINE 1569:
					__asm        mov    eax, z;
					__asm        dec    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        dec    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        mov    alt1, edx;
				// LINE 1570:
					__asm        mov    eax, z;
					__asm        dec    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        mov    alt2, edx;
				// LINE 1571:
					__asm        mov    eax, z;
					__asm        dec    eax;
					__asm        and    eax, G_tmask;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    eax, cl;
					__asm        mov    ecx, x;
					__asm        inc    ecx;
					__asm        and    ecx, G_tmask;
					__asm        add    ecx, ecx;
					__asm        lea    eax, [ecx+eax*2];
					__asm        mov    ecx, G_tmap;
					__asm        xor    edx, edx;
					__asm        mov    dx, [eax+ecx];
					__asm        mov    alt3, edx;
				// LINE 1572:
					__asm        mov    eax, alt1;
					__asm        add    eax, 0x20;
					__asm        cmp    eax, alt;
					__asm        jge    _T2de;

					alt = (alt1 + 0x20);
				_T2de:
					__asm        mov    eax, alt1;
					__asm        sub    eax, 0x20;
					__asm        cmp    eax, alt;
					__asm        jle    _T2f6;

					alt = (alt1 - 0x20);
				_T2f6:
					__asm        mov    eax, alt3;
					__asm        add    eax, 0x20;
					__asm        cmp    eax, alt;
					__asm        jge    _T30e;

					alt = (alt3 + 0x20);
				_T30e:
					__asm        mov    eax, alt3;
					__asm        sub    eax, 0x20;
					__asm        cmp    eax, alt;
					__asm        jle    _T326;

					alt = (alt3 - 0x20);
				_T326:
					__asm        mov    eax, alt2;
					__asm        add    eax, 0x20;
					__asm        cmp    eax, alt;
					__asm        jge    _T33e;

					alt = (alt2 + 0x20);
				_T33e:
					__asm        mov    eax, alt2;
					__asm        sub    eax, 0x20;
					__asm        cmp    eax, alt;
					__asm        jle    _T356;

					alt = (alt2 - 0x20);
				_T356:
					__asm        mov    eax, alt;
					__asm        mov    edx, G_tmask;
					__asm        and    edx, z;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    edx, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    edx, [ecx+edx*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [edx+ecx], ax;
			}
		// LINE 1575:
		_T387:
	}
// LINE 1578:
_T38c:
	__asm        mov    eax, G_tmask;
	__asm        and    eax, 0x80;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, 0x80;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        mov    alt, edx;
// LINE 1580:
_FOR_3ca:
	for (x = 0x80; (x <= 0x90); x++) {
		// LINE 1582:
		_FOR_3e6:
			for (z = 0x80; (z <= 0x90); z++) {
				// LINE 1584:
					__asm        mov    eax, alt;
					__asm        mov    edx, G_tmask;
					__asm        and    edx, z;
					__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
					__asm        shl    edx, cl;
					__asm        mov    ecx, G_tmask;
					__asm        and    ecx, x;
					__asm        add    ecx, ecx;
					__asm        lea    edx, [ecx+edx*2];
					__asm        mov    ecx, G_tmap;
					__asm        mov    [edx+ecx], ax;
			}
		// LINE 1586:
		_T427:
	}
// LINE 1588:
__RETURN:
}

// FUNCTION: COPTER_D 0x00518a8c
int32_t S3TerrPrecisionAlt(int32_t worldx, int32_t worldz, int32_t * landable) {
	/*bp-0x4*/   int32_t alt1;
	/*bp-0x8*/   int32_t hypalt;
	/*bp-0xc*/   int32_t alt2;
	/*bp-0x10*/  int32_t sidealt;
	/*bp-0x14*/  int32_t sidez;
	/*bp-0x18*/  int32_t x;
	/*bp-0x1c*/  int32_t z;
	/*bp-0x20*/  int32_t zdist;
	/*bp-0x24*/  int32_t ratio;
	/*bp-0x28*/  int32_t hypz;
	/*bp-0x30*/  /*packed*/ struct Point2d cell; // 0x8 bytes

// LINE 1613:
	__asm        cmp    landable, 0;
	__asm        je     _T1c;
// LINE 1614:
	landable[0] = 0x0;
// LINE 1617:
_T1c:
	cell.x = ((worldx + 0x20000000) >> 0x16);
// LINE 1618:
	cell.y = ((0x20000000 - worldz) >> 0x16);
// LINE 1621:
	x = ((cell.x << 0x6) - 0x1fe0);
// LINE 1622:
	z = ((0x2000 - (cell.y << 0x6)) - 0x20);
// LINE 1625:
	__asm        mov    eax, cell.y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, cell.x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    alt1, edx;
// LINE 1626:
	__asm        mov    eax, cell.y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, cell.x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    alt2, edx;
// LINE 1633:
	__asm        and    worldx, 0x3FFFFF;
// LINE 1634:
	__asm        and    worldz, 0x3FFFFF;
// LINE 1642:
	__asm        mov    eax, S_recip_celldim;
	__asm        push   eax;
	__asm        mov    eax, worldx;
	__asm        push   eax;
	__asm        call   _FixedMul;
	__asm        add    esp, 8;
	__asm        mov    ratio, eax;
// LINE 1643:
	__asm        mov    eax, ratio;
	__asm        push   eax;
	__asm        push   0x400000;
	__asm        call   _FixedMul;
	__asm        add    esp, 8;
	__asm        mov    hypz, eax;
// LINE 1644:
	__asm        mov    eax, ratio;
	__asm        push   eax;
	__asm        mov    eax, alt1;
	__asm        sub    eax, alt2;
	__asm        push   eax;
	__asm        call   _FixedMul;
	__asm        add    esp, 8;
	__asm        mov    edx, alt2;
	__asm        add    edx, eax;
	__asm        mov    hypalt, edx;
// LINE 1651:
	__asm        mov    eax, worldz;
	__asm        cmp    hypz, eax;
	__asm        jge    _T1d7;
// LINE 1654:
	__asm        mov    eax, cell.y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, cell.x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    alt1, edx;
// LINE 1655:
	__asm        mov    eax, cell.y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, cell.x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    alt2, edx;
// LINE 1656:
	sidez = 0x400000;
// LINE 1657:
	__asm        cmp    landable, 0;
	__asm        je     _T1d2;
// LINE 1660:
	__asm        mov    eax, hypalt;
	__asm        sub    eax, alt1;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, 0x90000;
	__asm        jge    _T1c9;

	__asm        mov    eax, hypalt;
	__asm        sub    eax, alt2;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, 0x90000;
	__asm        jge    _T1c9;
// LINE 1662:
	landable[0] = 0x1;
// LINE 1664:
	__asm        jmp    _T1d2;
// LINE 1666:
_T1c9:
	landable[0] = 0x0;
// LINE 1670:
_T1d2:
	__asm        jmp    _T35a;
_T1d7:
	__asm        mov    eax, worldz;
	__asm        cmp    hypz, eax;
	__asm        jle    _T2a1;
// LINE 1673:
	__asm        mov    eax, cell.y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, cell.x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    alt1, edx;
// LINE 1674:
	__asm        mov    eax, cell.y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, cell.x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    alt2, edx;
// LINE 1675:
	sidez = 0x0;
// LINE 1676:
	__asm        cmp    landable, 0;
	__asm        je     _T29c;
// LINE 1679:
	__asm        mov    eax, hypalt;
	__asm        sub    eax, alt1;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, 0x90000;
	__asm        jge    _T293;

	__asm        mov    eax, hypalt;
	__asm        sub    eax, alt2;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, 0x90000;
	__asm        jge    _T293;
// LINE 1681:
	landable[0] = 0x1;
// LINE 1683:
	__asm        jmp    _T29c;
// LINE 1685:
_T293:
	landable[0] = 0x0;
// LINE 1689:
_T29c:
	__asm        jmp    _T35a;
// LINE 1691:
_T2a1:
	__asm        cmp    landable, 0;
	__asm        je     _T352;
// LINE 1693:
	__asm        mov    eax, cell.y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, cell.x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    alt1, edx;
// LINE 1694:
	__asm        mov    eax, cell.y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, cell.x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    alt2, edx;
// LINE 1697:
	__asm        mov    eax, hypalt;
	__asm        sub    eax, alt1;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, 0x90000;
	__asm        jge    _T349;

	__asm        mov    eax, hypalt;
	__asm        sub    eax, alt2;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, 0x90000;
	__asm        jge    _T349;
// LINE 1699:
	landable[0] = 0x1;
// LINE 1701:
	__asm        jmp    _T352;
// LINE 1703:
_T349:
	landable[0] = 0x0;
// LINE 1707:
_T352:
	return hypalt;
// LINE 1710:
_T35a:
	__asm        mov    eax, ratio;
	__asm        push   eax;
	__asm        mov    eax, alt1;
	__asm        sub    eax, alt2;
	__asm        push   eax;
	__asm        call   _FixedMul;
	__asm        add    esp, 8;
	__asm        mov    ecx, alt2;
	__asm        add    ecx, eax;
	__asm        mov    sidealt, ecx;
// LINE 1715:
	zdist = (sidez - hypz);
// LINE 1718:
	__asm        cmp    zdist, 0x64;
	__asm        jge    _T39a;

	__asm        cmp    zdist, 0xFFFFFF9C;
	__asm        jle    _T39a;
// LINE 1719:
	return hypalt;
// LINE 1721:
_T39a:
	__asm        mov    eax, zdist;
	__asm        push   eax;
	__asm        mov    eax, sidez;
	__asm        sub    eax, worldz;
	__asm        push   eax;
	__asm        call   _FixedDiv;
	__asm        add    esp, 8;
	__asm        mov    ratio, eax;
// LINE 1724:
	__asm        mov    eax, ratio;
	__asm        push   eax;
	__asm        mov    eax, hypalt;
	__asm        sub    eax, sidealt;
	__asm        push   eax;
	__asm        call   _FixedMul;
	__asm        add    esp, 8;
	__asm        mov    ecx, sidealt;
	__asm        add    ecx, eax;
	__asm        mov    alt1, ecx;
// LINE 1726:
	return alt1;
// LINE 1727:
}

// FUNCTION: COPTER_D 0x00518e64
unsigned char S3TerrGetShadeIndex(long x, long y) {
// LINE 1804:
	return 0x0;
// LINE 1805:
}

// FUNCTION: COPTER_D 0x00518e76
int32_t S3ObjectPrecisionAlt(int32_t cityx, int32_t cityy) {
	/*bp-0x4*/   int32_t flags;
	/*bp-0x8*/   int32_t normz;
	/*bp-0xc*/   int32_t maxobjy;
	/*bp-0x10*/  /*packed*/ struct _STOBJ_INST *stobj;
	/*bp-0x14*/  int32_t objy;
	/*bp-0x18*/  int32_t alt;
	/*bp-0x1c*/  /*packed*/ struct _CELL_INFO *cptr;
	/*bp-0x20*/  int32_t normx;
	/*bp-0x24*/  int32_t normy;

// LINE 1829:
	__asm        mov    eax, cityx;
	__asm        add    eax, 0x20000000;
	__asm        shr    eax, 0x16;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, 0x20000000;
	__asm        sub    ecx, cityy;
	__asm        shr    ecx, 0x16;
	__asm        and    ecx, 0xFF;
	__asm        mov    eax, G_omap[0][0][eax+ecx*4];
	__asm        mov    cptr, eax;
// LINE 1831:
	__asm        mov    eax, cityx;
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+2];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    normx, eax;
// LINE 1832:
	__asm        mov    eax, cityy;
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+6];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    normz, eax;
// LINE 1837:
	normy = 0x220000;
// LINE 1839:
	objy = 0x0;
// LINE 1840:
	maxobjy = 0x0;
// LINE 1841:
	stobj = cptr->stptr;
// LINE 1842:
__WHILE_79:
	while ((stobj != 0x0)) {
		// LINE 1844:
			flags = stobj->user1;
		// LINE 1850:
			objy = VRGetObjAlt2(stobj->mesh, normx, normy, normz, flags, 0x3, 0x5, 0x0, 0x0);
		// LINE 1852:
			__asm        mov    eax, objy;
			__asm        cmp    maxobjy, eax;
			__asm        jge    _Tc8;
		// LINE 1853:
			maxobjy = objy;
		// LINE 1854:
		_Tc8:
			stobj = stobj->next;
	}
// LINE 1860:
_Td5:
	__asm        cmp    maxobjy, 0;
	__asm        jne    _Tf9;
// LINE 1861:
	alt = S3TerrPrecisionAlt(cityx, cityy, 0x0);
// LINE 1862:
	__asm        jmp    _T109;
// LINE 1863:
_Tf9:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+4];
	__asm        shl    eax, 0x10;
	__asm        add    eax, maxobjy;
	__asm        mov    alt, eax;
// LINE 1865:
_T109:
	return alt;
// LINE 1866:
}



// Contribution: 3:0001ecb8-0001ee74 Module: 169, 8 byte alignment, initialized_data, read, write, 
// GLOBAL: COPTER_D 0x005b5cb8
long G_tdim = 512;

// GLOBAL: COPTER_D 0x005b5cbc
long G_tmask = 511;

// GLOBAL: COPTER_D 0x005b5cc0
long G_tshift = 9;

// GLOBAL: COPTER_D 0x005b5cc4
long G_morphno = 0;

// GLOBAL: COPTER_D 0x005b5cc8
static unsigned short S_texcycle[4] = {48, 32, 10, 64};

// GLOBAL: COPTER_D 0x005b5cd0
static short S_texlast = 0;

// GLOBAL: COPTER_D 0x005b5cd4
static short S_watercycle1 = 0;

// GLOBAL: COPTER_D 0x005b5cd8
static short S_watercycle2 = 0;

// GLOBAL: COPTER_D 0x005b5cdc
static int32_t S_looptime = 0;

// GLOBAL: COPTER_D 0x005b5ce0
static int32_t S_checktime = 3000;

// GLOBAL: COPTER_D 0x005b5ce4
static short S_cycle = 0;

// GLOBAL: COPTER_D 0x005b5ce8
static short S_array1[32] = {-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1};

// GLOBAL: COPTER_D 0x005b5d28
static short S_array2[32] = {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1};



// Contribution: 3:00093500-00093527 Module: 169, 4 byte alignment, uninitialized_data, read, write, 
// GLOBAL: COPTER_D 0x0062a500
static unsigned short * S_h1;

// GLOBAL: COPTER_D 0x0062a504
static unsigned short * S_h2;

// GLOBAL: COPTER_D 0x0062a508
static unsigned short * S_h3;

// GLOBAL: COPTER_D 0x0062a50c
static unsigned short * S_h4;

// GLOBAL: COPTER_D 0x0062a510
static unsigned short * S_h5;

// GLOBAL: COPTER_D 0x0062a514
static unsigned short * S_h6;

// GLOBAL: COPTER_D 0x0062a518
static unsigned short * S_h7;

// GLOBAL: COPTER_D 0x0062a51c
static unsigned short * S_h8;

// GLOBAL: COPTER_D 0x0062a520
static unsigned short * S_h9;

// GLOBAL: COPTER_D 0x0062a524
static int32_t S_recip_celldim;



// Unknown globals:
// The PDB was slightly corrupted and we aren't sure which file these globals belong to.
// GLOBAL: COPTER_D 0x0067eb20
long G_terr2bmp[128]; // Contrib missing

// GLOBAL: COPTER_D 0x0067eb10
unsigned short * G_tmap; // Contrib missing

// GLOBAL: COPTER_D 0x0066eb00
int32_t G_terr_minalt; // Contrib missing

// GLOBAL: COPTER_D 0x0066eaf8
/*packed*/ struct Point2d G_morphcell; // Contrib missing

// GLOBAL: COPTER_D 0x0067ed28
/*packed*/ struct Point2d G_grid_ulc; // Contrib missing

// GLOBAL: COPTER_D 0x0067ed28
/*packed*/ struct Point2d G_grid_ulc; // Contrib missing

// GLOBAL: COPTER_D 0x0067eb10
unsigned short * G_tmap; // Contrib missing

// GLOBAL: COPTER_D 0x0066eaf8
/*packed*/ struct Point2d G_morphcell; // Contrib missing

// GLOBAL: COPTER_D 0x0067eb20
long G_terr2bmp[128]; // Contrib missing

// GLOBAL: COPTER_D 0x0066eb00
int32_t G_terr_minalt; // Contrib missing

