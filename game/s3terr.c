// Module: S3terr.obj
// Source: C:\Copter\source\game\S3terr.c
// autogenerated by simcopter_tool from PDB file

// Type: unsigned short *;

// Type: unsigned short[4];

// Type: short;

// Type: int32_t;

// Type: short[32];

// Type: long;

// Type: void;

// Type: unsigned char;

// Type: unsigned short;

// Type: int32_t *;

// Type: struct Point2d;
struct Point2d{
	int32_t x;
	int32_t y;
};

// Type: struct Point3d (forward reference);
// Point3d Class implementation not found

// Type: short *;

// Type: struct _CELL_INFO (forward reference);
// _CELL_INFO Class implementation not found

// Type: struct _STOBJ_INST (forward reference);
// _STOBJ_INST Class implementation not found



// Contribution: 1:00112d50-00117f8b Module: 169, 16 byte alignment, code, execute, read, 
// FUNCTION: COPTER_D 0x00513d50
short GetAltitude(int32_t x, int32_t y) {
	short alt;
	short wat;

// LINE 96:
	__asm        cmp    x, 0;
	__asm        jl     _T1d;

	__asm        cmp    y, 0;
	__asm        jge    _T25;
// LINE 97:
_T1d:
	__asm        xor    ax, ax;
	__asm        jmp    _Tc0;
// LINE 98:
_T25:
	__asm        cmp    x, 0x80;
	__asm        jge    _T3f;

	__asm        cmp    y, 0x80;
	__asm        jl     _T47;
// LINE 99:
_T3f:
	__asm        xor    ax, ax;
	__asm        jmp    _Tc0;
// LINE 100:
_T47:
	__asm        mov    eax, x;
	__asm        mov    eax, AltMap[eax*4];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx*2];
	__asm        and    edx, 0x1F;
	__asm        mov    alt, dx;
// LINE 101:
	__asm        mov    eax, x;
	__asm        mov    eax, AltMap[eax*4];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx*2];
	__asm        shr    edx, 5;
	__asm        and    edx, 0x1F;
	__asm        mov    wat, dx;
// LINE 105:
	__asm        movsx  eax, alt;
	__asm        movsx  ecx, wat;
	__asm        cmp    eax, ecx;
	__asm        jge    _Tb7;

	__asm        mov    eax, x;
	__asm        mov    eax, TerrainMap[eax*4];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        cmp    edx, 0xF;
	__asm        jle    _Tb7;
// LINE 106:
	__asm        mov    ax, wat;
	__asm        jmp    _Tc0;
// LINE 107:
	__asm        jmp    _Tc0;
// LINE 108:
_Tb7:
	__asm        mov    ax, alt;
	__asm        jmp    _Tc0;
// LINE 110:
_Tc0:
}

// FUNCTION: COPTER_D 0x00513e15
void S3TerrainInit() {
	long i;

// LINE 130:
	__asm        push   0x400000;
	__asm        push   0x10000;
	__asm        call   0x004D19DF;
	__asm        add    esp, 8;
	__asm        mov    S_recip_celldim, eax;
// LINE 135:
	__asm        mov    i, 0;
	__asm        jmp    _T2f;
_T2c:
	__asm        inc    i;
_T2f:
	__asm        cmp    i, 0x40;
	__asm        jge    _T62;
// LINE 137:
	__asm        mov    eax, i;
	__asm        or     eax, 0x140000;
	__asm        mov    ecx, i;
	__asm        mov    G_terr2bmp[ecx*4], eax;
// LINE 138:
	__asm        mov    eax, i;
	__asm        or     eax, 0xD0000;
	__asm        mov    ecx, i;
	__asm        mov    G_terr2bmp[64][ecx*4], eax;
// LINE 139:
	__asm        jmp    _T2c;
// LINE 143:
_T62:
	__asm        jmp    near ptr 0x00513E7C;
// LINE 144:
}

// FUNCTION: COPTER_D 0x00513e81
short S3TerrainInitMap() {
	static const <NoType> = { /* <data@0x00515521> */ };
	short tile;
	short alt;
	long y;
	long x;
	int32_t k3;
	unsigned char texval;
	short alt2;
	int32_t k2;
	int32_t k1;
	short wflags;

// LINE 164:
	__asm        mov    G_terr_minalt, 0x7530;
// LINE 165:
	__asm        mov    G_terr_maxalt, 0;
// LINE 171:
	__asm        mov    G_tdim, 0x100;
// LINE 172:
	__asm        mov    G_tmask, 0xFF;
// LINE 173:
	__asm        mov    G_tshift, 8;
// LINE 176:
	__asm        mov    eax, G_tdim;
	__asm        imul   eax, G_tdim;
	__asm        add    eax, eax;
	__asm        push   eax;
	__asm        push   0x5B5D68;
	__asm        mov    eax, G_citymempool;
	__asm        push   eax;
	__asm        call   S2AllocMem;
	__asm        add    esp, 0xC;
	__asm        mov    G_tmap, eax;
// LINE 177:
	__asm        cmp    G_tmap, 0;
	__asm        jne    _T7c;
// LINE 178:
	__asm        push   0x5B5D70;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 181:
_T7c:
	__asm        mov    edx, G_tdim;
	__asm        imul   edx, G_tdim;
	__asm        add    edx, edx;
	__asm        mov    edi, G_tmap;
	__asm        xor    eax, eax;
	__asm        mov    ecx, edx;
	__asm        shr    ecx, 2;
	__asm        rep stosd;
	__asm        mov    ecx, edx;
	__asm        and    ecx, 3;
	__asm        rep stosb;
// LINE 190:
	__asm        mov    x, 0;
	__asm        jmp    _Tb0;
_Tad:
	__asm        inc    x;
_Tb0:
	__asm        cmp    x, 0x80;
	__asm        jge    _T1a4;
// LINE 191:
	__asm        mov    y, 0;
	__asm        jmp    _Tcc;
_Tc9:
	__asm        inc    y;
_Tcc:
	__asm        cmp    y, 0x80;
	__asm        jge    _T19f;
// LINE 193:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   GetAltitude;
	__asm        add    esp, 8;
	__asm        mov    alt, ax;
// LINE 195:
	__asm        mov    eax, x;
	__asm        mov    eax, TerrainMap[eax*4];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        cmp    edx, 0xD;
	__asm        je     _T123;

	__asm        mov    eax, x;
	__asm        mov    eax, TerrainMap[eax*4];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        cmp    edx, 0xE;
	__asm        jne    _T127;
// LINE 196:
_T123:
	__asm        inc    alt;
// LINE 199:
_T127:
	__asm        movsx  eax, alt;
	__asm        shl    eax, 5;
	__asm        add    eax, 0x20;
	__asm        mov    alt, ax;
// LINE 202:
	__asm        movsx  eax, alt;
	__asm        cmp    eax, G_terr_maxalt;
	__asm        jle    _T14e;
// LINE 203:
	__asm        movsx  eax, alt;
	__asm        mov    G_terr_maxalt, eax;
// LINE 204:
_T14e:
	__asm        movsx  eax, alt;
	__asm        cmp    eax, G_terr_minalt;
	__asm        jge    _T167;
// LINE 205:
	__asm        movsx  eax, alt;
	__asm        mov    G_terr_minalt, eax;
// LINE 207:
_T167:
	__asm        mov    ax, alt;
	__asm        mov    edx, y;
	__asm        add    edx, edx;
	__asm        inc    edx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, x;
	__asm        add    ecx, ecx;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 208:
	__asm        jmp    _Tc9;
_T19f:
	__asm        jmp    _Tad;
// LINE 211:
_T1a4:
	__asm        sub    G_terr_minalt, 0x32;
// LINE 212:
	__asm        add    G_terr_maxalt, 0x64;
// LINE 213:
	__asm        cmp    G_terr_minalt, 0;
	__asm        jge    _T1c9;

	__asm        mov    G_terr_minalt, 0;
// LINE 219:
_T1c9:
	__asm        mov    x, 1;
	__asm        jmp    _T1d9;
_T1d5:
	__asm        add    x, 2;
_T1d9:
	__asm        cmp    x, 0x100;
	__asm        jge    _T37c;
// LINE 220:
	__asm        mov    y, 0;
	__asm        jmp    _T1f6;
_T1f2:
	__asm        add    y, 2;
_T1f6:
	__asm        cmp    y, 0x100;
	__asm        jg     _T377;
// LINE 222:
	__asm        cmp    y, 0;
	__asm        jne    _T272;
// LINE 224:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        sub    edx, 2;
	__asm        mov    alt, dx;
// LINE 225:
	__asm        mov    ax, alt;
	__asm        mov    edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 227:
	__asm        jmp    _T372;
_T272:
	__asm        cmp    y, 0x100;
	__asm        jne    _T2e4;
// LINE 229:
	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        sub    edx, 2;
	__asm        mov    alt, dx;
// LINE 230:
	__asm        mov    ax, alt;
	__asm        mov    edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 232:
	__asm        jmp    _T372;
// LINE 234:
_T2e4:
	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        add    edx, ebx;
	__asm        sar    edx, 1;
	__asm        mov    alt, dx;
// LINE 235:
	__asm        mov    ax, alt;
	__asm        mov    edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 237:
_T372:
	__asm        jmp    _T1f2;
_T377:
	__asm        jmp    _T1d5;
// LINE 242:
_T37c:
	__asm        mov    y, 1;
	__asm        jmp    _T38c;
_T388:
	__asm        add    y, 2;
_T38c:
	__asm        cmp    y, 0x100;
	__asm        jge    _T52f;
// LINE 243:
	__asm        mov    x, 0;
	__asm        jmp    _T3a9;
_T3a5:
	__asm        add    x, 2;
_T3a9:
	__asm        cmp    x, 0x100;
	__asm        jg     _T52a;
// LINE 245:
	__asm        cmp    x, 0;
	__asm        jne    _T425;
// LINE 247:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        sub    edx, 2;
	__asm        mov    alt, dx;
// LINE 248:
	__asm        mov    ax, alt;
	__asm        mov    edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 250:
	__asm        jmp    _T525;
_T425:
	__asm        cmp    x, 0x100;
	__asm        jne    _T497;
// LINE 252:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        sub    edx, 2;
	__asm        mov    alt, dx;
// LINE 253:
	__asm        mov    ax, alt;
	__asm        mov    edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 255:
	__asm        jmp    _T525;
// LINE 257:
_T497:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        add    edx, ebx;
	__asm        sar    edx, 1;
	__asm        mov    alt, dx;
// LINE 258:
	__asm        mov    ax, alt;
	__asm        mov    edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 260:
_T525:
	__asm        jmp    _T3a5;
_T52a:
	__asm        jmp    _T388;
// LINE 264:
_T52f:
	__asm        mov    y, 0;
	__asm        jmp    _T53f;
_T53b:
	__asm        add    y, 2;
_T53f:
	__asm        cmp    y, 0x100;
	__asm        jg     _T6de;
// LINE 265:
	__asm        mov    x, 0;
	__asm        jmp    _T55c;
_T558:
	__asm        add    x, 2;
_T55c:
	__asm        cmp    x, 0x100;
	__asm        jg     _T6d9;
// LINE 267:
	__asm        cmp    x, 0;
	__asm        jne    _T5d6;
// LINE 269:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        dec    edx;
	__asm        mov    alt, dx;
// LINE 270:
	__asm        mov    ax, alt;
	__asm        mov    edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 272:
	__asm        jmp    _T6d4;
_T5d6:
	__asm        cmp    x, 0x100;
	__asm        jne    _T646;
// LINE 274:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        dec    edx;
	__asm        mov    alt, dx;
// LINE 275:
	__asm        mov    ax, alt;
	__asm        mov    edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 277:
	__asm        jmp    _T6d4;
// LINE 279:
_T646:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        add    edx, ebx;
	__asm        sar    edx, 1;
	__asm        mov    alt, dx;
// LINE 280:
	__asm        mov    ax, alt;
	__asm        mov    edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 282:
_T6d4:
	__asm        jmp    _T558;
_T6d9:
	__asm        jmp    _T53b;
// LINE 290:
_T6de:
	__asm        mov    y, 0;
	__asm        jmp    _T6ed;
_T6ea:
	__asm        inc    y;
_T6ed:
	__asm        cmp    y, 0x80;
	__asm        jge    _T7bf;
// LINE 292:
	__asm        mov    x, 0;
	__asm        jmp    _T709;
_T706:
	__asm        inc    x;
_T709:
	__asm        cmp    x, 0x80;
	__asm        jge    _T771;
// LINE 294:
	__asm        mov    eax, y;
	__asm        add    eax, eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        add    ecx, ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    ax, [eax+ecx];
	__asm        mov    edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 295:
	__asm        jmp    _T706;
// LINE 298:
_T771:
	__asm        mov    eax, G_tdim;
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        lea    edx, [eax*2];
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    edi, eax;
	__asm        xor    eax, eax;
	__asm        mov    ecx, edx;
	__asm        shr    ecx, 2;
	__asm        rep stosd;
	__asm        mov    ecx, edx;
	__asm        and    ecx, 3;
	__asm        rep stosb;
// LINE 299:
	__asm        jmp    _T6ea;
// LINE 302:
_T7bf:
	__asm        mov    y, 0x80;
	__asm        jmp    _T7ce;
_T7cb:
	__asm        inc    y;
_T7ce:
	__asm        mov    eax, G_tdim;
	__asm        cmp    y, eax;
	__asm        jge    _T814;
// LINE 304:
	__asm        mov    edx, G_tdim;
	__asm        add    edx, edx;
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        add    eax, eax;
	__asm        add    eax, G_tmap;
	__asm        mov    edi, eax;
	__asm        xor    eax, eax;
	__asm        mov    ecx, edx;
	__asm        shr    ecx, 2;
	__asm        rep stosd;
	__asm        mov    ecx, edx;
	__asm        and    ecx, 3;
	__asm        rep stosb;
// LINE 305:
	__asm        jmp    _T7cb;
// LINE 311:
_T814:
	__asm        mov    y, 0;
	__asm        jmp    _T823;
_T820:
	__asm        inc    y;
_T823:
	__asm        cmp    y, 0x80;
	__asm        jge    _T8ce;
// LINE 313:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, 0x7F;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    ax, [eax+ecx];
	__asm        mov    edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, 0x80;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 314:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, 1;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    ax, [eax+ecx];
	__asm        mov    edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmap;
	__asm        mov    [ecx+edx*2], ax;
// LINE 315:
	__asm        jmp    _T820;
// LINE 317:
_T8ce:
	__asm        mov    x, 0;
	__asm        jmp    _T8dd;
_T8da:
	__asm        inc    x;
_T8dd:
	__asm        cmp    x, 0x80;
	__asm        jge    _T98d;
// LINE 319:
	__asm        mov    eax, G_tmask;
	__asm        and    eax, 0x7F;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    ax, [eax+ecx];
	__asm        mov    edx, G_tmask;
	__asm        and    edx, 0x80;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 320:
	__asm        mov    eax, G_tmask;
	__asm        and    eax, 1;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    ax, [eax+ecx];
	__asm        xor    edx, edx;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 321:
	__asm        jmp    _T8da;
// LINE 324:
_T98d:
	__asm        mov    eax, G_tmask;
	__asm        and    eax, 0x7F;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, 0x7F;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 326:
	__asm        mov    x, 0x80;
	__asm        jmp    _T9c8;
_T9c5:
	__asm        inc    x;
_T9c8:
	__asm        cmp    x, 0x90;
	__asm        jg     _Ta28;
// LINE 328:
	__asm        mov    y, 0x80;
	__asm        jmp    _T9e4;
_T9e1:
	__asm        inc    y;
_T9e4:
	__asm        cmp    y, 0x90;
	__asm        jg     _Ta23;
// LINE 330:
	__asm        mov    ax, alt;
	__asm        mov    edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 331:
	__asm        jmp    _T9e1;
// LINE 332:
_Ta23:
	__asm        jmp    _T9c5;
// LINE 343:
_Ta28:
	__asm        call   clock;
	__asm        push   eax;
	__asm        call   srand;
	__asm        add    esp, 4;
// LINE 344:
	__asm        mov    eax, G_tdim;
	__asm        push   eax;
	__asm        push   0;
	__asm        push   0;
	__asm        call   do_map_square;
	__asm        add    esp, 0xC;
// LINE 349:
	__asm        cmp    G_fract_blurr, 1;
	__asm        jne    _Tbc2;
// LINE 351:
	__asm        mov    k1, 0x30A3;
// LINE 352:
	__asm        mov    k2, 0x547A;
// LINE 353:
	__asm        mov    k3, 0x7AE1;
// LINE 354:
	__asm        mov    x, 0;
	__asm        jmp    _Ta79;
_Ta76:
	__asm        inc    x;
_Ta79:
	__asm        mov    eax, G_tdim;
	__asm        cmp    x, eax;
	__asm        jg     _Tbc2;
// LINE 356:
	__asm        mov    y, 0;
	__asm        jmp    _Ta96;
_Ta93:
	__asm        inc    y;
_Ta96:
	__asm        mov    eax, G_tdim;
	__asm        cmp    y, eax;
	__asm        jg     _Tbbd;
// LINE 359:
	__asm        mov    eax, G_tdim;
	__asm        sar    eax, 1;
	__asm        cmp    eax, x;
	__asm        jle    _Tacb;

	__asm        mov    eax, G_tdim;
	__asm        sar    eax, 1;
	__asm        cmp    eax, y;
	__asm        jle    _Tacb;

	__asm        jmp    _Ta93;
// LINE 365:
_Tacb:
	__asm        mov    eax, y;
	__asm        add    eax, 2;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        sub    ecx, 2;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        push   edx;
	__asm        mov    eax, k3;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ebx, eax;
	__asm        mov    eax, y;
	__asm        sub    eax, 2;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        push   edx;
	__asm        mov    eax, k2;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        add    ebx, eax;
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        push   edx;
	__asm        mov    eax, k1;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        add    ebx, eax;
	__asm        sar    ebx, 0x10;
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [eax+ecx], bx;
// LINE 366:
	__asm        jmp    _Ta93;
// LINE 367:
_Tbbd:
	__asm        jmp    _Ta76;
// LINE 375:
_Tbc2:
	__asm        call   AdjustTerrainMap;
// LINE 383:
	__asm        mov    x, 0;
	__asm        jmp    _Tbd6;
_Tbd3:
	__asm        inc    x;
_Tbd6:
	__asm        cmp    x, 0x100;
	__asm        jge    _Tc1a;
// LINE 385:
	__asm        mov    y, 0;
	__asm        jmp    _Tbf2;
_Tbef:
	__asm        inc    y;
_Tbf2:
	__asm        cmp    y, 0x100;
	__asm        jge    _Tc15;
// LINE 395:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    G_texmap[0][eax+ecx], 0x30;
// LINE 396:
	__asm        jmp    _Tbef;
// LINE 397:
_Tc15:
	__asm        jmp    _Tbd3;
// LINE 402:
_Tc1a:
	__asm        mov    x, 0;
	__asm        jmp    _Tc29;
_Tc26:
	__asm        inc    x;
_Tc29:
	__asm        cmp    x, 0x80;
	__asm        jge    _Td8d;
// LINE 404:
	__asm        mov    y, 0;
	__asm        jmp    _Tc45;
_Tc42:
	__asm        inc    y;
_Tc45:
	__asm        cmp    y, 0x80;
	__asm        jge    _Td88;
// LINE 406:
	__asm        mov    eax, x;
	__asm        mov    eax, BuildMap[eax*4];
	__asm        mov    ecx, y;
	__asm        movzx  ax, byte ptr [eax+ecx];
	__asm        mov    tile, ax;
// LINE 407:
	__asm        movsx  eax, tile;
	__asm        test   eax, eax;
	__asm        jle    _Tcad;

	__asm        movsx  eax, tile;
	__asm        cmp    eax, 5;
	__asm        jge    _Tcad;
// LINE 409:
	__asm        call   rand;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        and    eax, 1;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        add    eax, 0xA;
	__asm        mov    ecx, y;
	__asm        mov    edx, x;
	__asm        shl    edx, 8;
	__asm        mov    G_texmap[0][ecx+edx], al;
// LINE 412:
	__asm        jmp    _Td83;
_Tcad:
	__asm        movsx  eax, tile;
	__asm        cmp    eax, 6;
	__asm        jl     _Tcc7;

	__asm        movsx  eax, tile;
	__asm        cmp    eax, 0xD;
	__asm        jle    _Tcd6;
_Tcc7:
	__asm        movsx  eax, tile;
	__asm        cmp    eax, 0xD5;
	__asm        jne    _Tcec;
// LINE 414:
_Tcd6:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    G_texmap[0][eax+ecx], 0x20;
// LINE 416:
	__asm        jmp    _Td83;
_Tcec:
	__asm        mov    eax, x;
	__asm        mov    eax, TerrainMap[eax*4];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        cmp    edx, 0xF;
	__asm        jle    _Td83;
// LINE 418:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    G_texmap[0][eax+ecx], 5;
// LINE 420:
	__asm        test   reinterpret_cast<uint8_t>(x), 1;
	__asm        jne    _Td83;

	__asm        test   reinterpret_cast<uint8_t>(y), 1;
	__asm        jne    _Td83;
// LINE 421:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        sub    edx, 8;
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [eax+ecx], dx;
// LINE 423:
_Td83:
	__asm        jmp    _Tc42;
// LINE 424:
_Td88:
	__asm        jmp    _Tc26;
// LINE 430:
_Td8d:
	__asm        mov    x, 1;
	__asm        jmp    _Td9c;
_Td99:
	__asm        inc    x;
_Td9c:
	__asm        cmp    x, 0x7F;
	__asm        jge    _Tee7;
// LINE 432:
	__asm        mov    y, 1;
	__asm        jmp    _Tdb5;
_Tdb2:
	__asm        inc    y;
_Tdb5:
	__asm        cmp    y, 0x7F;
	__asm        jge    _Tee2;
// LINE 434:
// Block start:
	unsigned char texid;
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    al, G_texmap[0][eax+ecx];
	__asm        mov    texid, al;
// LINE 436:
	__asm        xor    eax, eax;
	__asm        mov    al, texid;
	__asm        cmp    eax, 0x30;
	__asm        je     _Tdee;

	__asm        xor    eax, eax;
	__asm        mov    al, texid;
	__asm        cmp    eax, 0x20;
	__asm        jne    _Tedd;
// LINE 445:
_Tdee:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx+0x66EB0F];
	__asm        cmp    edx, 5;
	__asm        je     _Tecc;

	__asm        mov    eax, x;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx+0x66EB0F];
	__asm        cmp    edx, 5;
	__asm        je     _Tecc;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx+0x66EB0F];
	__asm        cmp    edx, 5;
	__asm        je     _Tecc;

	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        je     _Tecc;

	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        je     _Tecc;

	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][1][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        je     _Tecc;

	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][1][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        je     _Tecc;

	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][1][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jne    _Tedd;
// LINE 447:
_Tecc:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    G_texmap[0][eax+ecx], 0x10;
// LINE 450:
// Block end:
_Tedd:
	__asm        jmp    _Tdb2;
// LINE 451:
_Tee2:
	__asm        jmp    _Td99;
// LINE 456:
_Tee7:
	__asm        mov    x, 1;
	__asm        jmp    _Tef6;
_Tef3:
	__asm        inc    x;
_Tef6:
	__asm        cmp    x, 0x7F;
	__asm        jge    _T1033;
// LINE 458:
	__asm        mov    y, 1;
	__asm        jmp    _Tf0f;
_Tf0c:
	__asm        inc    y;
_Tf0f:
	__asm        cmp    y, 0x7F;
	__asm        jge    _T102e;
// LINE 460:
// Block start:
	unsigned char texid;
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    al, G_texmap[0][eax+ecx];
	__asm        mov    texid, al;
// LINE 462:
	__asm        xor    eax, eax;
	__asm        mov    al, texid;
	__asm        cmp    eax, 0x30;
	__asm        jne    _T1029;
// LINE 471:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx+0x66EB0F];
	__asm        cmp    edx, 0x10;
	__asm        je     _T1018;

	__asm        mov    eax, x;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx+0x66EB0F];
	__asm        cmp    edx, 0x10;
	__asm        je     _T1018;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx+0x66EB0F];
	__asm        cmp    edx, 0x10;
	__asm        je     _T1018;

	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x10;
	__asm        je     _T1018;

	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x10;
	__asm        je     _T1018;

	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][1][eax+ecx];
	__asm        cmp    edx, 0x10;
	__asm        je     _T1018;

	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][1][eax+ecx];
	__asm        cmp    edx, 0x10;
	__asm        je     _T1018;

	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][1][eax+ecx];
	__asm        cmp    edx, 0x10;
	__asm        jne    _T1029;
// LINE 473:
_T1018:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    G_texmap[0][eax+ecx], 0x20;
// LINE 476:
// Block end:
_T1029:
	__asm        jmp    _Tf0c;
// LINE 477:
_T102e:
	__asm        jmp    _Tef3;
// LINE 482:
_T1033:
	__asm        mov    x, 0;
	__asm        jmp    _T1042;
_T103f:
	__asm        inc    x;
_T1042:
	__asm        cmp    x, 0x80;
	__asm        jge    _T15fa;
// LINE 484:
	__asm        mov    y, 0;
	__asm        jmp    _T105e;
_T105b:
	__asm        inc    y;
_T105e:
	__asm        cmp    y, 0x80;
	__asm        jge    _T15f5;
// LINE 487:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        je     _T108b;
// LINE 488:
	__asm        jmp    _T105b;
// LINE 490:
_T108b:
	__asm        mov    wflags, 0;
// LINE 493:
	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        test   edx, edx;
	__asm        jl     _T10e0;

	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T113b;
_T10e0:
	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T1130;

	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0xA;
	__asm        jl     _T113b;
// LINE 494:
_T1130:
	__asm        movsx  eax, wflags;
	__asm        or     eax, 1;
	__asm        mov    wflags, ax;
// LINE 495:
_T113b:
	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        test   edx, edx;
	__asm        jl     _T1188;

	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T11e1;
_T1188:
	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T11d6;

	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0xA;
	__asm        jl     _T11e1;
// LINE 496:
_T11d6:
	__asm        movsx  eax, wflags;
	__asm        or     eax, 2;
	__asm        mov    wflags, ax;
// LINE 497:
_T11e1:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        dec    ecx;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        test   edx, edx;
	__asm        jl     _T1230;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        dec    ecx;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T128b;
_T1230:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        dec    ecx;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T1280;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        dec    ecx;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0xA;
	__asm        jl     _T128b;
// LINE 498:
_T1280:
	__asm        movsx  eax, wflags;
	__asm        or     eax, 4;
	__asm        mov    wflags, ax;
// LINE 499:
_T128b:
	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        test   edx, edx;
	__asm        jl     _T12d8;

	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T1331;
_T12d8:
	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T1326;

	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0xA;
	__asm        jl     _T1331;
// LINE 500:
_T1326:
	__asm        movsx  eax, wflags;
	__asm        or     eax, 8;
	__asm        mov    wflags, ax;
// LINE 501:
_T1331:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        test   edx, edx;
	__asm        jl     _T137e;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T13d7;
_T137e:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T13cc;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0xA;
	__asm        jl     _T13d7;
// LINE 502:
_T13cc:
	__asm        movsx  eax, wflags;
	__asm        or     eax, 0x10;
	__asm        mov    wflags, ax;
// LINE 503:
_T13d7:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        test   edx, edx;
	__asm        jl     _T1426;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T1481;
_T1426:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T1476;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0xA;
	__asm        jl     _T1481;
// LINE 504:
_T1476:
	__asm        movsx  eax, wflags;
	__asm        or     eax, 0x20;
	__asm        mov    wflags, ax;
// LINE 505:
_T1481:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        test   edx, edx;
	__asm        jl     _T14ce;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T1527;
_T14ce:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T151c;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0xA;
	__asm        jl     _T1527;
// LINE 506:
_T151c:
	__asm        movsx  eax, wflags;
	__asm        or     eax, 0x40;
	__asm        mov    wflags, ax;
// LINE 507:
_T1527:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        test   edx, edx;
	__asm        jl     _T1576;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T15d3;
_T1576:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T15c6;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0xA;
	__asm        jl     _T15d3;
// LINE 508:
_T15c6:
	__asm        movsx  eax, wflags;
	__asm        or     eax, 0x80;
	__asm        mov    wflags, ax;
// LINE 510:
_T15d3:
	__asm        movsx  eax, wflags;
	__asm        test   eax, eax;
	__asm        je     _T15f0;
// LINE 511:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    G_texmap[0][eax+ecx], 0;
// LINE 513:
_T15f0:
	__asm        jmp    _T105b;
// LINE 514:
_T15f5:
	__asm        jmp    _T103f;
// LINE 520:
_T15fa:
	__asm        mov    y, 0;
	__asm        jmp    _T1609;
_T1606:
	__asm        inc    y;
_T1609:
	__asm        cmp    y, 0x80;
	__asm        jge    _T17dc;
// LINE 522:
	__asm        mov    x, 0;
	__asm        jmp    _T1625;
_T1622:
	__asm        inc    x;
_T1625:
	__asm        cmp    x, 0x80;
	__asm        jge    _T17d7;
// LINE 525:
	__asm        mov    eax, x;
	__asm        mov    eax, BuildMap[eax*4];
	__asm        mov    ecx, y;
	__asm        movzx  ax, byte ptr [eax+ecx];
	__asm        mov    tile, ax;
// LINE 526:
	__asm        movsx  eax, tile;
	__asm        cmp    eax, 0x70;
	__asm        jge    _T16be;
// LINE 532:
	__asm        movsx  eax, tile;
	__asm        mov    [ebp-0x34], eax;
	__asm        jmp    _T1670;
// LINE 556:
	__asm        jmp    _T16be;
// LINE 558:
	__asm        jmp    _T1622;
// LINE 559:
	__asm        jmp    _T16be;
_T1670:
	__asm        sub    dword ptr [ebp-0x34], 0x1D;
	__asm        cmp    dword ptr [ebp-0x34], 0x1D;
	__asm        ja     _T1622;

	__asm        mov    eax, [ebp-0x34];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, SwitchPointers5330193[16][eax];
	__asm        jmp    SwitchPointers5330193[0][ecx*4];
// Switch pointers
// Switch table
// LINE 562:
_T16be:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   GetAltitude;
	__asm        add    esp, 8;
	__asm        mov    alt, ax;
// LINE 563:
	__asm        mov    eax, x;
	__asm        mov    eax, TerrainMap[eax*4];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        cmp    edx, 0xD;
	__asm        je     _T1708;

	__asm        mov    eax, x;
	__asm        mov    eax, TerrainMap[eax*4];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        cmp    edx, 0xE;
	__asm        jne    _T170c;
// LINE 564:
_T1708:
	__asm        inc    alt;
// LINE 565:
_T170c:
	__asm        movsx  eax, alt;
	__asm        shl    eax, 5;
	__asm        add    eax, 0x20;
	__asm        mov    alt, ax;
// LINE 566:
	__asm        mov    ax, alt;
	__asm        mov    edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 567:
	__asm        mov    ax, alt;
	__asm        mov    edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 568:
	__asm        mov    ax, alt;
	__asm        mov    edx, y;
	__asm        inc    edx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 569:
	__asm        mov    ax, alt;
	__asm        mov    edx, y;
	__asm        inc    edx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 570:
	__asm        jmp    _T1622;
// LINE 572:
_T17d7:
	__asm        jmp    _T1606;
// LINE 578:
_T17dc:
	__asm        mov    eax, G_terr_maxalt;
	__asm        sub    eax, G_terr_minalt;
	__asm        mov    alt2, ax;
// LINE 579:
	__asm        movsx  eax, alt2;
	__asm        sar    eax, 4;
	__asm        mov    alt2, ax;
// LINE 584:
	__asm        mov    x, 0;
	__asm        jmp    _T1805;
_T1802:
	__asm        inc    x;
_T1805:
	__asm        cmp    x, 0x100;
	__asm        jge    _T195c;
// LINE 586:
	__asm        mov    y, 0;
	__asm        jmp    _T1821;
_T181e:
	__asm        inc    y;
_T1821:
	__asm        cmp    y, 0x100;
	__asm        jge    _T1957;
// LINE 589:
	__asm        cmp    x, 0x80;
	__asm        jge    _T184d;

	__asm        cmp    y, 0x80;
	__asm        jge    _T184d;
// LINE 590:
	__asm        jmp    _T181e;
// LINE 593:
_T184d:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 594:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 595:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 596:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 597:
	__asm        movsx  eax, alt;
	__asm        sar    eax, 2;
	__asm        mov    alt, ax;
// LINE 599:
	__asm        movsx  eax, alt2;
	__asm        sar    eax, 1;
	__asm        add    eax, G_terr_minalt;
	__asm        movsx  ecx, alt;
	__asm        cmp    eax, ecx;
	__asm        jl     _T1952;
// LINE 600:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    G_texmap[0][eax+ecx], 0;
// LINE 601:
_T1952:
	__asm        jmp    _T181e;
// LINE 602:
_T1957:
	__asm        jmp    _T1802;
// LINE 605:
_T195c:
	__asm        mov    x, 0;
	__asm        jmp    _T196b;
_T1968:
	__asm        inc    x;
_T196b:
	__asm        cmp    x, 0x100;
	__asm        jge    _T1b71;
// LINE 607:
	__asm        mov    y, 0;
	__asm        jmp    _T1987;
_T1984:
	__asm        inc    y;
_T1987:
	__asm        cmp    y, 0x100;
	__asm        jge    _T1b6c;
// LINE 616:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 617:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 618:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 619:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 620:
	__asm        movsx  eax, alt;
	__asm        sar    eax, 2;
	__asm        mov    alt, ax;
// LINE 622:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        jne    _T1b67;
// LINE 627:
	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        test   edx, edx;
	__asm        je     _T1b2d;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        test   edx, edx;
	__asm        je     _T1b2d;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        test   edx, edx;
	__asm        je     _T1b2d;

	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T1b3e;
// LINE 629:
_T1b2d:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    G_texmap[0][eax+ecx], 0x10;
// LINE 634:
_T1b3e:
	__asm        movsx  eax, alt2;
	__asm        add    eax, eax;
	__asm        add    eax, G_terr_minalt;
	__asm        movsx  ecx, alt;
	__asm        cmp    eax, ecx;
	__asm        jl     _T1b67;
// LINE 635:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    G_texmap[0][eax+ecx], 0x10;
// LINE 637:
_T1b67:
	__asm        jmp    _T1984;
// LINE 638:
_T1b6c:
	__asm        jmp    _T1968;
// LINE 641:
_T1b71:
	__asm        mov    x, 0;
	__asm        jmp    _T1b80;
_T1b7d:
	__asm        inc    x;
_T1b80:
	__asm        cmp    x, 0x100;
	__asm        jge    _T1d8b;
// LINE 643:
	__asm        mov    y, 0;
	__asm        jmp    _T1b9c;
_T1b99:
	__asm        inc    y;
_T1b9c:
	__asm        cmp    y, 0x100;
	__asm        jge    _T1d86;
// LINE 652:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 653:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 654:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 655:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 656:
	__asm        movsx  eax, alt;
	__asm        sar    eax, 2;
	__asm        mov    alt, ax;
// LINE 658:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        jne    _T1d81;
// LINE 663:
	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x10;
	__asm        je     _T1d46;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x10;
	__asm        je     _T1d46;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x10;
	__asm        je     _T1d46;

	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x10;
	__asm        jne    _T1d57;
// LINE 665:
_T1d46:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    G_texmap[0][eax+ecx], 0x20;
// LINE 669:
_T1d57:
	__asm        movsx  eax, alt2;
	__asm        lea    eax, [eax+eax*4];
	__asm        add    eax, G_terr_minalt;
	__asm        movsx  ecx, alt;
	__asm        cmp    eax, ecx;
	__asm        jl     _T1d81;
// LINE 670:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    G_texmap[0][eax+ecx], 0x20;
// LINE 672:
_T1d81:
	__asm        jmp    _T1b99;
// LINE 673:
_T1d86:
	__asm        jmp    _T1b7d;
// LINE 677:
_T1d8b:
	__asm        mov    x, 0x80;
	__asm        jmp    _T1d9a;
_T1d97:
	__asm        inc    x;
_T1d9a:
	__asm        cmp    x, 0x84;
	__asm        jge    _T1dde;
// LINE 679:
	__asm        mov    y, 0x80;
	__asm        jmp    _T1db6;
_T1db3:
	__asm        inc    y;
_T1db6:
	__asm        cmp    y, 0x84;
	__asm        jge    _T1dd9;
// LINE 681:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    G_texmap[0][eax+ecx], 0x20;
// LINE 682:
	__asm        jmp    _T1db3;
// LINE 683:
_T1dd9:
	__asm        jmp    _T1d97;
// LINE 686:
_T1dde:
	__asm        mov    x, 0;
	__asm        jmp    _T1ded;
_T1dea:
	__asm        inc    x;
_T1ded:
	__asm        cmp    x, 0x100;
	__asm        jge    _T2090;
// LINE 688:
	__asm        mov    y, 0;
	__asm        jmp    _T1e09;
_T1e06:
	__asm        inc    y;
_T1e09:
	__asm        cmp    y, 0x100;
	__asm        jge    _T208b;
// LINE 696:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        je     _T1e41;
// LINE 697:
	__asm        jmp    _T1e06;
// LINE 700:
_T1e41:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 701:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 702:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 703:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 704:
	__asm        movsx  eax, alt;
	__asm        sar    eax, 2;
	__asm        mov    alt, ax;
// LINE 707:
	__asm        mov    eax, G_terr_maxalt;
	__asm        movsx  ecx, alt2;
	__asm        lea    ecx, [ecx+ecx*2];
	__asm        add    ecx, ecx;
	__asm        sub    eax, ecx;
	__asm        movsx  ecx, alt;
	__asm        cmp    eax, ecx;
	__asm        jle    _T1f3d;
// LINE 710:
	__asm        jmp    _T1e06;
// LINE 719:
_T1f3d:
	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        je     _T1f8b;

	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jne    _T2086;
_T1f8b:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        je     _T1fd9;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jne    _T2086;
_T1fd9:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        je     _T2027;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jne    _T2086;
_T2027:
	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        je     _T2075;

	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jne    _T2086;
// LINE 721:
_T2075:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    G_texmap[0][eax+ecx], 0x40;
// LINE 724:
_T2086:
	__asm        jmp    _T1e06;
// LINE 725:
_T208b:
	__asm        jmp    _T1dea;
// LINE 728:
_T2090:
	__asm        mov    x, 0;
	__asm        jmp    _T209f;
_T209c:
	__asm        inc    x;
_T209f:
	__asm        cmp    x, 0x100;
	__asm        jge    _T2340;
// LINE 730:
	__asm        mov    y, 0;
	__asm        jmp    _T20bb;
_T20b8:
	__asm        inc    y;
_T20bb:
	__asm        cmp    y, 0x100;
	__asm        jge    _T233b;
// LINE 738:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        je     _T20f3;
// LINE 739:
	__asm        jmp    _T20b8;
// LINE 742:
_T20f3:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 743:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 744:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 745:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 746:
	__asm        movsx  eax, alt;
	__asm        sar    eax, 2;
	__asm        mov    alt, ax;
// LINE 749:
	__asm        mov    eax, G_terr_maxalt;
	__asm        movsx  ecx, alt2;
	__asm        lea    ecx, [ecx+ecx*2];
	__asm        sub    eax, ecx;
	__asm        movsx  ecx, alt;
	__asm        cmp    eax, ecx;
	__asm        jle    _T21ed;
// LINE 752:
	__asm        jmp    _T20b8;
// LINE 761:
_T21ed:
	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        je     _T223b;

	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jne    _T2336;
_T223b:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        je     _T2289;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jne    _T2336;
_T2289:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        je     _T22d7;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jne    _T2336;
_T22d7:
	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        je     _T2325;

	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jne    _T2336;
// LINE 763:
_T2325:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    G_texmap[0][eax+ecx], 0x50;
// LINE 766:
_T2336:
	__asm        jmp    _T20b8;
// LINE 767:
_T233b:
	__asm        jmp    _T209c;
// LINE 770:
_T2340:
	__asm        mov    x, 0;
	__asm        jmp    _T234f;
_T234c:
	__asm        inc    x;
_T234f:
	__asm        cmp    x, 0x100;
	__asm        jge    _T25ec;
// LINE 772:
	__asm        mov    y, 0;
	__asm        jmp    _T236b;
_T2368:
	__asm        inc    y;
_T236b:
	__asm        cmp    y, 0x100;
	__asm        jge    _T25e7;
// LINE 780:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        je     _T23a3;
// LINE 781:
	__asm        jmp    _T2368;
// LINE 784:
_T23a3:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 785:
	__asm        mov    eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 786:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 787:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt;
	__asm        add    edx, eax;
	__asm        mov    alt, dx;
// LINE 788:
	__asm        movsx  eax, alt;
	__asm        sar    eax, 2;
	__asm        mov    alt, ax;
// LINE 791:
	__asm        movsx  eax, alt2;
	__asm        add    eax, G_terr_maxalt;
	__asm        movsx  ecx, alt;
	__asm        cmp    eax, ecx;
	__asm        jle    _T2499;
// LINE 794:
	__asm        jmp    _T2368;
// LINE 803:
_T2499:
	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        je     _T24e7;

	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x60;
	__asm        jne    _T25e2;
_T24e7:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        je     _T2535;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x60;
	__asm        jne    _T25e2;
_T2535:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        je     _T2583;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x60;
	__asm        jne    _T25e2;
_T2583:
	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        je     _T25d1;

	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x60;
	__asm        jne    _T25e2;
// LINE 805:
_T25d1:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    G_texmap[0][eax+ecx], 0x60;
// LINE 808:
_T25e2:
	__asm        jmp    _T2368;
// LINE 809:
_T25e7:
	__asm        jmp    _T234c;
// LINE 812:
_T25ec:
	__asm        mov    x, 0;
	__asm        jmp    _T25fb;
_T25f8:
	__asm        inc    x;
_T25fb:
	__asm        cmp    x, 0x100;
	__asm        jge    _T3135;
// LINE 814:
	__asm        mov    y, 0;
	__asm        jmp    _T2617;
_T2614:
	__asm        inc    y;
_T2617:
	__asm        cmp    y, 0x100;
	__asm        jge    _T3130;
// LINE 816:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x10;
	__asm        jne    _T28fc;
// LINE 818:
	__asm        mov    texval, 0x10;
// LINE 821:
	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        test   edx, edx;
	__asm        jl     _T269b;

	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T26e9;
_T269b:
	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T26f2;

	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0xA;
	__asm        jge    _T26f2;
// LINE 822:
_T26e9:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        inc    eax;
	__asm        mov    texval, al;
// LINE 824:
_T26f2:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        test   edx, edx;
	__asm        jl     _T273f;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T278d;
_T273f:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T2798;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0xA;
	__asm        jge    _T2798;
// LINE 825:
_T278d:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 2;
	__asm        mov    texval, al;
// LINE 827:
_T2798:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        test   edx, edx;
	__asm        jl     _T27e5;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T2833;
_T27e5:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T283e;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0xA;
	__asm        jge    _T283e;
// LINE 828:
_T2833:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 4;
	__asm        mov    texval, al;
// LINE 830:
_T283e:
	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        test   edx, edx;
	__asm        jl     _T288b;

	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T28d9;
_T288b:
	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jl     _T28e4;

	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0xA;
	__asm        jge    _T28e4;
// LINE 831:
_T28d9:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 8;
	__asm        mov    texval, al;
// LINE 832:
_T28e4:
	__asm        mov    al, texval;
	__asm        mov    ecx, y;
	__asm        mov    edx, x;
	__asm        shl    edx, 8;
	__asm        mov    G_texmap[0][ecx+edx], al;
// LINE 834:
	__asm        jmp    _T312b;
_T28fc:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x20;
	__asm        jne    _T2aa0;
// LINE 836:
	__asm        mov    texval, 0x20;
// LINE 839:
	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x10;
	__asm        jl     _T297d;

	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x20;
	__asm        jge    _T297d;
// LINE 840:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        inc    eax;
	__asm        mov    texval, al;
// LINE 842:
_T297d:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x10;
	__asm        jl     _T29d6;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x20;
	__asm        jge    _T29d6;
// LINE 843:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 2;
	__asm        mov    texval, al;
// LINE 845:
_T29d6:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x10;
	__asm        jl     _T2a2f;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x20;
	__asm        jge    _T2a2f;
// LINE 846:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 4;
	__asm        mov    texval, al;
// LINE 848:
_T2a2f:
	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x10;
	__asm        jl     _T2a88;

	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x20;
	__asm        jge    _T2a88;
// LINE 849:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 8;
	__asm        mov    texval, al;
// LINE 850:
_T2a88:
	__asm        mov    al, texval;
	__asm        mov    ecx, y;
	__asm        mov    edx, x;
	__asm        shl    edx, 8;
	__asm        mov    G_texmap[0][ecx+edx], al;
// LINE 852:
	__asm        jmp    _T312b;
_T2aa0:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        jne    _T2c44;
// LINE 854:
	__asm        mov    texval, 0x30;
// LINE 857:
	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x20;
	__asm        jl     _T2b21;

	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        jge    _T2b21;
// LINE 858:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        inc    eax;
	__asm        mov    texval, al;
// LINE 860:
_T2b21:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x20;
	__asm        jl     _T2b7a;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        jge    _T2b7a;
// LINE 861:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 2;
	__asm        mov    texval, al;
// LINE 863:
_T2b7a:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x20;
	__asm        jl     _T2bd3;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        jge    _T2bd3;
// LINE 864:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 4;
	__asm        mov    texval, al;
// LINE 866:
_T2bd3:
	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x20;
	__asm        jl     _T2c2c;

	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        jge    _T2c2c;
// LINE 867:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 8;
	__asm        mov    texval, al;
// LINE 868:
_T2c2c:
	__asm        mov    al, texval;
	__asm        mov    ecx, y;
	__asm        mov    edx, x;
	__asm        shl    edx, 8;
	__asm        mov    G_texmap[0][ecx+edx], al;
// LINE 870:
	__asm        jmp    _T312b;
_T2c44:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jne    _T2de8;
// LINE 872:
	__asm        mov    texval, 0x40;
// LINE 875:
	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        jl     _T2cc5;

	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jge    _T2cc5;
// LINE 876:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        inc    eax;
	__asm        mov    texval, al;
// LINE 878:
_T2cc5:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        jl     _T2d1e;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jge    _T2d1e;
// LINE 879:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 2;
	__asm        mov    texval, al;
// LINE 881:
_T2d1e:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        jl     _T2d77;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jge    _T2d77;
// LINE 882:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 4;
	__asm        mov    texval, al;
// LINE 884:
_T2d77:
	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        jl     _T2dd0;

	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jge    _T2dd0;
// LINE 885:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 8;
	__asm        mov    texval, al;
// LINE 886:
_T2dd0:
	__asm        mov    al, texval;
	__asm        mov    ecx, y;
	__asm        mov    edx, x;
	__asm        shl    edx, 8;
	__asm        mov    G_texmap[0][ecx+edx], al;
// LINE 888:
	__asm        jmp    _T312b;
_T2de8:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        jne    _T2f8c;
// LINE 890:
	__asm        mov    texval, 0x50;
// LINE 893:
	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jl     _T2e69;

	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        jge    _T2e69;
// LINE 894:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        inc    eax;
	__asm        mov    texval, al;
// LINE 896:
_T2e69:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jl     _T2ec2;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        jge    _T2ec2;
// LINE 897:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 2;
	__asm        mov    texval, al;
// LINE 899:
_T2ec2:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jl     _T2f1b;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        jge    _T2f1b;
// LINE 900:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 4;
	__asm        mov    texval, al;
// LINE 902:
_T2f1b:
	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jl     _T2f74;

	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        jge    _T2f74;
// LINE 903:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 8;
	__asm        mov    texval, al;
// LINE 904:
_T2f74:
	__asm        mov    al, texval;
	__asm        mov    ecx, y;
	__asm        mov    edx, x;
	__asm        shl    edx, 8;
	__asm        mov    G_texmap[0][ecx+edx], al;
// LINE 906:
	__asm        jmp    _T312b;
_T2f8c:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x60;
	__asm        jne    _T312b;
// LINE 908:
	__asm        mov    texval, 0x60;
// LINE 911:
	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        jl     _T300d;

	__asm        mov    eax, y;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x60;
	__asm        jge    _T300d;
// LINE 912:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        inc    eax;
	__asm        mov    texval, al;
// LINE 914:
_T300d:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        jl     _T3066;

	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x60;
	__asm        jge    _T3066;
// LINE 915:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 2;
	__asm        mov    texval, al;
// LINE 917:
_T3066:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        jl     _T30bf;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x60;
	__asm        jge    _T30bf;
// LINE 918:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 4;
	__asm        mov    texval, al;
// LINE 920:
_T30bf:
	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x50;
	__asm        jl     _T3118;

	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x60;
	__asm        jge    _T3118;
// LINE 921:
	__asm        xor    eax, eax;
	__asm        mov    al, texval;
	__asm        add    eax, 8;
	__asm        mov    texval, al;
// LINE 922:
_T3118:
	__asm        mov    al, texval;
	__asm        mov    ecx, y;
	__asm        mov    edx, x;
	__asm        shl    edx, 8;
	__asm        mov    G_texmap[0][ecx+edx], al;
// LINE 925:
_T312b:
	__asm        jmp    _T2614;
// LINE 926:
_T3130:
	__asm        jmp    _T25f8;
// LINE 930:
_T3135:
	__asm        mov    x, 0;
	__asm        jmp    _T3144;
_T3141:
	__asm        inc    x;
_T3144:
	__asm        cmp    x, 0x100;
	__asm        jge    _T337a;
// LINE 932:
	__asm        mov    y, 0;
	__asm        jmp    _T3160;
_T315d:
	__asm        inc    y;
_T3160:
	__asm        cmp    y, 0x100;
	__asm        jge    _T3375;
// LINE 934:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x10;
	__asm        jne    _T31d5;
// LINE 936:
	__asm        call   rand;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        and    eax, 1;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        je     _T31d0;
// LINE 938:
	__asm        call   rand;
	__asm        mov    ecx, 3;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        lea    eax, [edx+0x70];
	__asm        mov    ecx, y;
	__asm        mov    edx, x;
	__asm        shl    edx, 8;
	__asm        mov    G_texmap[0][ecx+edx], al;
// LINE 941:
_T31d0:
	__asm        jmp    _T3370;
_T31d5:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x20;
	__asm        jne    _T323d;
// LINE 943:
	__asm        call   rand;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        and    eax, 1;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        je     _T3238;
// LINE 945:
	__asm        call   rand;
	__asm        mov    ecx, 3;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        lea    eax, [edx+0x73];
	__asm        mov    ecx, y;
	__asm        mov    edx, x;
	__asm        shl    edx, 8;
	__asm        mov    G_texmap[0][ecx+edx], al;
// LINE 948:
_T3238:
	__asm        jmp    _T3370;
_T323d:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x30;
	__asm        jne    _T32a5;
// LINE 950:
	__asm        call   rand;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        and    eax, 1;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        je     _T32a0;
// LINE 952:
	__asm        call   rand;
	__asm        mov    ecx, 3;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        lea    eax, [edx+0x76];
	__asm        mov    ecx, y;
	__asm        mov    edx, x;
	__asm        shl    edx, 8;
	__asm        mov    G_texmap[0][ecx+edx], al;
// LINE 955:
_T32a0:
	__asm        jmp    _T3370;
_T32a5:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x40;
	__asm        jne    _T330d;
// LINE 957:
	__asm        call   rand;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        and    eax, 1;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        je     _T3308;
// LINE 959:
	__asm        call   rand;
	__asm        mov    ecx, 3;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        lea    eax, [edx+0x79];
	__asm        mov    ecx, y;
	__asm        mov    edx, x;
	__asm        shl    edx, 8;
	__asm        mov    G_texmap[0][ecx+edx], al;
// LINE 962:
_T3308:
	__asm        jmp    _T3370;
_T330d:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 0x60;
	__asm        jne    _T3370;
// LINE 964:
	__asm        call   rand;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        and    eax, 1;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        je     _T3370;
// LINE 966:
	__asm        call   rand;
	__asm        mov    ecx, 3;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        lea    eax, [edx+0x7C];
	__asm        mov    ecx, y;
	__asm        mov    edx, x;
	__asm        shl    edx, 8;
	__asm        mov    G_texmap[0][ecx+edx], al;
// LINE 970:
_T3370:
	__asm        jmp    _T315d;
// LINE 971:
_T3375:
	__asm        jmp    _T3141;
// LINE 990:
_T337a:
	__asm        cmp    G_use_height_backplane, 1;
	__asm        jne    _T3396;
// LINE 991:
	__asm        push   0x11;
	__asm        call   VRInitGridObj;
	__asm        add    esp, 4;
// LINE 992:
	__asm        jmp    _T33a0;
// LINE 995:
_T3396:
	__asm        push   0x19;
	__asm        call   VRInitGridObj;
	__asm        add    esp, 4;
// LINE 998:
_T33a0:
	__asm        shl    G_terr_minalt, 0x10;
// LINE 999:
	__asm        shl    G_terr_maxalt, 0x10;
// LINE 1001:
	__asm        xor    ax, ax;
	__asm        jmp    near ptr 0x00517237;
// LINE 1002:
}

// FUNCTION: COPTER_D 0x0051723c
void do_map_square(short x, short y, short msize) {
	unsigned short hght;
	short midp;
	short is_odd;

// LINE 1015:
	__asm        movsx  eax, msize;
	__asm        sar    eax, 1;
	__asm        mov    midp, ax;
// LINE 1017:
	__asm        movsx  eax, msize;
	__asm        cmp    eax, 1;
	__asm        jg     _T26;
// LINE 1018:
	__asm        jmp    _Tb85;
// LINE 1019:
_T26:
	__asm        movsx  eax, msize;
	__asm        and    eax, 1;
	__asm        mov    is_odd, ax;
// LINE 1025:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T11a;
// LINE 1027:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    hght, ax;
// LINE 1028:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1030:
_T11a:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T21b;
// LINE 1032:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, x;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        movsx  ebx, y;
	__asm        and    ebx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    ebx, cl;
	__asm        add    ebx, ebx;
	__asm        lea    eax, [ebx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    hght, ax;
// LINE 1033:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  ebx, x;
	__asm        add    ecx, ebx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1035:
_T21b:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, x;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        movsx  edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        add    edx, edx;
	__asm        lea    eax, [edx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T304;
// LINE 1037:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, x;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        movsx  edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        add    edx, edx;
	__asm        lea    eax, [edx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    hght, ax;
// LINE 1038:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, x;
	__asm        add    edx, ebx;
	__asm        and    edx, G_tmask;
	__asm        movsx  ebx, y;
	__asm        and    ebx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    ebx, cl;
	__asm        add    ebx, ebx;
	__asm        lea    edx, [ebx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1040:
_T304:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T405;
// LINE 1042:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    hght, ax;
// LINE 1043:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, msize;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  ebx, x;
	__asm        add    ecx, ebx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1049:
_T405:
	__asm        movsx  eax, is_odd;
	__asm        test   eax, eax;
	__asm        je     _T7ed;
// LINE 1051:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T4fc;
// LINE 1053:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    hght, ax;
// LINE 1054:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        inc    edx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1056:
_T4fc:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T5ff;
// LINE 1058:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, x;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        movsx  ebx, y;
	__asm        and    ebx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    ebx, cl;
	__asm        add    ebx, ebx;
	__asm        lea    eax, [ebx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    hght, ax;
// LINE 1059:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        inc    edx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  ebx, x;
	__asm        add    ecx, ebx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1061:
_T5ff:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, x;
	__asm        add    eax, ecx;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        movsx  edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        add    edx, edx;
	__asm        lea    eax, [edx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T6ea;
// LINE 1063:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, x;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        movsx  edx, y;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        add    edx, edx;
	__asm        lea    eax, [edx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    hght, ax;
// LINE 1064:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, x;
	__asm        add    edx, ebx;
	__asm        inc    edx;
	__asm        and    edx, G_tmask;
	__asm        movsx  ebx, y;
	__asm        and    ebx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    ebx, cl;
	__asm        add    ebx, ebx;
	__asm        lea    edx, [ebx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1066:
_T6ea:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T7ed;
// LINE 1068:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    hght, ax;
// LINE 1069:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, msize;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  ebx, x;
	__asm        add    ecx, ebx;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1078:
_T7ed:
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, msize;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, x;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        movsx  ebx, y;
	__asm        and    ebx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    ebx, cl;
	__asm        add    ebx, ebx;
	__asm        lea    eax, [ebx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        add    edx, ebx;
	__asm        movsx  eax, msize;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        add    edx, ebx;
	__asm        movsx  eax, y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        lea    eax, [edx+ebx];
	__asm        cdq;
	__asm        and    edx, 3;
	__asm        add    eax, edx;
	__asm        sar    eax, 2;
	__asm        mov    hght, ax;
// LINE 1079:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T955;
// LINE 1080:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  ebx, x;
	__asm        add    ecx, ebx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1082:
_T955:
	__asm        movsx  eax, is_odd;
	__asm        test   eax, eax;
	__asm        je     _Tb01;
// LINE 1084:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _T9eb;
// LINE 1085:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  ebx, x;
	__asm        add    ecx, ebx;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1086:
_T9eb:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _Ta75;
// LINE 1087:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        inc    edx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  ebx, x;
	__asm        add    ecx, ebx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1088:
_Ta75:
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  edx, x;
	__asm        add    ecx, edx;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        test   edx, edx;
	__asm        jne    _Tb01;
// LINE 1089:
	__asm        mov    eax, reinterpret_cast<uint32_t>(msize);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        push   eax;
	__asm        call   noise;
	__asm        add    esp, 8;
	__asm        movsx  edx, midp;
	__asm        movsx  ebx, y;
	__asm        add    edx, ebx;
	__asm        inc    edx;
	__asm        and    edx, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        movsx  ecx, midp;
	__asm        movsx  ebx, x;
	__asm        add    ecx, ebx;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1095:
_Tb01:
	__asm        mov    eax, reinterpret_cast<uint32_t>(midp);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(y);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(x);
	__asm        push   eax;
	__asm        call   do_map_square;
	__asm        add    esp, 0xC;
// LINE 1096:
	__asm        mov    eax, reinterpret_cast<uint32_t>(midp);
	__asm        push   eax;
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, is_odd;
	__asm        add    eax, ecx;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(x);
	__asm        push   eax;
	__asm        call   do_map_square;
	__asm        add    esp, 0xC;
// LINE 1097:
	__asm        mov    eax, reinterpret_cast<uint32_t>(midp);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(y);
	__asm        push   eax;
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, is_odd;
	__asm        add    eax, ecx;
	__asm        movsx  ecx, x;
	__asm        add    eax, ecx;
	__asm        push   eax;
	__asm        call   do_map_square;
	__asm        add    esp, 0xC;
// LINE 1098:
	__asm        mov    eax, reinterpret_cast<uint32_t>(midp);
	__asm        push   eax;
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, is_odd;
	__asm        add    eax, ecx;
	__asm        movsx  ecx, y;
	__asm        add    eax, ecx;
	__asm        push   eax;
	__asm        movsx  eax, midp;
	__asm        movsx  ecx, is_odd;
	__asm        add    eax, ecx;
	__asm        movsx  ecx, x;
	__asm        add    eax, ecx;
	__asm        push   eax;
	__asm        call   do_map_square;
	__asm        add    esp, 0xC;
// LINE 1100:
_Tb85:
}

// FUNCTION: COPTER_D 0x00517dc6
unsigned short noise(unsigned short hght, unsigned short edge_len) {
	long delta;
	long max_noise;
	long new_height;

// LINE 1110:
	__asm        mov    max_noise, 0x7FF;
// LINE 1115:
	__asm        call   rand;
	__asm        and    eax, max_noise;
	__asm        mov    [ebp-0x10], eax;
	__asm        fild   dword ptr [ebp-0x10];
	__asm        mov    eax, reinterpret_cast<uint32_t>(edge_len);
	__asm        and    eax, 0xFFFF;
	__asm        mov    [ebp-0x18], eax;
	__asm        mov    dword ptr [ebp-0x14], 0;
	__asm        fild   qword ptr [ebp-0x18];
	__asm        fmulp;
	__asm        mov    eax, G_tdim;
	__asm        mov    [ebp-0x1C], eax;
	__asm        fidiv  dword ptr [ebp-0x1C];
	__asm        call   0x0056EBE8;
	__asm        mov    delta, eax;
// LINE 1116:
	__asm        call   rand;
	__asm        test   al, 1;
	__asm        je     _T5a;

	__asm        jmp    _T62;
_T5a:
	__asm        mov    eax, delta;
	__asm        neg    eax;
	__asm        mov    delta, eax;
// LINE 1117:
_T62:
	__asm        mov    eax, reinterpret_cast<uint32_t>(hght);
	__asm        and    eax, 0xFFFF;
	__asm        add    eax, delta;
	__asm        mov    new_height, eax;
// LINE 1119:
	__asm        mov    eax, G_terr_minalt;
	__asm        cmp    new_height, eax;
	__asm        jge    _T89;

	__asm        xor    eax, eax;
	__asm        mov    ax, reinterpret_cast<uint16_t>(G_terr_minalt);
	__asm        mov    new_height, eax;
// LINE 1120:
_T89:
	__asm        mov    ax, reinterpret_cast<uint16_t>(new_height);
	__asm        jmp    near ptr 0x00517E58;
// LINE 1121:
}

// FUNCTION: COPTER_D 0x00517e5d
void S3TerrSetGridObj() {
	long y;
	long x;
	int32_t * yptr;
	struct Point2d ulp;

// LINE 1144:
	__asm        mov    eax, G_grid_ulc.x;
	__asm        and    eax, 0xFF;
	__asm        mov    ulp.x, eax;
// LINE 1145:
	__asm        mov    eax, G_grid_ulc.y;
	__asm        and    eax, 0xFF;
	__asm        mov    ulp.y, eax;
// LINE 1148:
	__asm        mov    eax, GridVerts;
	__asm        add    eax, 4;
	__asm        mov    yptr, eax;
// LINE 1150:
	__asm        mov    eax, ulp.y;
	__asm        mov    y, eax;
	__asm        jmp    _T3c;
_T39:
	__asm        inc    y;
_T3c:
	__asm        mov    eax, ulp.y;
	__asm        add    eax, G_VertDim;
	__asm        cmp    eax, y;
	__asm        jle    _T10e;
// LINE 1152:
	__asm        mov    eax, ulp.x;
	__asm        mov    x, eax;
	__asm        jmp    _T5c;
_T59:
	__asm        inc    x;
_T5c:
	__asm        mov    eax, ulp.x;
	__asm        add    eax, G_VertDim;
	__asm        cmp    eax, x;
	__asm        jle    _T109;
// LINE 1154:
	__asm        mov    eax, yptr;
	__asm        cmp    GridVerts, eax;
	__asm        jbe    _T99;

	__asm        push   0x482;
	__asm        push   0x5B5D90;
	__asm        push   0x5B5DB0;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _T9e;
_T99:
	__asm        jmp    _T9e;
// LINE 1155:
_T9e:
	__asm        mov    eax, yptr;
	__asm        cmp    GridVertsEnd, eax;
	__asm        ja     _Tc9;

	__asm        push   0x483;
	__asm        push   0x5B5DD0;
	__asm        push   0x5B5DF0;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _Tce;
_Tc9:
	__asm        jmp    _Tce;
// LINE 1158:
_Tce:
	__asm        mov    eax, G_tmask;
	__asm        and    eax, y;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    eax, yptr;
	__asm        mov    [eax], edx;
// LINE 1160:
	__asm        add    yptr, 0xC;
// LINE 1161:
	__asm        jmp    _T59;
// LINE 1162:
_T109:
	__asm        jmp    _T39;
// LINE 1163:
_T10e:
}

// FUNCTION: COPTER_D 0x00517f70
void S3TerrainMorph() {
	struct Point2d mcell;
	struct Point3d* v;
	struct Point2d ulp;

// LINE 1199:
	__asm        cmp    G_morphno, 0xA;
	__asm        jne    _T232;
// LINE 1202:
	__asm        mov    eax, G_morphcell.x;
	__asm        and    eax, 0xFF;
	__asm        add    eax, eax;
	__asm        mov    ulp.x, eax;
// LINE 1203:
	__asm        mov    eax, G_morphcell.y;
	__asm        and    eax, 0xFF;
	__asm        add    eax, eax;
	__asm        mov    ulp.y, eax;
// LINE 1204:
	__asm        mov    eax, ulp.y;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h1, eax;
// LINE 1205:
	__asm        mov    eax, ulp.y;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h2, eax;
// LINE 1206:
	__asm        mov    eax, ulp.y;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        add    ecx, 2;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h3, eax;
// LINE 1207:
	__asm        mov    eax, ulp.y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h4, eax;
// LINE 1208:
	__asm        mov    eax, ulp.y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h5, eax;
// LINE 1209:
	__asm        mov    eax, ulp.y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        add    ecx, 2;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h6, eax;
// LINE 1210:
	__asm        mov    eax, ulp.y;
	__asm        add    eax, 2;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h7, eax;
// LINE 1211:
	__asm        mov    eax, ulp.y;
	__asm        add    eax, 2;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h8, eax;
// LINE 1212:
	__asm        mov    eax, ulp.y;
	__asm        add    eax, 2;
	__asm        and    eax, G_tmask;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, ulp.x;
	__asm        add    ecx, 2;
	__asm        and    ecx, G_tmask;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        add    eax, G_tmap;
	__asm        mov    S_h9, eax;
// LINE 1218:
_T232:
	__asm        mov    eax, S_h1;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h1;
	__asm        mov    [eax], cx;
// LINE 1219:
	__asm        mov    eax, S_h2;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h2;
	__asm        mov    [eax], cx;
// LINE 1220:
	__asm        mov    eax, S_h3;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h3;
	__asm        mov    [eax], cx;
// LINE 1221:
	__asm        mov    eax, S_h4;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h4;
	__asm        mov    [eax], cx;
// LINE 1222:
	__asm        mov    eax, S_h5;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h5;
	__asm        mov    [eax], cx;
// LINE 1223:
	__asm        mov    eax, S_h6;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h6;
	__asm        mov    [eax], cx;
// LINE 1224:
	__asm        mov    eax, S_h7;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h7;
	__asm        mov    [eax], cx;
// LINE 1225:
	__asm        mov    eax, S_h8;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h8;
	__asm        mov    [eax], cx;
// LINE 1226:
	__asm        mov    eax, S_h9;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h9;
	__asm        mov    [eax], cx;
// LINE 1229:
	__asm        dec    G_morphno;
// LINE 1232:
	__asm        cmp    G_morphno, 3;
	__asm        jge    _T317;
// LINE 1233:
	__asm        mov    eax, S_h5;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        add    ecx, 8;
	__asm        mov    eax, S_h5;
	__asm        mov    [eax], cx;
// LINE 1236:
_T317:
	__asm        cmp    G_morphno, 0;
	__asm        jle    _T356;
// LINE 1238:
	__asm        mov    eax, G_morphno;
	__asm        and    eax, 3;
	__asm        mov    al, reinterpret_cast<uint8_t>(S_texcycle[0])[eax*2];
	__asm        mov    ecx, G_morphcell.y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dx, reinterpret_cast<uint16_t>(G_morphcell.x);
	__asm        mov    dh, dl;
	__asm        mov    G_texmap[0][ecx+edx], al;
// LINE 1240:
	__asm        jmp    _T38c;
// LINE 1242:
_T356:
	__asm        movsx  eax, S_texlast;
	__asm        and    eax, 3;
	__asm        mov    al, reinterpret_cast<uint8_t>(S_texcycle[0])[eax*2];
	__asm        mov    ecx, G_morphcell.y;
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dx, reinterpret_cast<uint16_t>(G_morphcell.x);
	__asm        mov    dh, dl;
	__asm        mov    G_texmap[0][ecx+edx], al;
// LINE 1243:
	__asm        inc    S_texlast;
// LINE 1249:
_T38c:
	__asm        mov    eax, G_morphcell.x;
	__asm        sub    eax, G_grid_ulc.x;
	__asm        mov    mcell.x, eax;
// LINE 1250:
	__asm        mov    eax, G_morphcell.y;
	__asm        sub    eax, G_grid_ulc.y;
	__asm        mov    mcell.y, eax;
// LINE 1255:
	__asm        cmp    mcell.x, 0;
	__asm        jl     _T3d8;

	__asm        cmp    mcell.y, 0;
	__asm        jl     _T3d8;

	__asm        mov    eax, G_ViewSize;
	__asm        cmp    mcell.x, eax;
	__asm        jge    _T3d8;

	__asm        mov    eax, G_ViewSize;
	__asm        cmp    mcell.y, eax;
	__asm        jl     _T3dd;
// LINE 1256:
_T3d8:
	__asm        jmp    _T524;
// LINE 1259:
_T3dd:
	__asm        mov    eax, mcell.y;
	__asm        imul   eax, G_VertDim;
	__asm        lea    eax, [eax+eax*2];
	__asm        mov    ecx, mcell.x;
	__asm        lea    ecx, [ecx+ecx*2];
	__asm        shl    ecx, 3;
	__asm        lea    eax, [ecx+eax*8];
	__asm        add    eax, GridVerts;
	__asm        mov    v, eax;
// LINE 1261:
	__asm        mov    eax, GridVerts;
	__asm        cmp    v, eax;
	__asm        jae    _T429;

	__asm        push   0x4ED;
	__asm        push   0x5B5E14;
	__asm        push   0x5B5E34;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _T42e;
_T429:
	__asm        jmp    _T42e;
// LINE 1262:
_T42e:
	__asm        mov    eax, GridVertsEnd;
	__asm        cmp    v, eax;
	__asm        jb     _T458;

	__asm        push   0x4EE;
	__asm        push   0x5B5E44;
	__asm        push   0x5B5E64;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _T45d;
_T458:
	__asm        jmp    _T45d;
// LINE 1265:
_T45d:
	__asm        mov    eax, S_h1;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+4], ecx;
// LINE 1266:
	__asm        mov    eax, S_h2;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+0x10], ecx;
// LINE 1267:
	__asm        mov    eax, S_h3;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+0x1C], ecx;
// LINE 1268:
	__asm        mov    eax, G_VertDim;
	__asm        lea    eax, [eax+eax*2];
	__asm        shl    eax, 2;
	__asm        add    v, eax;
// LINE 1269:
	__asm        mov    eax, S_h4;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+4], ecx;
// LINE 1270:
	__asm        mov    eax, S_h5;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+0x10], ecx;
// LINE 1271:
	__asm        mov    eax, S_h6;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+0x1C], ecx;
// LINE 1272:
	__asm        mov    eax, G_VertDim;
	__asm        lea    eax, [eax+eax*2];
	__asm        shl    eax, 2;
	__asm        add    v, eax;
// LINE 1273:
	__asm        mov    eax, S_h7;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+4], ecx;
// LINE 1274:
	__asm        mov    eax, S_h8;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+0x10], ecx;
// LINE 1275:
	__asm        mov    eax, S_h9;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax];
	__asm        shl    ecx, 0x10;
	__asm        mov    eax, v;
	__asm        mov    [eax+0x1C], ecx;
// LINE 1277:
_T524:
}

// FUNCTION: COPTER_D 0x00518499
int32_t S3TerrMorphWater() {
	long xstart;
	long ystart;
	long y;
	long x;
	short * cycle;
	short alt0;
	short * array1;

// LINE 1439:
	__asm        mov    eax, LoopTime;
	__asm        add    S_looptime, eax;
// LINE 1441:
	__asm        mov    eax, S_looptime;
	__asm        cmp    S_checktime, eax;
	__asm        jle    _T2c;
// LINE 1442:
	__asm        xor    eax, eax;
	__asm        jmp    _T1bd;
// LINE 1444:
_T2c:
	__asm        mov    S_looptime, 0;
// LINE 1446:
	__asm        movsx  eax, S_cycle;
	__asm        mov    [ebp-0x20], eax;
	__asm        jmp    _Ta0;
// LINE 1450:
	__asm        mov    xstart, 0;
// LINE 1451:
	__asm        mov    ystart, 0;
// LINE 1452:
	__asm        mov    cycle, 0x5B5CD4;
// LINE 1453:
	__asm        mov    S_checktime, 0;
// LINE 1454:
	__asm        mov    array1, 0x5B5D28;
// LINE 1455:
	__asm        jmp    _Tc4;
// LINE 1458:
	__asm        mov    xstart, 1;
// LINE 1459:
	__asm        mov    ystart, 1;
// LINE 1460:
	__asm        mov    cycle, 0x5B5CD8;
// LINE 1461:
	__asm        mov    S_checktime, 0;
// LINE 1462:
	__asm        mov    array1, 0x5B5CE8;
// LINE 1463:
	__asm        jmp    _Tc4;
// LINE 1464:
	__asm        jmp    _Tc4;
_Ta0:
	__asm        cmp    dword ptr [ebp-0x20], 3;
	__asm        ja     _Tc4;

	__asm        mov    eax, [ebp-0x20];
	__asm        jmp    SwitchPointers5342541[0][eax*4];
// Switch pointers
// LINE 1466:
_Tc4:
	__asm        inc    S_cycle;
// LINE 1467:
	__asm        movsx  eax, S_cycle;
	__asm        cmp    eax, 4;
	__asm        jne    _Te4;

	__asm        mov    S_cycle, 0;
// LINE 1469:
_Te4:
	__asm        mov    eax, cycle;
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0x1F;
	__asm        mov    ecx, array1;
	__asm        mov    ax, [ecx+eax*2];
	__asm        mov    alt0, ax;
// LINE 1471:
	__asm        mov    eax, cycle;
	__asm        inc    word ptr [eax];
// LINE 1476:
	__asm        mov    eax, xstart;
	__asm        mov    x, eax;
	__asm        jmp    _T10d;
_T109:
	__asm        add    x, 2;
_T10d:
	__asm        cmp    x, 0x80;
	__asm        jge    _T1b3;
// LINE 1478:
	__asm        mov    eax, ystart;
	__asm        mov    y, eax;
	__asm        jmp    _T129;
_T125:
	__asm        add    y, 2;
_T129:
	__asm        cmp    y, 0x80;
	__asm        jge    _T1ae;
// LINE 1481:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        cmp    edx, 5;
	__asm        jne    _T1a9;
// LINE 1483:
	__asm        mov    eax, G_tmask;
	__asm        and    eax, y;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        movsx  eax, alt0;
	__asm        add    edx, eax;
	__asm        mov    eax, G_tmask;
	__asm        and    eax, y;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [eax+ecx], dx;
// LINE 1485:
_T1a9:
	__asm        jmp    _T125;
// LINE 1486:
_T1ae:
	__asm        jmp    _T109;
// LINE 1488:
_T1b3:
	__asm        mov    eax, 1;
	__asm        jmp    _T1bd;
// LINE 1489:
_T1bd:
}

// FUNCTION: COPTER_D 0x0051865b
void AdjustTerrainMap() {
	int32_t start;
	int32_t alt;
	int32_t z;
	int32_t i;
	int32_t x;
	int32_t citysize;
	int32_t alt3;
	int32_t alt2;
	int32_t end;
	int32_t alt1;

// LINE 1544:
	__asm        mov    eax, G_tdim;
	__asm        sar    eax, 1;
	__asm        mov    citysize, eax;
// LINE 1545:
	__asm        mov    start, 0;
// LINE 1546:
	__asm        mov    end, 0x20;
// LINE 1548:
	__asm        mov    eax, start;
	__asm        mov    i, eax;
	__asm        jmp    _T30;
_T2d:
	__asm        inc    i;
_T30:
	__asm        mov    eax, i;
	__asm        cmp    end, eax;
	__asm        jle    _T38c;
// LINE 1550:
	__asm        mov    eax, citysize;
	__asm        add    eax, i;
	__asm        mov    x, eax;
// LINE 1551:
	__asm        mov    eax, citysize;
	__asm        add    eax, i;
	__asm        mov    z, eax;
// LINE 1553:
	__asm        jmp    _T56;
_T53:
	__asm        dec    z;
_T56:
	__asm        mov    eax, i;
	__asm        neg    eax;
	__asm        dec    eax;
	__asm        cmp    eax, z;
	__asm        jg     _T1e1;
// LINE 1555:
	__asm        mov    eax, G_tmask;
	__asm        and    eax, z;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        mov    alt, edx;
// LINE 1556:
	__asm        mov    eax, z;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        mov    alt1, edx;
// LINE 1557:
	__asm        mov    eax, G_tmask;
	__asm        and    eax, z;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        mov    alt2, edx;
// LINE 1558:
	__asm        mov    eax, z;
	__asm        dec    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        mov    alt3, edx;
// LINE 1559:
	__asm        mov    eax, alt1;
	__asm        add    eax, 0x20;
	__asm        cmp    eax, alt;
	__asm        jge    _T138;

	__asm        mov    eax, alt1;
	__asm        add    eax, 0x20;
	__asm        mov    alt, eax;
_T138:
	__asm        mov    eax, alt1;
	__asm        sub    eax, 0x20;
	__asm        cmp    eax, alt;
	__asm        jle    _T150;

	__asm        mov    eax, alt1;
	__asm        sub    eax, 0x20;
	__asm        mov    alt, eax;
_T150:
	__asm        mov    eax, alt3;
	__asm        add    eax, 0x20;
	__asm        cmp    eax, alt;
	__asm        jge    _T168;

	__asm        mov    eax, alt3;
	__asm        add    eax, 0x20;
	__asm        mov    alt, eax;
_T168:
	__asm        mov    eax, alt3;
	__asm        sub    eax, 0x20;
	__asm        cmp    eax, alt;
	__asm        jle    _T180;

	__asm        mov    eax, alt3;
	__asm        sub    eax, 0x20;
	__asm        mov    alt, eax;
_T180:
	__asm        mov    eax, alt2;
	__asm        add    eax, 0x20;
	__asm        cmp    eax, alt;
	__asm        jge    _T198;

	__asm        mov    eax, alt2;
	__asm        add    eax, 0x20;
	__asm        mov    alt, eax;
_T198:
	__asm        mov    eax, alt2;
	__asm        sub    eax, 0x20;
	__asm        cmp    eax, alt;
	__asm        jle    _T1b0;

	__asm        mov    eax, alt2;
	__asm        sub    eax, 0x20;
	__asm        mov    alt, eax;
_T1b0:
	__asm        mov    eax, alt;
	__asm        mov    edx, G_tmask;
	__asm        and    edx, z;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1560:
	__asm        jmp    _T53;
// LINE 1563:
_T1e1:
	__asm        mov    eax, citysize;
	__asm        add    eax, i;
	__asm        mov    x, eax;
// LINE 1564:
	__asm        mov    eax, citysize;
	__asm        add    eax, i;
	__asm        mov    z, eax;
// LINE 1566:
	__asm        jmp    _T1fb;
_T1f8:
	__asm        dec    x;
_T1fb:
	__asm        mov    eax, i;
	__asm        neg    eax;
	__asm        dec    eax;
	__asm        cmp    eax, x;
	__asm        jg     _T387;
// LINE 1568:
	__asm        mov    eax, G_tmask;
	__asm        and    eax, z;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        mov    alt, edx;
// LINE 1569:
	__asm        mov    eax, z;
	__asm        dec    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        mov    alt1, edx;
// LINE 1570:
	__asm        mov    eax, z;
	__asm        dec    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        mov    alt2, edx;
// LINE 1571:
	__asm        mov    eax, z;
	__asm        dec    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        mov    alt3, edx;
// LINE 1572:
	__asm        mov    eax, alt1;
	__asm        add    eax, 0x20;
	__asm        cmp    eax, alt;
	__asm        jge    _T2de;

	__asm        mov    eax, alt1;
	__asm        add    eax, 0x20;
	__asm        mov    alt, eax;
_T2de:
	__asm        mov    eax, alt1;
	__asm        sub    eax, 0x20;
	__asm        cmp    eax, alt;
	__asm        jle    _T2f6;

	__asm        mov    eax, alt1;
	__asm        sub    eax, 0x20;
	__asm        mov    alt, eax;
_T2f6:
	__asm        mov    eax, alt3;
	__asm        add    eax, 0x20;
	__asm        cmp    eax, alt;
	__asm        jge    _T30e;

	__asm        mov    eax, alt3;
	__asm        add    eax, 0x20;
	__asm        mov    alt, eax;
_T30e:
	__asm        mov    eax, alt3;
	__asm        sub    eax, 0x20;
	__asm        cmp    eax, alt;
	__asm        jle    _T326;

	__asm        mov    eax, alt3;
	__asm        sub    eax, 0x20;
	__asm        mov    alt, eax;
_T326:
	__asm        mov    eax, alt2;
	__asm        add    eax, 0x20;
	__asm        cmp    eax, alt;
	__asm        jge    _T33e;

	__asm        mov    eax, alt2;
	__asm        add    eax, 0x20;
	__asm        mov    alt, eax;
_T33e:
	__asm        mov    eax, alt2;
	__asm        sub    eax, 0x20;
	__asm        cmp    eax, alt;
	__asm        jle    _T356;

	__asm        mov    eax, alt2;
	__asm        sub    eax, 0x20;
	__asm        mov    alt, eax;
_T356:
	__asm        mov    eax, alt;
	__asm        mov    edx, G_tmask;
	__asm        and    edx, z;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1573:
	__asm        jmp    _T1f8;
// LINE 1575:
_T387:
	__asm        jmp    _T2d;
// LINE 1578:
_T38c:
	__asm        mov    eax, G_tmask;
	__asm        and    eax, 0x80;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, 0x80;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        mov    alt, edx;
// LINE 1580:
	__asm        mov    x, 0x80;
	__asm        jmp    _T3cd;
_T3ca:
	__asm        inc    x;
_T3cd:
	__asm        cmp    x, 0x90;
	__asm        jg     _T42c;
// LINE 1582:
	__asm        mov    z, 0x80;
	__asm        jmp    _T3e9;
_T3e6:
	__asm        inc    z;
_T3e9:
	__asm        cmp    z, 0x90;
	__asm        jg     _T427;
// LINE 1584:
	__asm        mov    eax, alt;
	__asm        mov    edx, G_tmask;
	__asm        and    edx, z;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    edx, cl;
	__asm        mov    ecx, G_tmask;
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, G_tmap;
	__asm        mov    [edx+ecx], ax;
// LINE 1585:
	__asm        jmp    _T3e6;
// LINE 1586:
_T427:
	__asm        jmp    _T3ca;
// LINE 1588:
_T42c:
}

// FUNCTION: COPTER_D 0x00518a8c
int32_t S3TerrPrecisionAlt(int32_t worldx, int32_t worldz, int32_t * landable) {
	struct Point2d cell;
	int32_t hypz;
	int32_t ratio;
	int32_t zdist;
	int32_t z;
	int32_t x;
	int32_t sidez;
	int32_t sidealt;
	int32_t alt2;
	int32_t hypalt;
	int32_t alt1;

// LINE 1613:
	__asm        cmp    landable, 0;
	__asm        je     _T1c;
// LINE 1614:
	__asm        mov    eax, landable;
	__asm        mov    dword ptr [eax], 0;
// LINE 1617:
_T1c:
	__asm        mov    eax, worldx;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    cell.x, eax;
// LINE 1618:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, worldz;
	__asm        sar    eax, 0x16;
	__asm        mov    cell.y, eax;
// LINE 1621:
	__asm        mov    eax, cell.x;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FE0;
	__asm        mov    x, eax;
// LINE 1622:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, cell.y;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x20;
	__asm        mov    z, eax;
// LINE 1625:
	__asm        mov    eax, cell.y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, cell.x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    alt1, edx;
// LINE 1626:
	__asm        mov    eax, cell.y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, cell.x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    alt2, edx;
// LINE 1633:
	__asm        and    worldx, 0x3FFFFF;
// LINE 1634:
	__asm        and    worldz, 0x3FFFFF;
// LINE 1642:
	__asm        mov    eax, S_recip_celldim;
	__asm        push   eax;
	__asm        mov    eax, worldx;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ratio, eax;
// LINE 1643:
	__asm        mov    eax, ratio;
	__asm        push   eax;
	__asm        push   0x400000;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    hypz, eax;
// LINE 1644:
	__asm        mov    eax, ratio;
	__asm        push   eax;
	__asm        mov    eax, alt1;
	__asm        sub    eax, alt2;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    edx, alt2;
	__asm        add    edx, eax;
	__asm        mov    hypalt, edx;
// LINE 1651:
	__asm        mov    eax, worldz;
	__asm        cmp    hypz, eax;
	__asm        jge    _T1d7;
// LINE 1654:
	__asm        mov    eax, cell.y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, cell.x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    alt1, edx;
// LINE 1655:
	__asm        mov    eax, cell.y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, cell.x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    alt2, edx;
// LINE 1656:
	__asm        mov    sidez, 0x400000;
// LINE 1657:
	__asm        cmp    landable, 0;
	__asm        je     _T1d2;
// LINE 1660:
	__asm        mov    eax, hypalt;
	__asm        sub    eax, alt1;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, 0x90000;
	__asm        jge    _T1c9;

	__asm        mov    eax, hypalt;
	__asm        sub    eax, alt2;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, 0x90000;
	__asm        jge    _T1c9;
// LINE 1662:
	__asm        mov    eax, landable;
	__asm        mov    dword ptr [eax], 1;
// LINE 1664:
	__asm        jmp    _T1d2;
// LINE 1666:
_T1c9:
	__asm        mov    eax, landable;
	__asm        mov    dword ptr [eax], 0;
// LINE 1670:
_T1d2:
	__asm        jmp    _T35a;
_T1d7:
	__asm        mov    eax, worldz;
	__asm        cmp    hypz, eax;
	__asm        jle    _T2a1;
// LINE 1673:
	__asm        mov    eax, cell.y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, cell.x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    alt1, edx;
// LINE 1674:
	__asm        mov    eax, cell.y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, cell.x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    alt2, edx;
// LINE 1675:
	__asm        mov    sidez, 0;
// LINE 1676:
	__asm        cmp    landable, 0;
	__asm        je     _T29c;
// LINE 1679:
	__asm        mov    eax, hypalt;
	__asm        sub    eax, alt1;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, 0x90000;
	__asm        jge    _T293;

	__asm        mov    eax, hypalt;
	__asm        sub    eax, alt2;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, 0x90000;
	__asm        jge    _T293;
// LINE 1681:
	__asm        mov    eax, landable;
	__asm        mov    dword ptr [eax], 1;
// LINE 1683:
	__asm        jmp    _T29c;
// LINE 1685:
_T293:
	__asm        mov    eax, landable;
	__asm        mov    dword ptr [eax], 0;
// LINE 1689:
_T29c:
	__asm        jmp    _T35a;
// LINE 1691:
_T2a1:
	__asm        cmp    landable, 0;
	__asm        je     _T352;
// LINE 1693:
	__asm        mov    eax, cell.y;
	__asm        inc    eax;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, cell.x;
	__asm        inc    ecx;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    alt1, edx;
// LINE 1694:
	__asm        mov    eax, cell.y;
	__asm        and    eax, G_tmask;
	__asm        mov    cl, reinterpret_cast<uint8_t>(G_tshift);
	__asm        shl    eax, cl;
	__asm        mov    ecx, cell.x;
	__asm        and    ecx, G_tmask;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, G_tmap;
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        shl    edx, 0x10;
	__asm        mov    alt2, edx;
// LINE 1697:
	__asm        mov    eax, hypalt;
	__asm        sub    eax, alt1;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, 0x90000;
	__asm        jge    _T349;

	__asm        mov    eax, hypalt;
	__asm        sub    eax, alt2;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, 0x90000;
	__asm        jge    _T349;
// LINE 1699:
	__asm        mov    eax, landable;
	__asm        mov    dword ptr [eax], 1;
// LINE 1701:
	__asm        jmp    _T352;
// LINE 1703:
_T349:
	__asm        mov    eax, landable;
	__asm        mov    dword ptr [eax], 0;
// LINE 1707:
_T352:
	__asm        mov    eax, hypalt;
	__asm        jmp    _T3d3;
// LINE 1710:
_T35a:
	__asm        mov    eax, ratio;
	__asm        push   eax;
	__asm        mov    eax, alt1;
	__asm        sub    eax, alt2;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, alt2;
	__asm        add    ecx, eax;
	__asm        mov    sidealt, ecx;
// LINE 1715:
	__asm        mov    eax, sidez;
	__asm        sub    eax, hypz;
	__asm        mov    zdist, eax;
// LINE 1718:
	__asm        cmp    zdist, 0x64;
	__asm        jge    _T39a;

	__asm        cmp    zdist, 0xFFFFFF9C;
	__asm        jle    _T39a;
// LINE 1719:
	__asm        mov    eax, hypalt;
	__asm        jmp    _T3d3;
// LINE 1721:
_T39a:
	__asm        mov    eax, zdist;
	__asm        push   eax;
	__asm        mov    eax, sidez;
	__asm        sub    eax, worldz;
	__asm        push   eax;
	__asm        call   0x004D19DF;
	__asm        add    esp, 8;
	__asm        mov    ratio, eax;
// LINE 1724:
	__asm        mov    eax, ratio;
	__asm        push   eax;
	__asm        mov    eax, hypalt;
	__asm        sub    eax, sidealt;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, sidealt;
	__asm        add    ecx, eax;
	__asm        mov    alt1, ecx;
// LINE 1726:
	__asm        mov    eax, alt1;
	__asm        jmp    _T3d3;
// LINE 1727:
_T3d3:
}

// FUNCTION: COPTER_D 0x00518e64
unsigned char S3TerrGetShadeIndex(long x, long y) {
// LINE 1804:
	__asm        xor    al, al;
	__asm        jmp    near ptr 0x00518E71;
// LINE 1805:
}

// FUNCTION: COPTER_D 0x00518e76
int32_t S3ObjectPrecisionAlt(int32_t cityx, int32_t cityy) {
	int32_t normy;
	int32_t normx;
	struct _CELL_INFO* cptr;
	int32_t alt;
	int32_t objy;
	struct _STOBJ_INST* stobj;
	int32_t maxobjy;
	int32_t normz;
	int32_t flags;

// LINE 1829:
	__asm        mov    eax, cityx;
	__asm        add    eax, 0x20000000;
	__asm        shr    eax, 0x16;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, 0x20000000;
	__asm        sub    ecx, cityy;
	__asm        shr    ecx, 0x16;
	__asm        and    ecx, 0xFF;
	__asm        mov    eax, G_omap[0][0][eax+ecx*4];
	__asm        mov    cptr, eax;
// LINE 1831:
	__asm        mov    eax, cityx;
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+2];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    normx, eax;
// LINE 1832:
	__asm        mov    eax, cityy;
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+6];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    normz, eax;
// LINE 1837:
	__asm        mov    normy, 0x220000;
// LINE 1839:
	__asm        mov    objy, 0;
// LINE 1840:
	__asm        mov    maxobjy, 0;
// LINE 1841:
	__asm        mov    eax, cptr;
	__asm        mov    eax, [eax+0xC];
	__asm        mov    stobj, eax;
// LINE 1842:
_T79:
	__asm        cmp    stobj, 0;
	__asm        je     _Td5;
// LINE 1844:
	__asm        mov    eax, stobj;
	__asm        mov    eax, [eax+8];
	__asm        mov    flags, eax;
// LINE 1850:
	__asm        push   0;
	__asm        push   0;
	__asm        push   5;
	__asm        push   3;
	__asm        lea    eax, flags;
	__asm        push   eax;
	__asm        mov    eax, normz;
	__asm        push   eax;
	__asm        mov    eax, normy;
	__asm        push   eax;
	__asm        mov    eax, normx;
	__asm        push   eax;
	__asm        mov    eax, stobj;
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        call   VRGetObjAlt2;
	__asm        add    esp, 0x24;
	__asm        mov    objy, eax;
// LINE 1852:
	__asm        mov    eax, objy;
	__asm        cmp    maxobjy, eax;
	__asm        jge    _Tc8;
// LINE 1853:
	__asm        mov    eax, objy;
	__asm        mov    maxobjy, eax;
// LINE 1854:
_Tc8:
	__asm        mov    eax, stobj;
	__asm        mov    eax, [eax];
	__asm        mov    stobj, eax;
// LINE 1855:
	__asm        jmp    _T79;
// LINE 1860:
_Td5:
	__asm        cmp    maxobjy, 0;
	__asm        jne    _Tf9;
// LINE 1861:
	__asm        push   0;
	__asm        mov    eax, cityy;
	__asm        push   eax;
	__asm        mov    eax, cityx;
	__asm        push   eax;
	__asm        call   S3TerrPrecisionAlt;
	__asm        add    esp, 0xC;
	__asm        mov    alt, eax;
// LINE 1862:
	__asm        jmp    _T109;
// LINE 1863:
_Tf9:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+4];
	__asm        shl    eax, 0x10;
	__asm        add    eax, maxobjy;
	__asm        mov    alt, eax;
// LINE 1865:
_T109:
	__asm        mov    eax, alt;
	__asm        jmp    near ptr 0x00518F87;
// LINE 1866:
}



// Contribution: 3:0001ecb8-0001ee74 Module: 169, 8 byte alignment, initialized_data, read, write, 
// GLOBAL: COPTER_D 0x005b5cb8
long G_tdim = { /* <data@0x005b5cb8> */ };

// GLOBAL: COPTER_D 0x005b5cbc
long G_tmask = { /* <data@0x005b5cbc> */ };

// GLOBAL: COPTER_D 0x005b5cc0
long G_tshift = { /* <data@0x005b5cc0> */ };

// GLOBAL: COPTER_D 0x005b5cc4
long G_morphno = { /* <data@0x005b5cc4> */ };

// GLOBAL: COPTER_D 0x005b5cc8
static unsigned short S_texcycle[4] = { /* <data@0x005b5cc8> */ };

// GLOBAL: COPTER_D 0x005b5cd0
static short S_texlast = { /* <data@0x005b5cd0> */ };

// GLOBAL: COPTER_D 0x005b5cd4
static short S_watercycle1 = { /* <data@0x005b5cd4> */ };

// GLOBAL: COPTER_D 0x005b5cd8
static short S_watercycle2 = { /* <data@0x005b5cd8> */ };

// GLOBAL: COPTER_D 0x005b5cdc
static int32_t S_looptime = { /* <data@0x005b5cdc> */ };

// GLOBAL: COPTER_D 0x005b5ce0
static int32_t S_checktime = { /* <data@0x005b5ce0> */ };

// GLOBAL: COPTER_D 0x005b5ce4
static short S_cycle = { /* <data@0x005b5ce4> */ };

// GLOBAL: COPTER_D 0x005b5ce8
static short S_array1[32] = { /* <data@0x005b5ce8> */ };

// GLOBAL: COPTER_D 0x005b5d28
static short S_array2[32] = { /* <data@0x005b5d28> */ };



// Contribution: 3:00093500-00093527 Module: 169, 4 byte alignment, uninitialized_data, read, write, 
// GLOBAL: COPTER_D 0x0062a500
static unsigned short * S_h1;

// GLOBAL: COPTER_D 0x0062a504
static unsigned short * S_h2;

// GLOBAL: COPTER_D 0x0062a508
static unsigned short * S_h3;

// GLOBAL: COPTER_D 0x0062a50c
static unsigned short * S_h4;

// GLOBAL: COPTER_D 0x0062a510
static unsigned short * S_h5;

// GLOBAL: COPTER_D 0x0062a514
static unsigned short * S_h6;

// GLOBAL: COPTER_D 0x0062a518
static unsigned short * S_h7;

// GLOBAL: COPTER_D 0x0062a51c
static unsigned short * S_h8;

// GLOBAL: COPTER_D 0x0062a520
static unsigned short * S_h9;

// GLOBAL: COPTER_D 0x0062a524
static int32_t S_recip_celldim;



// Unknown globals:
// The PDB was slightly corrupted and we aren't sure which file these globals belong to.
// GLOBAL: COPTER_D 0x0067eb20
long G_terr2bmp[128]; // Contrib missing

// GLOBAL: COPTER_D 0x0067eb10
unsigned short * G_tmap; // Contrib missing

// GLOBAL: COPTER_D 0x0066eb00
int32_t G_terr_minalt; // Contrib missing

// GLOBAL: COPTER_D 0x0066eaf8
struct Point2d G_morphcell; // Contrib missing

// GLOBAL: COPTER_D 0x0067ed28
struct Point2d G_grid_ulc; // Contrib missing

// GLOBAL: COPTER_D 0x0067ed28
struct Point2d G_grid_ulc; // Contrib missing

// GLOBAL: COPTER_D 0x0067eb10
unsigned short * G_tmap; // Contrib missing

// GLOBAL: COPTER_D 0x0066eaf8
struct Point2d G_morphcell; // Contrib missing

// GLOBAL: COPTER_D 0x0067eb20
long G_terr2bmp[128]; // Contrib missing

// GLOBAL: COPTER_D 0x0066eb00
int32_t G_terr_minalt; // Contrib missing

