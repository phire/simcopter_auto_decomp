// Module: S3police.obj
// Source: C:\Copter\source\game\S3police.cpp
// autogenerated by simcopter_tool from PDB file

// Type: enum TurnIndex;
enum TurnIndex {
	iTS = 0,
	iTR = 1,
	iTL = 2,
	iTU = 3,
};

// Type: int32_t;

// Type: class PoliceCarClass (forward reference);
class PoliceCarClass : public EmergencyVehicleClass
{
private:
	struct Goal currDestGoal;
	struct Goal destGoal1;
	struct Goal destGoal2;
	int32_t foundRoad;
	struct _DYOBJ_INST* pBadGuyDyOb;
public:
	void PoliceCarClass(const class PoliceCarClass&);
	void PoliceCarClass();
	virtual void ~PoliceCarClass();
	// calltype: NearC
	static class PoliceCarClass* CreateInstance(int32_t);
	// calltype: NearC
	static unsigned char Dispatch(enum EmergencyType, enum EmergencyLevel, long, long);
	class PoliceCarClass operator=(const class PoliceCarClass&);
protected:
	virtual void ItterateFSM();
	virtual enum TurnIndex PickTurnDir(struct Goal*);
	virtual void SetSaveData(struct _AUTO_LOAD_SAVE*);
	virtual void LoadSaveData(struct _AUTO_LOAD_SAVE*);
private:
	int32_t AtScene();
	struct _DYOBJ_INST* ScanForBadGuys(struct _GridCoordinates&);
	int32_t ChangeEmergencyLocationToSpotlightLocation();
};

// Type: void;

// Type: char *;

// Type: struct VRObjInfo;
struct VRObjInfo{
	int32_t Faces;
	int32_t Verts;
	int32_t Attribute;
	int32_t Radius;
	struct Point3d* ObjCenter;
	struct Point3d* VertsPtr;
	struct Xform3d* VertsXfm;
	struct Point3d* OrgVerts;
	int32_t[4][4]* Matrix;
};

// Type: enum EmergencyType;
enum EmergencyType {
	NO_EMERGENCY = 0,
	FIRE_TRUCK = 1,
	AMBULANCE_CAR = 2,
	POLICE_CHASING_CAR = 3,
	POLICE_ON_PATROL = 4,
};

// Type: enum EmergencyLevel;
enum EmergencyLevel {
	ES_UNDEFINED = 0,
	ES_STAKEOUT = 1,
	ES_RETURN = 2,
	ES_PURSUIT = 3,
	ES_DISPATCHED = 4,
	ES_AT_SCENE = 5,
	ES_COP_CHASE = 6,
};

// Type: long;

// Type: unsigned char;

// Type: struct _GridCoordinates;
struct _GridCoordinates{
	unsigned char x;
	unsigned char y;
};

// Type: struct _CELL_INFO (forward reference);
struct _CELL_INFO{
	short flags;
	short x;
	short y;
	short z;
	short size;
	short ctr;
	struct _STOBJ_INST* stptr;
	struct _DYOBJ_INST* dyptr;
	struct _DYOBJ_INST* vwptr;
};

// Type: struct _MISSION_PARMS;
struct _MISSION_PARMS{
	long op;
	long id;
	struct Point2d maploc;
	long i2num;
	long flags;
};

// Type: struct Point3d;
struct Point3d{
	int32_t x;
	int32_t y;
	int32_t z;
};

// Type: struct Goal (forward reference);
struct Goal{
	struct RGVertex* pRGV;
	int32_t elementIndex;
	int32_t gridIndex;
	struct _GridCoordinates gridLoc;
	enum DirIndex2 edgeIndex;
	enum DirIndex2 direction;
	int32_t distance;
	int32_t turnFlags;
	int32_t deadEndFlags;
	int32_t fElevated;
	enum SlopeIndex slope;
};

// Type: struct _RGIndex;
struct _RGIndex{
	unsigned char x;
	unsigned char yindex;
};

// Type: class SpiralScan;
class SpiralScan{
public:
	void SpiralScan(int32_t);
	void ~SpiralScan();
	int32_t Next(struct _GridCoordinates&);
	int32_t InCityGridLimits(struct _GridCoordinates);
private:
	int32_t currDist;
	int32_t currDir;
	int32_t currDia;
	int32_t maxDia;
};

// Type: struct _GridCoordinates (forward reference);
struct _GridCoordinates{
	unsigned char x;
	unsigned char y;
};

// Type: struct _DYOBJ_INST (forward reference);
struct _DYOBJ_INST{
	struct _DYOBJ_INST* next;
	struct _DYOBJ_INST* vnext;
	void * __ptr32 mesh;
	short flags;
	short user1;
	long radius;
	long height;
	struct Point3d loc;
	int32_t matrix[4][4];
};

// Type: struct _AUTO_LOAD_SAVE (forward reference);
struct _AUTO_LOAD_SAVE{
	int32_t flags;
	struct _DYOBJ_INST autoDynomitor;
	struct Goal goal;
	struct _GridCoordinates goalpRGVFixup;
	int32_t DeltaFromCenter;
	int32_t stalledTimer;
	struct Point3d directionVector;
	int32_t remainingTime;
	int32_t desiredSpeed;
	int32_t desiredHiwaySpeed;
	int32_t beamDelay;
	int32_t beamTimer;
	int32_t m_cellBaseY;
	int32_t timePulledOver;
	enum DirectionTypes hiwaydir;
	struct _GridCoordinates currentLocation;
	struct _GridCoordinates nextLocation;
	struct _GridCoordinates northCell;
	struct _GridCoordinates southCell;
	struct _GridCoordinates eastCell;
	struct _GridCoordinates westCell;
	int32_t speed;
	long prevDir;
	long turnIndex;
	int32_t currDist;
	int32_t legOfTurn;
	struct Point3d* pDirVector;
	int32_t personDone;
	int32_t personState;
	int32_t personTimer;
	int32_t timeToLive;
	int32_t fireTime;
	long fireSeq;
	long missionId;
	struct _GridCoordinates cptrfixup;
	int32_t spotlightHitCounter;
	struct _AUTO_LOAD_SAVE::_CRIMINAL{
		long missionState;
		long criminalType;
		int32_t timeToLeaveCar;
		int32_t timeToBeOnTheRun;
	};
public:
	struct _AUTO_LOAD_SAVE::_CRIMINAL c;
	struct _AUTO_LOAD_SAVE::_EMERGENCY{
		struct _GridCoordinates baseLocation;
		struct _GridCoordinates emergencyLocation;
		long emergencyType;
		long timeOfArrival;
		struct _DYOBJ_INST dispatchIcon;
		int32_t timeToEmergency;
		long targetfixup;
		unsigned char dispatchPath[256];
		unsigned char dispatchPathIndex;
		unsigned char dispatchPathLength;
		long emergencyState;
		int32_t stationID;
		int32_t numberOfSeats;
	};
public:
	struct _AUTO_LOAD_SAVE::_EMERGENCY e;
	struct _AUTO_LOAD_SAVE::_FIRE{
		int32_t dousingFire;
		int32_t distToFire;
		struct Point3d firevec;
		int32_t pathID;
	};
public:
	struct _AUTO_LOAD_SAVE::_FIRE f;
	struct _AUTO_LOAD_SAVE::_POLICE{
		struct Goal currDestGoal;
		struct _GridCoordinates currpRGVFixup;
		struct Goal destGoal1;
		struct _GridCoordinates dest1pRGVFixup;
		struct Goal destGoal2;
		struct _GridCoordinates dest2pRGVFixup;
		int32_t foundRoad;
	};
public:
	struct _AUTO_LOAD_SAVE::_POLICE p;
};

// Type: uint32_t;

// Type: class EmergencyVehicleClass;
class EmergencyVehicleClass : public AutomobileClass
{
	enum /* __unnamed */ {
		MAXIMUM_DISTANCE_FROM_BASE = 7,
		MAXIMUM_TIME_TO_EMERGENCY = 3932160,
		AMBULANCE_CAPACITY = 2,
	};
public:
	static int32_t fireSirenDist;
	static int32_t policeSirenDist;
	static int32_t ambSirenDist;
	static int32_t fireHoseDist;
protected:
	struct _GridCoordinates baseLocation;
	struct _GridCoordinates emergencyLocation;
	enum EmergencyType emergencyType;
	long timeOfArrival;
	struct _DYOBJ_INST dispatchIcon;
	int32_t timeToEmergency;
	class AutomobileClass* dispatchTarget;
	unsigned char dispatchPath[256];
	unsigned char dispatchPathIndex;
	unsigned char dispatchPathLength;
	enum EmergencyLevel emergencyState;
	int32_t stationID;
	int32_t numberOfSeats;
public:
	void EmergencyVehicleClass(const class EmergencyVehicleClass&);
	void EmergencyVehicleClass();
	virtual void ~EmergencyVehicleClass();
	enum EmergencyLevel GetEmergencyState();
	void InitializePlacedVehicleForDispatch(struct Goal, struct Goal, struct Goal, struct Goal, struct _GridCoordinates, struct Goal, enum EmergencyType);
	void InitializeStationVehicleForDispatch(int32_t, struct Goal, struct Goal, struct _GridCoordinates, struct Goal, struct Goal, struct _GridCoordinates, int32_t, struct Goal, enum EmergencyType);
	// calltype: NearC
	static int32_t AreThereMoreSeats(struct _DYOBJ_INST*);
	// calltype: NearC
	static void FillSeat(struct _DYOBJ_INST*);
	// calltype: NearC
	static void FinishedCarMission(struct _DYOBJ_INST*, int32_t);
protected:
	// vtable: 24
	intro void Reset();
	virtual void AdjustSpeed();
	virtual enum TurnIndex PickTurnDir(struct Goal*);
	void ArriveOnScene();
	void UnLinkIconFromCell(const struct _GridCoordinates);
	void LinkIconToCell(const struct _GridCoordinates);
	void PositionIcon();
	void GoBackToStation();
	void BuildPath(struct _RGIndex, struct _RGIndex);
	void TurnOnStrobe();
	void TurnOffStrobe();
	virtual void BeamToWithinCameraRange();
public:
	class EmergencyVehicleClass operator=(const class EmergencyVehicleClass&);
};

// Type: class AutomobileClass;
class AutomobileClass{
	enum /* __unnamed */ {
		CAR_TYPES = 7,
		PERCENTAGE_OF_AUTO1 = 10,
		PERCENTAGE_OF_AUTO2 = 20,
		PERCENTAGE_OF_AUTO3 = 20,
		PERCENTAGE_OF_AUTO4 = 10,
		PERCENTAGE_OF_AUTO5 = 10,
		PERCENTAGE_OF_AUTO6 = 20,
		PERCENTAGE_OF_AUTO7 = 20,
		TOTAL_PERCENTAGE = 110,
	};
	enum /* __unnamed */ {
		NO_X_POSITION = -1,
		STARTING_X = 3,
		ENDING_X = 125,
		NO_Y_POSITION = -1,
		STARTING_Y = 3,
		ENDING_Y = 125,
	};
	enum IntersectionTypes {
		DEAD_END = 0,
		STRAIGHT_AHEAD = 1,
		LEFT_ONLY = 2,
		RIGHT_ONLY = 4,
		LEFT_OR_STRAIGHT = 3,
		LEFT_OR_RIGHT = 6,
		RIGHT_OR_STRAIGHT = 5,
		LEFT_STRAIGHT_OR_RIGHT = 7,
		DEAD_END_HIWAY = 16,
	};
	enum StoppedReasons {
		NO_REASON = 0,
		TRAFFIC = 1,
		STOPPED_TRAFFIC = 2,
		PERSON_IN_WAY = 3,
		AUTO_IN_WAY = 4,
		DEBRIS_IN_WAY = 5,
		UNIDENTIFIED_IN_WAY = 6,
		HELI_IN_WAY = 7,
		END_OF_ROAD = 8,
		END_OF_HIWAY = 9,
		INTERSECTION_FULL = 10,
		BEEN_PULLED_OVER = 11,
	};
	enum RoadTileOffsets {
		RD_CENTOFF = 851968,
		RD_EDGEOFF = 131072,
	};
	enum HiwayOffsets {
		HW_CENTOFF_LANE1 = 851968,
		HW_EDGEOFF_LANE1 = 131072,
		HW_CENTOFF_LANE2 = 851968,
		HW_EDGEOFF_LANE2 = 131072,
		HW_HEIGHT = 2031616,
	};
	enum PersonState {
		PS_IN_VEHICLE = 0,
		PS_OUT_OF_VEHICLE = 1,
		PS_BACK_IN_VEHICLE = 2,
		PS_GOT_AWAY = 3,
		PS_MISSION_OVER = 4,
	};
	enum /* __unnamed */ {
		CAR_RADIUS = 327680,
		COLLISION_SPACE = 655360,
		ROAD_SPEED = 2621440,
		ROAD_SLOWDOWN_FACTOR = 131072,
		HIWAY_SPEED = 6225920,
		HIWAY_SLOWDOWN_FACTOR = 327680,
		SPEED_VARIANCE = 262144,
		HIWAY_VARIANCE = 655360,
		MAX_TIME_TO_WAIT_FOR_TRAFFIC = 1310720,
		MAX_TIME_TO_WAIT_PULLED_OVER = 196608,
		MAX_TIME_TO_WAIT_BEFORE_BEAMING = 235,
	};
	enum Flags {
		AUTO_INITIALIZED = 1,
		AUTO_PLACED = 2,
		AUTO_TURNING = 4,
		AUTO_MAKING_UTURN = 8,
		AUTO_PULL_OVER = 16,
		AUTO_PULLING_OVER = 32,
		AUTO_PULLED_OVER = 64,
		AUTO_AT_DEAD_END = 128,
		AUTO_IN_INTERSECTION = 256,
		AUTO_ON_FIRE = 512,
		AUTO_JAMMED = 1024,
		AUTO_PULLING_OUT = 2048,
		AUTO_RIGHT_OF_WAY = 4096,
		AUTO_ON_HIWAY = 8192,
	};
public:
	int32_t flags;
	struct _DYOBJ_INST autoDynomitor;
	struct Goal goal;
private:
	static struct Point2d lastScannedLocation;
	int32_t DeltaFromCenter;
	int32_t stalledTimer;
	struct Point3d directionVector;
	int32_t remainingTime;
	int32_t desiredSpeed;
	int32_t desiredHiwaySpeed;
	int32_t beamDelay;
	int32_t beamTimer;
	int32_t m_cellBaseY;
	int32_t timePulledOver;
	enum DirectionTypes hiwaydir;
	struct _GridCoordinates currentLocation;
	struct _GridCoordinates nextLocation;
	struct _GridCoordinates northCell;
	struct _GridCoordinates southCell;
	struct _GridCoordinates eastCell;
	struct _GridCoordinates westCell;
protected:
	long carModel;
	int32_t speed;
	enum DirIndex2 prevDir;
	enum TurnIndex turnIndex;
	int32_t currDist;
	int32_t legOfTurn;
	struct Point3d* pDirVector;
	int32_t timeToLive;
	int32_t fireTime;
	long fireSeq;
	long missionId;
	struct _CELL_INFO* cptr;
	enum AutomobileClass::PersonState personState;
	int32_t spotlightHitCounter;
	int32_t IsCarPersistant();
	int32_t CanCarBeamToHiwayTile(unsigned short);
public:
	void AutomobileClass(const class AutomobileClass&);
	void AutomobileClass();
	// vtable: 0
	intro void ~AutomobileClass();
	// calltype: NearC
	static class AutomobileClass* CreateInstance(int32_t);
	// calltype: NearC
	static class AutomobileClass* GetAutoPointer(long);
	// calltype: NearC
	static void DestroyInstance(class AutomobileClass*);
	// calltype: NearC
	static void ItterateAll();
	// calltype: NearC
	static void ResetAll();
	// calltype: NearC
	static int32_t MissionStartFire(long, struct Point2d*);
	// calltype: NearC
	static int32_t MissionStartJam(long, struct Point2d*);
	// calltype: NearC
	static void MissionCancel(long);
	// calltype: NearC
	static void SetAllHeadlights(int32_t);
	void HitDispatch(long, struct _DYOBJ_INST*, long, long);
	int32_t AmIABadGuy();
	int32_t Initialize(int32_t);
	void WaterDouse(struct _DYOBJ_INST*);
	void IveBeenMegaphoned(long);
	void StartFire(long);
	void StartJam(long);
	void PullOver();
	void PullOut();
	int32_t CanIPullOut();
protected:
	void Itterate();
	// vtable: 4
	intro void AdjustSpeed();
	void Reset();
	// vtable: 8
	intro enum TurnIndex PickTurnDir(struct Goal*);
	void UnPlaceCar();
	void PullOverCiviliansInWay();
	// vtable: 12
	intro void ItterateFSM();
	int32_t InitializeInstance(int32_t);
	void LinkToCell(const struct _GridCoordinates&);
	int32_t AreCarsHeadOn(struct Point3d*);
	enum AutomobileClass::StoppedReasons CollisionCheck(int32_t, struct _DYOBJ_INST**);
	int32_t IsCarOutOfCameraRange();
	void TurnOffHeadlight();
	void TurnOnHeadlight();
	void SetHiwayDirection(unsigned short);
	int32_t DoHiwayTilesConnect(unsigned short, unsigned short, enum DirectionTypes);
	void AdjustCurrentHiwayPosition();
	void AdjustNextHiwayPosition();
	enum AutomobileClass::IntersectionTypes PickHiwayDir(struct _GridCoordinates&);
	void MakeAHiwayTurn(enum AutomobileClass::IntersectionTypes);
	void GoStraight();
	void TurnLeft();
	void TurnRight();
	void MoveForwardOnHiway();
	void DoDiagonalRoadFixup();
	// vtable: 16
	intro void BeamToWithinCameraRange();
	// vtable: 20
	intro int32_t BeamToLocation(const struct _GridCoordinates&);
	void MoveAuto(int32_t);
private:
	void UnlinkFromCell(const struct _GridCoordinates&);
	void TransitionBetweenGoals();
	void RunFireState();
	void RunJamState();
	void IveBeenSpotlighted(struct _DYOBJ_INST*);
	int32_t IsThisAnEmergencyVehicle();
public:
	class AutomobileClass operator=(const class AutomobileClass&);
};



// Contribution: 1:00135e00-00137427 Module: 158, 16 byte alignment, code, execute, read, 
// FUNCTION: COPTER_D 0x00536e00
int32_t CreatePoliceCarInstance(int32_t instanceID) {
// LINE 90:
	__asm        mov    eax, instanceID;
	__asm        push   eax;
	__asm        call   PoliceCarClass::CreateInstance;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T24;

	__asm        mov    eax, 1;
	__asm        jmp    _T26;
_T24:
	__asm        xor    eax, eax;
_T26:
	__asm        jmp    near ptr 0x00536E2B;
// LINE 91:
}

// FUNCTION: COPTER_D 0x00536e30
void PoliceCarClass::PoliceCarClass() {

	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::EmergencyVehicleClass;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax], 0x593310;
// LINE 96:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+4], 0x11D;
// LINE 97:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x31E], 0;
// LINE 98:
	__asm        jmp    near ptr 0x00536E69;

	__asm        mov    eax, this;
}

// FUNCTION: COPTER_D 0x00536e71
void PoliceCarClass::~PoliceCarClass() {

	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax], 0x593310;
	__asm        jmp    near ptr 0x00536E8B;

	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::~EmergencyVehicleClass;
}

// FUNCTION: COPTER_D 0x00536e98
class PoliceCarClass* PoliceCarClass::CreateInstance(int32_t instanceID) {
	int32_t object;
	class PoliceCarClass* youveWonABrandNewCar;
	char * objectMemory;

// LINE 125:
	__asm        push   0x326;
	__asm        call   operator new;
	__asm        add    esp, 4;
	__asm        mov    [ebp-0x34], eax;
	__asm        cmp    dword ptr [ebp-0x34], 0;
	__asm        je     _T33;

	__asm        mov    ecx, [ebp-0x34];
	__asm        call   PoliceCarClass::PoliceCarClass;
	__asm        mov    youveWonABrandNewCar, eax;
	__asm        jmp    _T3a;
_T33:
	__asm        mov    youveWonABrandNewCar, 0;
// LINE 128:
_T3a:
	__asm        cmp    youveWonABrandNewCar, 0;
	__asm        je     _T1dd;
// LINE 131:
	__asm        mov    eax, instanceID;
	__asm        push   eax;
	__asm        mov    ecx, youveWonABrandNewCar;
	__asm        call   AutomobileClass::Initialize;
	__asm        test   eax, eax;
	__asm        je     _T1b6;
// LINE 135:
// Block start:
	struct VRObjInfo oinfo;
	__asm        push   0x122;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    object, eax;
// LINE 136:
	__asm        mov    eax, object;
	__asm        push   eax;
	__asm        call   0x004D8520;
	__asm        add    esp, 4;
	__asm        push   eax;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    objectMemory, eax;
// LINE 138:
	__asm        cmp    objectMemory, 0;
	__asm        je     _T113;
// LINE 143:
	__asm        mov    eax, objectMemory;
	__asm        push   eax;
	__asm        mov    eax, object;
	__asm        push   eax;
	__asm        call   0x004D8570;
	__asm        add    esp, 8;
	__asm        mov    ecx, youveWonABrandNewCar;
	__asm        mov    [ecx+0x12E], eax;
// LINE 145:
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        cmp    dword ptr [eax+0x12E], 0;
	__asm        je     _Td6;
// LINE 148:
	__asm        mov    eax, G_main_mp;
	__asm        push   eax;
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        mov    eax, [eax+0x12E];
	__asm        push   eax;
	__asm        call   0x004D84DB;
	__asm        add    esp, 8;
// LINE 150:
	__asm        jmp    _T10e;
// LINE 153:
_Td6:
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        cmp    dword ptr [eax+0x12E], 0;
	__asm        jne    _T102;

	__asm        push   0x99;
	__asm        push   0x5B7EB4;
	__asm        push   0x5B7ED8;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _T107;
_T102:
	__asm        jmp    _T107;
// LINE 155:
_T107:
	__asm        xor    eax, eax;
	__asm        jmp    _T1e4;
// LINE 158:
_T10e:
	__asm        jmp    _T145;
// LINE 161:
_T113:
	__asm        cmp    objectMemory, 0;
	__asm        jne    _T139;

	__asm        push   0xA1;
	__asm        push   0x5B7F00;
	__asm        push   0x5B7F24;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _T13e;
_T139:
	__asm        jmp    _T13e;
// LINE 163:
_T13e:
	__asm        xor    eax, eax;
	__asm        jmp    _T1e4;
// LINE 169:
_T145:
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        mov    word ptr [eax+0x134], 0;
// LINE 170:
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        mov    word ptr [eax+0x132], 0x21;
// LINE 171:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        mov    eax, [eax+0x12E];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 172:
	__asm        mov    eax, oinfo.Radius;
	__asm        mov    ecx, youveWonABrandNewCar;
	__asm        mov    [ecx+0x136], eax;
// LINE 173:
	__asm        push   0;
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        mov    eax, [eax+0x12E];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 175:
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        mov    ecx, curPoliceCars;
	__asm        mov    policeCars[0][ecx*4], eax;
	__asm        inc    curPoliceCars;
// LINE 177:
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        jmp    _T1e4;
// LINE 179:
// Block end:
	__asm        jmp    _T1dd;
// LINE 182:
_T1b6:
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        mov    [ebp-0x3C], eax;
	__asm        mov    eax, [ebp-0x3C];
	__asm        mov    [ebp-0x38], eax;
	__asm        cmp    dword ptr [ebp-0x38], 0;
	__asm        je     _T1dd;

	__asm        push   1;
	__asm        mov    eax, [ebp-0x38];
	__asm        mov    eax, [eax];
	__asm        mov    ecx, [ebp-0x38];
	__asm        call   dword ptr [eax];
	__asm        jmp    _T1dd;
// LINE 188:
_T1dd:
	__asm        xor    eax, eax;
	__asm        jmp    _T1e4;
// LINE 189:
_T1e4:
}

// FUNCTION: COPTER_D 0x00537081
unsigned char PoliceCarClass::Dispatch(enum EmergencyType responseType, enum EmergencyLevel responseLevel, long mapx, long mapy) {
// LINE 217:
	__asm        push   5;
	__asm        push   0x62B9E8;
	__asm        mov    eax, responseLevel;
	__asm        push   eax;
	__asm        mov    eax, responseType;
	__asm        push   eax;
	__asm        mov    eax, mapy;
	__asm        push   eax;
	__asm        mov    eax, mapx;
	__asm        push   eax;
	__asm        mov    ecx, gPoliceStations;
	__asm        call   Station::DispatchNearestAvailableVehicle;
	__asm        jmp    near ptr 0x005370AE;
// LINE 218:
}

// FUNCTION: COPTER_D 0x005370b3
void PoliceCarClass::ItterateFSM() {
	struct _GridCoordinates oldemergencyloc;
	struct _CELL_INFO* cptr;
	struct _MISSION_PARMS mp;
	struct Point3d vec;
	int32_t dist;
	struct _GridCoordinates badGuyLoc;

// LINE 248:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x31E], 0;
// LINE 250:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x294];
	__asm        mov    [ebp-0x48], eax;
	__asm        jmp    _T940;
// LINE 253:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0xFE], 0;
	__asm        jle    _T4d;
// LINE 254:
	__asm        xor    eax, eax;
	__asm        sub    eax, LoopTime;
	__asm        neg    eax;
	__asm        mov    ecx, this;
	__asm        sub    [ecx+0xFE], eax;
// LINE 256:
_T4d:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0xFE], 0;
	__asm        jg     _Td4;

	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::CanIPullOut;
	__asm        test   eax, eax;
	__asm        je     _Td4;
// LINE 261:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::UnPlaceCar;
// LINE 262:
	__asm        mov    eax, this;
	__asm        movsx  eax, word ptr [eax+0x1A];
	__asm        push   eax;
	__asm        call   S3MapRemoveCarInfo;
	__asm        add    esp, 4;
// LINE 263:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x298];
	__asm        push   eax;
	__asm        mov    ecx, gPoliceStations;
	__asm        call   Station::DecrementQuantityOfVehicleDispatched;
// LINE 267:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::PullOut;
// LINE 268:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+8];
// LINE 269:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x294], 2;
// LINE 270:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x11E], 3;
// LINE 271:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::ItterateFSM;
// LINE 273:
	__asm        jmp    _T96f;
// LINE 276:
_Td4:
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x7C];
	__asm        mov    reinterpret_cast<uint16_t>(badGuyLoc.x), ax;
// LINE 277:
	__asm        lea    eax, badGuyLoc.x;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   PoliceCarClass::ScanForBadGuys;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x322], eax;
// LINE 278:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x322], 0;
	__asm        je     _T18f;

	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x322];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 0x10;
	__asm        je     _T18f;
// LINE 281:
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::TurnOnStrobe;
// LINE 282:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x294], 6;
// LINE 283:
	__asm        mov    eax, this;
	__asm        mov    byte ptr [eax+0x292], 0;
// LINE 286:
	__asm        mov    mp.op, 0xA;
// LINE 287:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x10E];
	__asm        mov    mp.id, eax;
// LINE 288:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x322];
	__asm        movsx  eax, word ptr [eax+0xE];
	__asm        mov    eax, cars[0][eax*4];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x7C];
	__asm        mov    mp.maploc.x, ecx;
// LINE 289:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x322];
	__asm        movsx  eax, word ptr [eax+0xE];
	__asm        mov    eax, cars[0][eax*4];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x7D];
	__asm        mov    mp.maploc.y, ecx;
// LINE 290:
	__asm        lea    eax, mp.op;
	__asm        push   eax;
	__asm        call   S3MissionUpdate;
	__asm        add    esp, 4;
// LINE 292:
_T18f:
	__asm        jmp    _T96f;
// LINE 295:
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::TurnOffStrobe;
// LINE 298:
	__asm        mov    eax, this;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x7C];
	__asm        mov    eax, this;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+0x11A];
	__asm        cmp    ecx, edx;
	__asm        jne    _T204;

	__asm        mov    eax, this;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x7D];
	__asm        mov    eax, this;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+0x11B];
	__asm        cmp    ecx, edx;
	__asm        jne    _T204;
// LINE 301:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x298];
	__asm        push   eax;
	__asm        mov    ecx, gPoliceStations;
	__asm        call   Station::DecrementQuantityOfVehicleDispatched;
// LINE 302:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::UnPlaceCar;
// LINE 303:
	__asm        mov    eax, this;
	__asm        movsx  eax, word ptr [eax+0x1A];
	__asm        push   eax;
	__asm        call   S3MapRemoveCarInfo;
	__asm        add    esp, 4;
// LINE 305:
	__asm        jmp    _T974;
// LINE 308:
_T204:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::ItterateFSM;
// LINE 309:
	__asm        jmp    _T96f;
// LINE 312:
	__asm        mov    eax, this;
	__asm        test   byte ptr [eax+8], 0x10;
	__asm        je     _T22b;
// LINE 314:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::ItterateFSM;
// LINE 315:
	__asm        jmp    _T96f;
// LINE 318:
_T22b:
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::PositionIcon;
// LINE 320:
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x7C];
	__asm        mov    reinterpret_cast<uint16_t>(badGuyLoc.x), ax;
// LINE 321:
	__asm        lea    eax, badGuyLoc.x;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   PoliceCarClass::ScanForBadGuys;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x322], eax;
// LINE 322:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x322], 0;
	__asm        je     _T2a0;

	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x322];
	__asm        movsx  eax, word ptr [eax+0xE];
	__asm        mov    eax, cars[0][eax*4];
	__asm        test   byte ptr [eax+8], 0x10;
	__asm        je     _T2a0;
// LINE 326:
	__asm        mov    eax, this;
	__asm        test   byte ptr [eax+8], 0x10;
	__asm        jne    _T29b;
// LINE 327:
	__asm        push   0xFFFFFFFF;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+4];
// LINE 329:
_T29b:
	__asm        jmp    _T538;
_T2a0:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x322], 0;
	__asm        je     _T37e;

	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x322];
	__asm        movsx  eax, word ptr [eax+0xE];
	__asm        mov    eax, cars[0][eax*4];
	__asm        test   byte ptr [eax+8], 0x20;
	__asm        je     _T37e;

	__asm        mov    eax, this;
	__asm        test   byte ptr [eax+8], 0x20;
	__asm        je     _T37e;
// LINE 332:
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x11C];
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::UnLinkIconFromCell;
// LINE 333:
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::TurnOffStrobe;
// LINE 336:
	__asm        push   8;
	__asm        push   0xE;
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::PlacePerson;
	__asm        test   eax, eax;
	__asm        je     _T33b;
// LINE 338:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x294], 5;
// LINE 339:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0xF6], 0;
// LINE 340:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0xFE], 0xF00000;
// LINE 341:
	__asm        jmp    _T96f;
// LINE 343:
	__asm        jmp    _T379;
// LINE 346:
_T33b:
	__asm        push   0x15A;
	__asm        push   0x5B7F34;
	__asm        push   0x5B7F58;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _T35c;

	__asm        jmp    _T35c;
// LINE 348:
_T35c:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::UnPlaceCar;
// LINE 349:
	__asm        mov    eax, this;
	__asm        movsx  eax, word ptr [eax+0x1A];
	__asm        push   eax;
	__asm        call   S3MapRemoveCarInfo;
	__asm        add    esp, 4;
// LINE 350:
	__asm        jmp    _T96f;
// LINE 354:
_T379:
	__asm        jmp    _T538;
// LINE 356:
_T37e:
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x11C];
	__asm        mov    reinterpret_cast<uint16_t>(oldemergencyloc.x), ax;
// LINE 358:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x322], 0;
	__asm        je     _T3bc;
// LINE 360:
	__asm        mov    ax, reinterpret_cast<uint16_t>(badGuyLoc.x);
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x11C], ax;
// LINE 361:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x31E], 1;
// LINE 363:
	__asm        jmp    _T3cd;
// LINE 365:
_T3bc:
	__asm        mov    ecx, this;
	__asm        call   PoliceCarClass::ChangeEmergencyLocationToSpotlightLocation;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x31E], eax;
// LINE 369:
_T3cd:
	__asm        mov    eax, ViewState.world_pos.x;
	__asm        mov    ecx, this;
	__asm        sub    eax, [ecx+0x24];
	__asm        mov    vec.x, eax;
// LINE 370:
	__asm        mov    eax, ViewState.world_pos.y;
	__asm        mov    ecx, this;
	__asm        sub    eax, [ecx+0x28];
	__asm        mov    vec.y, eax;
// LINE 371:
	__asm        mov    eax, ViewState.world_pos.z;
	__asm        mov    ecx, this;
	__asm        sub    eax, [ecx+0x2C];
	__asm        mov    vec.z, eax;
// LINE 372:
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        call   MTNormalize;
	__asm        add    esp, 4;
	__asm        mov    dist, eax;
// LINE 373:
	__asm        mov    eax, dist;
	__asm        cmp    AutomobileClass::policeSirenDist, eax;
	__asm        jle    _T41d;
// LINE 374:
	__asm        mov    eax, dist;
	__asm        mov    AutomobileClass::policeSirenDist, eax;
// LINE 376:
_T41d:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::PullOverCiviliansInWay;
// LINE 380:
	__asm        mov    eax, reinterpret_cast<uint32_t>(oldemergencyloc.x);
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::UnLinkIconFromCell;
	__asm        mov    eax, this;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x11D];
	__asm        mov    [ebp-0x3C], ecx;
	__asm        mov    eax, this;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x11C];
	__asm        mov    [ebp-0x40], ecx;
// LINE 381:
	__asm        mov    eax, [ebp-0x40];
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, [ebp-0x3C];
	__asm        and    ecx, 0xFF;
	__asm        mov    eax, G_omap[0][0][eax+ecx*4];
	__asm        mov    [ebp-0x38], eax;
	__asm        cmp    dword ptr [ebp-0x38], 0;
	__asm        jne    _T491;

	__asm        push   0xA0;
	__asm        push   0x5B57C4;
	__asm        push   0x5B57B8;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _T496;
_T491:
	__asm        jmp    _T496;
_T496:
	__asm        jmp    near ptr 0x0053754E;

	__asm        mov    eax, [ebp-0x38];
	__asm        mov    cptr, eax;
// LINE 382:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+2];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x13E], eax;
// LINE 383:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+4];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x142], eax;
// LINE 384:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+6];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x146], eax;
// LINE 385:
	__asm        mov    eax, this;
	__asm        add    dword ptr [eax+0x142], 0xA0000;
// LINE 386:
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x11C];
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::LinkIconToCell;
// LINE 388:
	__asm        mov    eax, this;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x7C];
	__asm        mov    eax, this;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+0x11C];
	__asm        cmp    ecx, edx;
	__asm        jne    _T530;

	__asm        mov    eax, this;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x7D];
	__asm        mov    eax, this;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+0x11D];
	__asm        cmp    ecx, edx;
	__asm        je     _T538;
// LINE 389:
_T530:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::ItterateFSM;
// LINE 392:
_T538:
	__asm        jmp    _T96f;
// LINE 396:
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::PositionIcon;
// LINE 399:
	__asm        mov    eax, this;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x7C];
	__asm        mov    eax, this;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+0x11C];
	__asm        cmp    ecx, edx;
	__asm        jne    _T58f;

	__asm        mov    eax, this;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x7D];
	__asm        mov    eax, this;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+0x11D];
	__asm        cmp    ecx, edx;
	__asm        jne    _T58f;

	__asm        mov    eax, this;
	__asm        test   byte ptr [eax+8], 0x70;
	__asm        jne    _T58f;
// LINE 401:
	__asm        mov    eax, this;
	__asm        or     dword ptr [eax+8], 4;
// LINE 404:
_T58f:
	__asm        mov    eax, this;
	__asm        test   byte ptr [eax+8], 4;
	__asm        je     _T6ca;
// LINE 406:
	__asm        mov    eax, this;
	__asm        test   byte ptr [eax+8], 0x30;
	__asm        jne    _T5cb;

	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::CanIPullOver;
	__asm        test   eax, eax;
	__asm        je     _T5cb;
// LINE 408:
	__asm        push   0xFFFFFFFF;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+4];
// LINE 410:
	__asm        jmp    _T6bd;
_T5cb:
	__asm        mov    eax, this;
	__asm        test   byte ptr [eax+8], 0x20;
	__asm        je     _T6bd;
// LINE 412:
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x11C];
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::UnLinkIconFromCell;
// LINE 413:
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::TurnOffStrobe;
// LINE 414:
	__asm        mov    eax, this;
	__asm        and    dword ptr [eax+8], 0xFFFFFFFB;
// LINE 417:
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x7C];
	__asm        mov    reinterpret_cast<uint16_t>(badGuyLoc.x), ax;
// LINE 418:
	__asm        lea    eax, badGuyLoc.x;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   PoliceCarClass::ScanForBadGuys;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x322], eax;
// LINE 419:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x322], 0;
	__asm        je     _T689;
// LINE 422:
	__asm        push   8;
	__asm        push   0xE;
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::PlacePerson;
	__asm        test   eax, eax;
	__asm        je     _T66a;
// LINE 424:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x294], 5;
// LINE 425:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0xF6], 0;
// LINE 426:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0xFE], 0xF00000;
// LINE 428:
	__asm        jmp    _T684;
// LINE 432:
_T66a:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0xFE], 0;
// LINE 433:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x294], 1;
// LINE 436:
_T684:
	__asm        jmp    _T6b8;
// LINE 439:
_T689:
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::TurnOffStrobe;
// LINE 440:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x294], 1;
// LINE 441:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0xF6], 0;
// LINE 442:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0xFE], 0x12C0000;
// LINE 445:
_T6b8:
	__asm        jmp    _T974;
// LINE 448:
_T6bd:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::ItterateFSM;
// LINE 450:
	__asm        jmp    _T72a;
// LINE 453:
_T6ca:
	__asm        mov    eax, ViewState.world_pos.x;
	__asm        mov    ecx, this;
	__asm        sub    eax, [ecx+0x24];
	__asm        mov    vec.x, eax;
// LINE 454:
	__asm        mov    eax, ViewState.world_pos.y;
	__asm        mov    ecx, this;
	__asm        sub    eax, [ecx+0x28];
	__asm        mov    vec.y, eax;
// LINE 455:
	__asm        mov    eax, ViewState.world_pos.z;
	__asm        mov    ecx, this;
	__asm        sub    eax, [ecx+0x2C];
	__asm        mov    vec.z, eax;
// LINE 456:
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        call   MTNormalize;
	__asm        add    esp, 4;
	__asm        mov    dist, eax;
// LINE 457:
	__asm        mov    eax, dist;
	__asm        cmp    AutomobileClass::policeSirenDist, eax;
	__asm        jle    _T71a;
// LINE 458:
	__asm        mov    eax, dist;
	__asm        mov    AutomobileClass::policeSirenDist, eax;
// LINE 460:
_T71a:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::PullOverCiviliansInWay;
// LINE 461:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::ItterateFSM;
// LINE 463:
_T72a:
	__asm        jmp    _T96f;
// LINE 466:
	__asm        mov    eax, this;
	__asm        test   byte ptr [eax+8], 0x20;
	__asm        jne    _T749;
// LINE 469:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::ItterateFSM;
// LINE 470:
	__asm        jmp    _T96f;
// LINE 473:
_T749:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0xFE], 0;
	__asm        jle    _T76c;
// LINE 474:
	__asm        xor    eax, eax;
	__asm        sub    eax, LoopTime;
	__asm        neg    eax;
	__asm        mov    ecx, this;
	__asm        sub    [ecx+0xFE], eax;
// LINE 477:
_T76c:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0xF6], 0;
	__asm        jne    _T78c;

	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0xFE], 0;
	__asm        jg     _T854;
// LINE 479:
_T78c:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0xFA], 0;
	__asm        jne    _T7ac;

	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0xFE], 0;
	__asm        jg     _T847;
// LINE 481:
_T7ac:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::PullOut;
// LINE 485:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::UnPlaceCar;
// LINE 486:
	__asm        mov    eax, this;
	__asm        movsx  eax, word ptr [eax+0x1A];
	__asm        push   eax;
	__asm        call   S3MapRemoveCarInfo;
	__asm        add    esp, 4;
// LINE 487:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x298];
	__asm        push   eax;
	__asm        mov    ecx, gHospitals;
	__asm        call   Station::DecrementQuantityOfVehicleDispatched;
// LINE 491:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x294], 2;
// LINE 492:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+8];
// LINE 495:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x322], 0;
	__asm        je     _T842;
// LINE 497:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x322];
	__asm        movsx  eax, word ptr [eax+0xE];
	__asm        mov    eax, cars[0][eax*4];
	__asm        test   byte ptr [eax+9], 0x10;
	__asm        je     _T842;
// LINE 498:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x322];
	__asm        movsx  eax, word ptr [eax+0xE];
	__asm        mov    eax, cars[0][eax*4];
	__asm        or     dword ptr [eax+8], 0x2000;
// LINE 501:
_T842:
	__asm        jmp    _T854;
// LINE 503:
_T847:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x294], 1;
// LINE 506:
_T854:
	__asm        jmp    _T96f;
// LINE 509:
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x7C];
	__asm        mov    reinterpret_cast<uint16_t>(badGuyLoc.x), ax;
// LINE 510:
	__asm        lea    eax, badGuyLoc.x;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   PoliceCarClass::ScanForBadGuys;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x322], eax;
// LINE 511:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x322], 0;
	__asm        je     _T903;

	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x322];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 0x10;
	__asm        je     _T903;
// LINE 514:
	__asm        mov    eax, ViewState.world_pos.x;
	__asm        mov    ecx, this;
	__asm        sub    eax, [ecx+0x24];
	__asm        mov    vec.x, eax;
// LINE 515:
	__asm        mov    eax, ViewState.world_pos.y;
	__asm        mov    ecx, this;
	__asm        sub    eax, [ecx+0x28];
	__asm        mov    vec.y, eax;
// LINE 516:
	__asm        mov    eax, ViewState.world_pos.z;
	__asm        mov    ecx, this;
	__asm        sub    eax, [ecx+0x2C];
	__asm        mov    vec.z, eax;
// LINE 517:
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        call   MTNormalize;
	__asm        add    esp, 4;
	__asm        mov    dist, eax;
// LINE 518:
	__asm        mov    eax, dist;
	__asm        cmp    AutomobileClass::policeSirenDist, eax;
	__asm        jle    _T8ee;
// LINE 519:
	__asm        mov    eax, dist;
	__asm        mov    AutomobileClass::policeSirenDist, eax;
// LINE 521:
_T8ee:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::PullOverCiviliansInWay;
// LINE 522:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::ItterateFSM;
// LINE 524:
	__asm        jmp    _T910;
// LINE 527:
_T903:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x294], 2;
// LINE 529:
_T910:
	__asm        jmp    _T96f;
// LINE 532:
_T915:
	__asm        push   0x214;
	__asm        push   0x5B7F60;
	__asm        push   0x5B7F84;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _T936;

	__asm        jmp    _T936;
// LINE 533:
_T936:
	__asm        jmp    _T96f;
// LINE 534:
	__asm        jmp    _T96f;
_T940:
	__asm        dec    dword ptr [ebp-0x48];
	__asm        cmp    dword ptr [ebp-0x48], 5;
	__asm        ja     _T915;

	__asm        mov    eax, [ebp-0x48];
	__asm        jmp    SwitchPointers5470730[0][eax*4];
// Switch pointers
// LINE 535:
_T96f:
	__asm        jmp    _T974;
_T974:
}

// FUNCTION: COPTER_D 0x00537a2c
enum TurnIndex PoliceCarClass::PickTurnDir(struct Goal* pGoal) {
	struct _GridCoordinates startLoc;

// LINE 545:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x11E], 3;
	__asm        jne    _T3da;
// LINE 547:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x31E], 0;
	__asm        je     _T37e;
// LINE 552:
// Block start:
	struct _RGIndex destVertex;
	struct _RGIndex startVertex;
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x7C];
	__asm        mov    reinterpret_cast<uint16_t>(startLoc.x), ax;
// LINE 555:
	__asm        mov    al, startLoc.x;
	__asm        mov    startVertex.x, al;
// LINE 556:
	__asm        xor    eax, eax;
	__asm        mov    al, startLoc.y;
	__asm        push   eax;
	__asm        xor    eax, eax;
	__asm        mov    al, startLoc.x;
	__asm        push   eax;
	__asm        mov    ecx, 0x5C3828;
	__asm        call   RoadGraph::FindYIndexToVertex;
	__asm        mov    startVertex.yindex, al;
// LINE 558:
	__asm        mov    eax, this;
	__asm        add    eax, 0x2F4;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        add    eax, 0x2CA;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x11C];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x11C];
	__asm        push   eax;
	__asm        lea    eax, [ebp-0x38];
	__asm        push   eax;
	__asm        mov    ecx, 0x5C3828;
	__asm        call   RoadGraph::FindIntersections;
// LINE 562:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x2F4], 0;
	__asm        jne    _Ted;
// LINE 564:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x2CA], 0;
	__asm        jne    _Tc8;

	__asm        push   0x234;
	__asm        push   0x5B7F8C;
	__asm        push   0x5B7FB0;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _Tcd;
_Tc8:
	__asm        jmp    _Tcd;
// LINE 565:
_Tcd:
	__asm        mov    esi, this;
	__asm        mov    edi, this;
	__asm        add    edi, 0x2A0;
	__asm        add    esi, 0x2CA;
	__asm        mov    ecx, 0xA;
	__asm        rep movsd;
	__asm        movsw;
// LINE 567:
	__asm        jmp    _T28d;
_Ted:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x2CA], 0;
	__asm        jne    _T14e;
// LINE 569:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x2F4], 0;
	__asm        jne    _T129;

	__asm        push   0x239;
	__asm        push   0x5B7FC0;
	__asm        push   0x5B7FE4;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _T12e;
_T129:
	__asm        jmp    _T12e;
// LINE 570:
_T12e:
	__asm        mov    esi, this;
	__asm        mov    edi, this;
	__asm        add    edi, 0x2A0;
	__asm        add    esi, 0x2F4;
	__asm        mov    ecx, 0xA;
	__asm        rep movsd;
	__asm        movsw;
// LINE 574:
	__asm        jmp    _T28d;
_T14e:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2CA];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax];
	__asm        xor    eax, eax;
	__asm        mov    al, startLoc.x;
	__asm        cmp    ecx, eax;
	__asm        jne    _T1c4;

	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2CA];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+1];
	__asm        xor    eax, eax;
	__asm        mov    al, startLoc.y;
	__asm        cmp    ecx, eax;
	__asm        jne    _T1c4;
// LINE 576:
	__asm        mov    esi, this;
	__asm        mov    edi, this;
	__asm        add    edi, 0x2A0;
	__asm        add    esi, 0x2CA;
	__asm        mov    ecx, 0xA;
	__asm        rep movsd;
	__asm        movsw;
// LINE 577:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2D8];
	__asm        mov    ecx, this;
	__asm        mov    ecx, [ecx+0xE2];
	__asm        shl    ecx, 4;
	__asm        mov    eax, TILUT[0][0][ecx+eax*4];
	__asm        jmp    _T3fc;
// LINE 579:
	__asm        jmp    _T28d;
_T1c4:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2F4];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax];
	__asm        xor    eax, eax;
	__asm        mov    al, startLoc.x;
	__asm        cmp    ecx, eax;
	__asm        jne    _T23a;

	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2F4];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+1];
	__asm        xor    eax, eax;
	__asm        mov    al, startLoc.y;
	__asm        cmp    ecx, eax;
	__asm        jne    _T23a;
// LINE 581:
	__asm        mov    esi, this;
	__asm        mov    edi, this;
	__asm        add    edi, 0x2A0;
	__asm        add    esi, 0x2F4;
	__asm        mov    ecx, 0xA;
	__asm        rep movsd;
	__asm        movsw;
// LINE 582:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x302];
	__asm        mov    ecx, this;
	__asm        mov    ecx, [ecx+0xE2];
	__asm        shl    ecx, 4;
	__asm        mov    eax, TILUT[0][0][ecx+eax*4];
	__asm        jmp    _T3fc;
// LINE 584:
	__asm        jmp    _T28d;
_T23a:
	__asm        mov    eax, this;
	__asm        mov    ecx, this;
	__asm        mov    ecx, [ecx+0x2CA];
	__asm        cmp    [eax+0x2A0], ecx;
	__asm        jne    _T272;
// LINE 586:
	__asm        mov    esi, this;
	__asm        mov    edi, this;
	__asm        add    edi, 0x2A0;
	__asm        add    esi, 0x2F4;
	__asm        mov    ecx, 0xA;
	__asm        rep movsd;
	__asm        movsw;
// LINE 588:
	__asm        jmp    _T28d;
// LINE 590:
_T272:
	__asm        mov    esi, this;
	__asm        mov    edi, this;
	__asm        add    edi, 0x2A0;
	__asm        add    esi, 0x2CA;
	__asm        mov    ecx, 0xA;
	__asm        rep movsd;
	__asm        movsw;
// LINE 593:
_T28d:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x2CA], 0;
	__asm        jne    _T2ce;

	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x2F4], 0;
	__asm        jne    _T2ce;

	__asm        push   0x251;
	__asm        push   0x5B7FF4;
	__asm        push   0x5B8018;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _T2ce;

	__asm        jmp    _T2ce;
// LINE 595:
_T2ce:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2A0];
	__asm        mov    al, [eax];
	__asm        mov    destVertex.x, al;
// LINE 596:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2A0];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+1];
	__asm        push   ecx;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2A0];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax];
	__asm        push   ecx;
	__asm        mov    ecx, 0x5C3828;
	__asm        call   RoadGraph::FindYIndexToVertex;
	__asm        mov    destVertex.yindex, al;
// LINE 599:
	__asm        xor    eax, eax;
	__asm        mov    al, destVertex.x;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, startVertex.x;
	__asm        cmp    eax, ecx;
	__asm        jne    _T34d;

	__asm        xor    eax, eax;
	__asm        mov    al, destVertex.yindex;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, startVertex.yindex;
	__asm        cmp    eax, ecx;
	__asm        jne    _T34d;
// LINE 602:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0xDE], 0;
// LINE 603:
	__asm        mov    eax, pGoal;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::PickTurnDir;
	__asm        jmp    _T3fc;
// LINE 605:
	__asm        jmp    _T36f;
// LINE 608:
_T34d:
	__asm        mov    eax, reinterpret_cast<uint32_t>(destVertex.x);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(startVertex.x);
	__asm        push   eax;
	__asm        mov    ecx, 0x5C37F8;
	__asm        call   ShortestPath::DepthFirstSearch;
// LINE 609:
	__asm        mov    eax, reinterpret_cast<uint32_t>(destVertex.x);
	__asm        push   eax;
	__asm        mov    eax, reinterpret_cast<uint32_t>(startVertex.x);
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::BuildPath;
// LINE 613:
_T36f:
	__asm        mov    eax, this;
	__asm        mov    byte ptr [eax+0x292], 0;
// LINE 615:
// Block end:
	__asm        jmp    _T3a6;
// LINE 621:
_T37e:
	__asm        mov    eax, this;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x293];
	__asm        dec    ecx;
	__asm        mov    eax, this;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+0x292];
	__asm        cmp    ecx, edx;
	__asm        jle    _T3a6;
// LINE 622:
	__asm        mov    eax, this;
	__asm        inc    byte ptr [eax+0x292];
// LINE 628:
_T3a6:
	__asm        mov    eax, this;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x292];
	__asm        mov    eax, this;
	__asm        xor    edx, edx;
	__asm        mov    dl, [ecx+eax+0x192];
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0xE2];
	__asm        shl    eax, 4;
	__asm        mov    eax, TILUT[0][0][eax+edx*4];
	__asm        jmp    _T3fc;
// LINE 630:
	__asm        jmp    _T3eb;
// LINE 633:
_T3da:
	__asm        mov    eax, pGoal;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::PickTurnDir;
	__asm        jmp    _T3fc;
// LINE 636:
_T3eb:
	__asm        mov    eax, pGoal;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::PickTurnDir;
	__asm        jmp    _T3fc;
// LINE 637:
_T3fc:
}

// FUNCTION: COPTER_D 0x00537e2f
int32_t PoliceCarClass::ChangeEmergencyLocationToSpotlightLocation() {
	struct _GridCoordinates loc;
	class SpiralScan scan;

// LINE 643:
	__asm        push   4;
	__asm        lea    ecx, scan.currDist;
	__asm        call   SpiralScan::SpiralScan;
// LINE 647:
	__asm        mov    eax, G_uheli;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+0x18];
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    loc.x, al;
// LINE 648:
	__asm        mov    eax, 0x20000000;
	__asm        mov    ecx, G_uheli;
	__asm        mov    ecx, [ecx+0xC0];
	__asm        sub    eax, [ecx+0x20];
	__asm        sar    eax, 0x16;
	__asm        mov    loc.y, al;
// LINE 653:
_T49:
	__asm        xor    eax, eax;
	__asm        mov    al, loc.x;
	__asm        test   eax, eax;
	__asm        jl     _T7f;

	__asm        xor    eax, eax;
	__asm        mov    al, loc.x;
	__asm        cmp    eax, 0x7F;
	__asm        jg     _T7f;

	__asm        xor    eax, eax;
	__asm        mov    al, loc.y;
	__asm        test   eax, eax;
	__asm        jl     _T7f;

	__asm        xor    eax, eax;
	__asm        mov    al, loc.y;
	__asm        cmp    eax, 0x7F;
	__asm        jle    _T8b;
_T7f:
	__asm        mov    dword ptr [ebp-0x24], 0;
	__asm        jmp    _Te4;
_T8b:
	__asm        xor    eax, eax;
	__asm        mov    al, loc.x;
	__asm        mov    eax, BuildMap[eax*4];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, loc.y;
	__asm        movzx  ax, byte ptr [eax+ecx];
	__asm        mov    [ebp-0x20], ax;
	__asm        mov    eax, [ebp-0x20];
	__asm        and    eax, 0xFFFF;
	__asm        cmp    eax, 0x1D;
	__asm        jl     _Td8;

	__asm        mov    eax, [ebp-0x20];
	__asm        and    eax, 0xFFFF;
	__asm        cmp    eax, 0x2C;
	__asm        jge    _Td8;

	__asm        mov    dword ptr [ebp-0x24], 1;
	__asm        jmp    _Te4;

	__asm        jmp    _Te4;
_Td8:
	__asm        mov    dword ptr [ebp-0x24], 0;
	__asm        jmp    _Te4;
_Te4:
	__asm        cmp    dword ptr [ebp-0x24], 0;
	__asm        je     _T110;
// LINE 655:
	__asm        mov    ax, reinterpret_cast<uint16_t>(loc.x);
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x11C], ax;
// LINE 656:
	__asm        mov    dword ptr [ebp-0x18], 1;
	__asm        jmp    near ptr 0x00537F37;

	__asm        mov    eax, [ebp-0x18];
	__asm        jmp    _T138;
// LINE 659:
_T110:
	__asm        lea    eax, loc.x;
	__asm        push   eax;
	__asm        lea    ecx, scan.currDist;
	__asm        call   SpiralScan::Next;
	__asm        test   eax, eax;
	__asm        jne    _T49;
// LINE 661:
	__asm        mov    dword ptr [ebp-0x1C], 0;
	__asm        jmp    near ptr 0x00537F5F;

	__asm        mov    eax, [ebp-0x1C];
	__asm        jmp    _T138;
// LINE 662:
_T138:
}

// FUNCTION: COPTER_D 0x00537f6c
int32_t PoliceCarClass::AtScene() {
// LINE 669:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x11E];
	__asm        mov    [ebp-8], eax;
	__asm        jmp    _T48;
// LINE 673:
	__asm        jmp    _T61;
// LINE 675:
_T22:
	__asm        push   0x2A3;
	__asm        push   0x5B8020;
	__asm        push   0x5B8044;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _T43;

	__asm        jmp    _T43;
// LINE 676:
_T43:
	__asm        jmp    _T61;
_T48:
	__asm        cmp    dword ptr [ebp-8], 3;
	__asm        jl     _T22;

	__asm        cmp    dword ptr [ebp-8], 4;
	__asm        jle    _T61;

	__asm        jmp    _T22;
// LINE 681:
_T61:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x00537FD4;
// LINE 682:
}

// FUNCTION: COPTER_D 0x00537fd9
struct _DYOBJ_INST* PoliceCarClass::ScanForBadGuys(struct _GridCoordinates& scanLoc) {
	struct _CELL_INFO* cptr;
	struct _DYOBJ_INST* dyptr;
	class SpiralScan spiral;

// LINE 690:
	__asm        push   3;
	__asm        lea    ecx, spiral.currDist;
	__asm        call   SpiralScan::SpiralScan;
// LINE 694:
_T16:
	__asm        mov    eax, scanLoc;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+1];
	__asm        mov    [ebp-0x2C], ecx;
	__asm        mov    eax, scanLoc;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax];
	__asm        mov    [ebp-0x30], ecx;
// LINE 696:
	__asm        mov    eax, [ebp-0x30];
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, [ebp-0x2C];
	__asm        and    ecx, 0xFF;
	__asm        mov    eax, G_omap[0][0][eax+ecx*4];
	__asm        mov    [ebp-0x28], eax;
	__asm        cmp    dword ptr [ebp-0x28], 0;
	__asm        jne    _T6f;

	__asm        push   0xA0;
	__asm        push   0x5B57C4;
	__asm        push   0x5B57B8;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _T74;
_T6f:
	__asm        jmp    _T74;
_T74:
	__asm        jmp    near ptr 0x00538052;

	__asm        mov    eax, [ebp-0x28];
	__asm        mov    cptr, eax;
// LINE 697:
	__asm        mov    eax, cptr;
	__asm        mov    eax, [eax+0x10];
	__asm        mov    dyptr, eax;
// LINE 701:
_T88:
	__asm        cmp    dyptr, 0;
	__asm        je     _T117;
// LINE 703:
	__asm        mov    eax, dyptr;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 8;
	__asm        je     _Tcd;

	__asm        mov    eax, dyptr;
	__asm        push   eax;
	__asm        call   IsThisABadGuy;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _Tcd;
// LINE 705:
	__asm        mov    eax, dyptr;
	__asm        mov    [ebp-0x1C], eax;
	__asm        jmp    near ptr 0x00538099;

	__asm        mov    eax, [ebp-0x1C];
	__asm        jmp    _T13f;
// LINE 707:
	__asm        jmp    _T10a;
_Tcd:
	__asm        mov    eax, dyptr;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 0x10;
	__asm        je     _T10a;

	__asm        mov    eax, dyptr;
	__asm        movsx  eax, word ptr [eax+0xE];
	__asm        mov    ecx, cars[0][eax*4];
	__asm        call   AutomobileClass::AmIABadGuy;
	__asm        test   eax, eax;
	__asm        je     _T10a;
// LINE 709:
	__asm        mov    eax, dyptr;
	__asm        mov    [ebp-0x20], eax;
	__asm        jmp    near ptr 0x005380DB;

	__asm        mov    eax, [ebp-0x20];
	__asm        jmp    _T13f;
// LINE 712:
_T10a:
	__asm        mov    eax, dyptr;
	__asm        mov    eax, [eax];
	__asm        mov    dyptr, eax;
// LINE 713:
	__asm        jmp    _T88;
// LINE 715:
_T117:
	__asm        mov    eax, scanLoc;
	__asm        push   eax;
	__asm        lea    ecx, spiral.currDist;
	__asm        call   SpiralScan::Next;
	__asm        test   eax, eax;
	__asm        jne    _T16;
// LINE 717:
	__asm        mov    dword ptr [ebp-0x24], 0;
	__asm        jmp    near ptr 0x00538110;

	__asm        mov    eax, [ebp-0x24];
	__asm        jmp    _T13f;
// LINE 718:
_T13f:
}

// FUNCTION: COPTER_D 0x0053811f
void PoliceCarClass::SetSaveData(struct _AUTO_LOAD_SAVE* sd) {
// LINE 730:
	__asm        mov    esi, this;
	__asm        mov    edi, sd;
	__asm        add    edi, 0x2BC;
	__asm        add    esi, 0x2A0;
	__asm        mov    ecx, 0xA;
	__asm        rep movsd;
	__asm        movsw;
// LINE 731:
	__asm        mov    esi, this;
	__asm        mov    edi, sd;
	__asm        add    edi, 0x2E8;
	__asm        add    esi, 0x2CA;
	__asm        mov    ecx, 0xA;
	__asm        rep movsd;
	__asm        movsw;
// LINE 732:
	__asm        mov    esi, this;
	__asm        mov    edi, sd;
	__asm        add    edi, 0x314;
	__asm        add    esi, 0x2F4;
	__asm        mov    ecx, 0xA;
	__asm        rep movsd;
	__asm        movsw;
// LINE 733:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x31E];
	__asm        mov    ecx, sd;
	__asm        mov    [ecx+0x340], eax;
// LINE 735:
	__asm        mov    eax, this;
	__asm        test   byte ptr [eax+8], 2;
	__asm        je     _Tf7;
// LINE 739:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2A0];
	__asm        mov    al, [eax];
	__asm        mov    ecx, sd;
	__asm        mov    [ecx+0x2E6], al;
// LINE 740:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2A0];
	__asm        mov    al, [eax+1];
	__asm        mov    ecx, sd;
	__asm        mov    [ecx+0x2E7], al;
// LINE 741:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2CA];
	__asm        mov    al, [eax];
	__asm        mov    ecx, sd;
	__asm        mov    [ecx+0x312], al;
// LINE 742:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2CA];
	__asm        mov    al, [eax+1];
	__asm        mov    ecx, sd;
	__asm        mov    [ecx+0x313], al;
// LINE 743:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2F4];
	__asm        mov    al, [eax];
	__asm        mov    ecx, sd;
	__asm        mov    [ecx+0x33E], al;
// LINE 744:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2F4];
	__asm        mov    al, [eax+1];
	__asm        mov    ecx, sd;
	__asm        mov    [ecx+0x33F], al;
// LINE 748:
_Tf7:
	__asm        mov    eax, sd;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::SetSaveData;
// LINE 749:
	__asm        jmp    near ptr 0x00538227;
}

// FUNCTION: COPTER_D 0x0053822e
void PoliceCarClass::LoadSaveData(struct _AUTO_LOAD_SAVE* sd) {
	unsigned char yindex;
	struct _GridCoordinates badGuyLoc;

// LINE 764:
	__asm        mov    eax, sd;
	__asm        test   byte ptr [eax], 2;
	__asm        jne    _T1d;
// LINE 766:
	__asm        jmp    _T1f3;
// LINE 770:
_T1d:
	__asm        mov    eax, sd;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::LoadSaveData;
// LINE 773:
	__asm        mov    esi, sd;
	__asm        mov    edi, this;
	__asm        add    edi, 0x2A0;
	__asm        add    esi, 0x2BC;
	__asm        mov    ecx, 0xA;
	__asm        rep movsd;
	__asm        movsw;
// LINE 774:
	__asm        mov    esi, sd;
	__asm        mov    edi, this;
	__asm        add    edi, 0x2CA;
	__asm        add    esi, 0x2E8;
	__asm        mov    ecx, 0xA;
	__asm        rep movsd;
	__asm        movsw;
// LINE 775:
	__asm        mov    esi, sd;
	__asm        mov    edi, this;
	__asm        add    edi, 0x2F4;
	__asm        add    esi, 0x314;
	__asm        mov    ecx, 0xA;
	__asm        rep movsd;
	__asm        movsw;
// LINE 776:
	__asm        mov    eax, sd;
	__asm        mov    eax, [eax+0x340];
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x31E], eax;
// LINE 778:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x294];
	__asm        mov    [ebp-0x10], eax;
	__asm        jmp    _Tbf;
// LINE 784:
_T9d:
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x11C];
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::LinkIconToCell;
// LINE 785:
	__asm        jmp    _Td8;
// LINE 788:
	__asm        jmp    _Td8;
// LINE 789:
	__asm        jmp    _Td8;
_Tbf:
	__asm        cmp    dword ptr [ebp-0x10], 1;
	__asm        jl     _Td8;

	__asm        cmp    dword ptr [ebp-0x10], 4;
	__asm        jle    _T9d;

	__asm        jmp    _Td8;
// LINE 794:
_Td8:
	__asm        mov    eax, sd;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x2E7];
	__asm        push   ecx;
	__asm        mov    eax, sd;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x2E6];
	__asm        push   ecx;
	__asm        mov    ecx, 0x5C3828;
	__asm        call   RoadGraph::FindYIndexToVertex;
	__asm        mov    yindex, al;
// LINE 795:
	__asm        mov    eax, sd;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x2E6];
	__asm        mov    eax, gRoadGraph.RGArray[0][ecx*4];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, yindex;
	__asm        mov    edx, ecx;
	__asm        lea    ecx, [ecx+ecx*4];
	__asm        lea    ecx, [ecx+ecx*4];
	__asm        lea    ecx, [edx+ecx*2];
	__asm        add    eax, ecx;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x2A0], eax;
// LINE 798:
	__asm        mov    eax, sd;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x313];
	__asm        push   ecx;
	__asm        mov    eax, sd;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x312];
	__asm        push   ecx;
	__asm        mov    ecx, 0x5C3828;
	__asm        call   RoadGraph::FindYIndexToVertex;
	__asm        mov    yindex, al;
// LINE 799:
	__asm        mov    eax, sd;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x312];
	__asm        mov    eax, gRoadGraph.RGArray[0][ecx*4];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, yindex;
	__asm        mov    edx, ecx;
	__asm        lea    ecx, [ecx+ecx*4];
	__asm        lea    ecx, [ecx+ecx*4];
	__asm        lea    ecx, [edx+ecx*2];
	__asm        add    eax, ecx;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x2CA], eax;
// LINE 802:
	__asm        mov    eax, sd;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x33F];
	__asm        push   ecx;
	__asm        mov    eax, sd;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x33E];
	__asm        push   ecx;
	__asm        mov    ecx, 0x5C3828;
	__asm        call   RoadGraph::FindYIndexToVertex;
	__asm        mov    yindex, al;
// LINE 803:
	__asm        mov    eax, sd;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x33E];
	__asm        mov    eax, gRoadGraph.RGArray[0][ecx*4];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, yindex;
	__asm        mov    edx, ecx;
	__asm        lea    ecx, [ecx+ecx*4];
	__asm        lea    ecx, [ecx+ecx*4];
	__asm        lea    ecx, [edx+ecx*2];
	__asm        add    eax, ecx;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x2F4], eax;
// LINE 805:
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x7C];
	__asm        mov    reinterpret_cast<uint16_t>(badGuyLoc.x), ax;
// LINE 806:
	__asm        lea    eax, badGuyLoc.x;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   PoliceCarClass::ScanForBadGuys;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x322], eax;
// LINE 807:
	__asm        jmp    _T1f3;
_T1f3:
}



// Contribution: 1:00137430-00137468 Module: 158, 16 byte alignment, code, (comdat), execute, read, 
// FUNCTION: COPTER_D 0x00538430
// PoliceCarClass::`scalar deleting destructor'



// Contribution: 2:000042d0-0000430f Module: 158, 8 byte alignment, initialized_data, read, 
// GLOBAL: COPTER_D 0x005932d0
static const enum TurnIndex TILUT[4][4] = { 0 /* todo */ };



// Contribution: 2:00004310-00004337 Module: 158, 8 byte alignment, initialized_data, (comdat), read, 
// GLOBAL: COPTER_D 0x00593310
// GLOBAL: COPTER_D 0x00593310
// ??_7PoliceCarClass@@6B@


// Contribution: 3:00020eb0-00021049 Module: 158, 4 byte alignment, initialized_data, read, write, 
// GLOBAL: COPTER_D 0x005b7eb0
int32_t curPoliceCars = 0;



// Contribution: 3:000949e8-000949fb Module: 158, 8 byte alignment, uninitialized_data, read, write, 
// GLOBAL: COPTER_D 0x0062b9e8
class PoliceCarClass* policeCars[5];

