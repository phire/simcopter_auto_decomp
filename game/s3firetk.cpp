// Module: S3firetk.obj
// Source: C:\Copter\source\game\S3firetk.cpp
// autogenerated by simcopter_tool from PDB file

// Type: int32_t;

// Type: /*packed*/ class FireEngineClass (forward reference);
// VTABLE: COPTER_D 0x005932a8
class FireEngineClass : public EmergencyVehicleClass
{ // packed(0x2c0 bytes) TI: 0x47df
private:
	/*+0x2a0*/ int32_t dousingFire;
	/*+0x2a4*/ /*packed*/ struct _FIRE_DATA *currentFire;
	/*+0x2a8*/ /*packed*/ struct _DYOBJ_INST *currentDyObjFire;
	/*+0x2ac*/ int32_t distToFire;
	/*+0x2b0*/ /*packed*/ struct Point3d firevec; // 0xc bytes
	/*+0x2bc*/ int32_t pathID;
public:
	void FireEngineClass(const /*packed*/ class FireEngineClass&);
	void FireEngineClass();
	virtual void ~FireEngineClass() /* override */;
	// calltype: NearC
	static /*packed*/ class FireEngineClass* CreateInstance(int32_t);
	// calltype: NearC
	static int32_t Dispatch(enum EmergencyType, enum EmergencyLevel, long, long);
	// calltype: NearC
	static int32_t IsThisAFireStation(long, long);
	// calltype: NearC
	static int32_t IsThisAFireStation(unsigned short);
	/*packed*/ class FireEngineClass operator=(const /*packed*/ class FireEngineClass&);
protected:
	virtual void ItterateFSM() /* override */;
	virtual void SetSaveData(/*packed*/ struct _AUTO_LOAD_SAVE*) /* override */;
	virtual void LoadSaveData(/*packed*/ struct _AUTO_LOAD_SAVE*) /* override */;
private:
	int32_t ScanForFire(/*packed*/ struct _GridCoordinates);
	void PointStreamAtFire();
	int32_t AtScene();
};

// Type: void;

// Type: char *;

// Type: /*packed*/ struct VRObjInfo;
struct VRObjInfo{ // packed(0x24 bytes) TI: 0x2ea8
	/*+0x0*/   int32_t Faces;
	/*+0x4*/   int32_t Verts;
	/*+0x8*/   int32_t Attribute;
	/*+0xc*/   int32_t Radius;
	/*+0x10*/  /*packed*/ struct Point3d *ObjCenter;
	/*+0x14*/  /*packed*/ struct Point3d *VertsPtr;
	/*+0x18*/  /*packed*/ struct Xform3d *VertsXfm;
	/*+0x1c*/  /*packed*/ struct Point3d *OrgVerts;
	/*+0x20*/  int32_t *Matrix[4][4];
};

// Type: enum EmergencyType;
enum EmergencyType {
	NO_EMERGENCY = 0,
	FIRE_TRUCK = 1,
	AMBULANCE_CAR = 2,
	POLICE_CHASING_CAR = 3,
	POLICE_ON_PATROL = 4,
};

// Type: enum EmergencyLevel;
enum EmergencyLevel {
	ES_UNDEFINED = 0,
	ES_STAKEOUT = 1,
	ES_RETURN = 2,
	ES_PURSUIT = 3,
	ES_DISPATCHED = 4,
	ES_AT_SCENE = 5,
	ES_COP_CHASE = 6,
};

// Type: long;

// Type: unsigned short;

// Type: /*packed*/ struct Point3d;
struct Point3d{ // packed(0xc bytes) TI: 0x18b0
	/*+0x0*/   int32_t x;
	/*+0x4*/   int32_t y;
	/*+0x8*/   int32_t z;
};

// Type: /*packed*/ struct _GridCoordinates;
struct _GridCoordinates{ // packed(0x2 bytes) TI: 0x143c
	/*+0x0*/   unsigned char x; // 0x1 bytes
	/*+0x1*/   unsigned char y; // 0x1 bytes
};

// Type: /*packed*/ struct _CELL_INFO (forward reference);
struct _CELL_INFO{ // packed(0x18 bytes) TI: 0x1b03
	/*+0x0*/   short flags; // 0x2 bytes
	/*+0x2*/   short x; // 0x2 bytes
	/*+0x4*/   short y; // 0x2 bytes
	/*+0x6*/   short z; // 0x2 bytes
	/*+0x8*/   short size; // 0x2 bytes
	/*+0xa*/   short ctr; // 0x2 bytes
	/*+0xc*/   /*packed*/ struct _STOBJ_INST *stptr;
	/*+0x10*/  /*packed*/ struct _DYOBJ_INST *dyptr;
	/*+0x14*/  /*packed*/ struct _DYOBJ_INST *vwptr;
};

// Type: /*packed*/ struct _STOBJ_INST (forward reference);
struct _STOBJ_INST{ // packed(0x10 bytes) TI: 0x193f
	/*+0x0*/   /*packed*/ struct _STOBJ_INST *next;
	/*+0x4*/   void * __ptr32 mesh;
	/*+0x8*/   long user1;
	/*+0xc*/   long user2;
};

// Type: /*packed*/ struct _DYOBJ_INST (forward reference);
struct _DYOBJ_INST{ // packed(0x64 bytes) TI: 0x1deb
	/*+0x0*/   /*packed*/ struct _DYOBJ_INST *next;
	/*+0x4*/   /*packed*/ struct _DYOBJ_INST *vnext;
	/*+0x8*/   void * __ptr32 mesh;
	/*+0xc*/   short flags; // 0x2 bytes
	/*+0xe*/   short user1; // 0x2 bytes
	/*+0x10*/  long radius;
	/*+0x14*/  long height;
	/*+0x18*/  /*packed*/ struct Point3d loc; // 0xc bytes
	/*+0x24*/  int32_t matrix[4][4]; // 0x40 bytes
};

// Type: /*packed*/ class SpiralScan;
class SpiralScan{ // packed(0x10 bytes) TI: 0x2fb5
public:
	void SpiralScan(int32_t);
	void ~SpiralScan();
	int32_t Next(/*packed*/ struct _GridCoordinates&);
	int32_t InCityGridLimits(/*packed*/ struct _GridCoordinates);
private:
	/*+0x0*/   int32_t currDist;
	/*+0x4*/   int32_t currDir;
	/*+0x8*/   int32_t currDia;
	/*+0xc*/   int32_t maxDia;
};

// Type: /*packed*/ struct _AUTO_LOAD_SAVE (forward reference);
struct _AUTO_LOAD_SAVE{ // packed(0x344 bytes) TI: 0x42d7
	/*+0x0*/   int32_t flags;
	/*+0x4*/   /*packed*/ struct _DYOBJ_INST autoDynomitor; // 0x64 bytes
	/*+0x68*/  /*packed*/ struct Goal goal; // 0x2a bytes
	/*+0x92*/  /*packed*/ struct _GridCoordinates goalpRGVFixup; // 0x2 bytes
	/*+0x94*/  int32_t DeltaFromCenter;
	/*+0x98*/  int32_t stalledTimer;
	/*+0x9c*/  /*packed*/ struct Point3d directionVector; // 0xc bytes
	/*+0xa8*/  int32_t remainingTime;
	/*+0xac*/  int32_t desiredSpeed;
	/*+0xb0*/  int32_t desiredHiwaySpeed;
	/*+0xb4*/  int32_t beamDelay;
	/*+0xb8*/  int32_t beamTimer;
	/*+0xbc*/  int32_t m_cellBaseY;
	/*+0xc0*/  int32_t timePulledOver;
	/*+0xc4*/  enum DirectionTypes hiwaydir;
	/*+0xc8*/  /*packed*/ struct _GridCoordinates currentLocation; // 0x2 bytes
	/*+0xca*/  /*packed*/ struct _GridCoordinates nextLocation; // 0x2 bytes
	/*+0xcc*/  /*packed*/ struct _GridCoordinates northCell; // 0x2 bytes
	/*+0xce*/  /*packed*/ struct _GridCoordinates southCell; // 0x2 bytes
	/*+0xd0*/  /*packed*/ struct _GridCoordinates eastCell; // 0x2 bytes
	/*+0xd2*/  /*packed*/ struct _GridCoordinates westCell; // 0x2 bytes
	/*+0xd4*/  int32_t speed;
	/*+0xd8*/  long prevDir;
	/*+0xdc*/  long turnIndex;
	/*+0xe0*/  int32_t currDist;
	/*+0xe4*/  int32_t legOfTurn;
	/*+0xe8*/  /*packed*/ struct Point3d *pDirVector;
	/*+0xec*/  int32_t personDone;
	/*+0xf0*/  int32_t personState;
	/*+0xf4*/  int32_t personTimer;
	/*+0xf8*/  int32_t timeToLive;
	/*+0xfc*/  int32_t fireTime;
	/*+0x100*/ long fireSeq;
	/*+0x104*/ long missionId;
	/*+0x108*/ /*packed*/ struct _GridCoordinates cptrfixup; // 0x2 bytes
	/*+0x10a*/ int32_t spotlightHitCounter;
	struct _AUTO_LOAD_SAVE::_CRIMINAL{ // packed(0x10 bytes) TI: 0x42df
		/*+0x0*/   long missionState;
		/*+0x4*/   long criminalType;
		/*+0x8*/   int32_t timeToLeaveCar;
		/*+0xc*/   int32_t timeToBeOnTheRun;
	};
public:
	/*+0x10e*/ /*packed*/ struct _AUTO_LOAD_SAVE::_CRIMINAL c; // 0x10 bytes
	struct _AUTO_LOAD_SAVE::_EMERGENCY{ // packed(0x186 bytes) TI: 0x42dd
		/*+0x0*/   /*packed*/ struct _GridCoordinates baseLocation; // 0x2 bytes
		/*+0x2*/   /*packed*/ struct _GridCoordinates emergencyLocation; // 0x2 bytes
		/*+0x4*/   long emergencyType;
		/*+0x8*/   long timeOfArrival;
		/*+0xc*/   /*packed*/ struct _DYOBJ_INST dispatchIcon; // 0x64 bytes
		/*+0x70*/  int32_t timeToEmergency;
		/*+0x74*/  long targetfixup;
		/*+0x78*/  unsigned char dispatchPath[256]; // 0x100 bytes
		/*+0x178*/ unsigned char dispatchPathIndex; // 0x1 bytes
		/*+0x179*/ unsigned char dispatchPathLength; // 0x1 bytes
		/*+0x17a*/ long emergencyState;
		/*+0x17e*/ int32_t stationID;
		/*+0x182*/ int32_t numberOfSeats;
	};
public:
	/*+0x11e*/ /*packed*/ struct _AUTO_LOAD_SAVE::_EMERGENCY e; // 0x186 bytes
	struct _AUTO_LOAD_SAVE::_FIRE{ // packed(0x18 bytes) TI: 0x42db
		/*+0x0*/   int32_t dousingFire;
		/*+0x4*/   int32_t distToFire;
		/*+0x8*/   /*packed*/ struct Point3d firevec; // 0xc bytes
		/*+0x14*/  int32_t pathID;
	};
public:
	/*+0x2a4*/ /*packed*/ struct _AUTO_LOAD_SAVE::_FIRE f; // 0x18 bytes
	struct _AUTO_LOAD_SAVE::_POLICE{ // packed(0x88 bytes) TI: 0x42d9
		/*+0x0*/   /*packed*/ struct Goal currDestGoal; // 0x2a bytes
		/*+0x2a*/  /*packed*/ struct _GridCoordinates currpRGVFixup; // 0x2 bytes
		/*+0x2c*/  /*packed*/ struct Goal destGoal1; // 0x2a bytes
		/*+0x56*/  /*packed*/ struct _GridCoordinates dest1pRGVFixup; // 0x2 bytes
		/*+0x58*/  /*packed*/ struct Goal destGoal2; // 0x2a bytes
		/*+0x82*/  /*packed*/ struct _GridCoordinates dest2pRGVFixup; // 0x2 bytes
		/*+0x84*/  int32_t foundRoad;
	};
public:
	/*+0x2bc*/ /*packed*/ struct _AUTO_LOAD_SAVE::_POLICE p; // 0x88 bytes
};

// Type: uint32_t;

// Type: /*packed*/ class EmergencyVehicleClass;
// VTABLE: COPTER_D 0x005934c0
class EmergencyVehicleClass : public AutomobileClass
{ // packed(0x2a0 bytes) TI: 0x47d8
	enum /* __unnamed */ {
		MAXIMUM_DISTANCE_FROM_BASE = 7,
		MAXIMUM_TIME_TO_EMERGENCY = 3932160,
		AMBULANCE_CAPACITY = 2,
	};
protected:
	/*+0x11a*/ /*packed*/ struct _GridCoordinates baseLocation; // 0x2 bytes
	/*+0x11c*/ /*packed*/ struct _GridCoordinates emergencyLocation; // 0x2 bytes
	/*+0x11e*/ enum EmergencyType emergencyType;
	/*+0x122*/ long timeOfArrival;
	/*+0x126*/ /*packed*/ struct _DYOBJ_INST dispatchIcon; // 0x64 bytes
	/*+0x18a*/ int32_t timeToEmergency;
	/*+0x18e*/ /*packed*/ class AutomobileClass *dispatchTarget;
	/*+0x192*/ unsigned char dispatchPath[256]; // 0x100 bytes
	/*+0x292*/ unsigned char dispatchPathIndex; // 0x1 bytes
	/*+0x293*/ unsigned char dispatchPathLength; // 0x1 bytes
	/*+0x294*/ enum EmergencyLevel emergencyState;
	/*+0x298*/ int32_t stationID;
	/*+0x29c*/ int32_t numberOfSeats;
public:
	void EmergencyVehicleClass(const /*packed*/ class EmergencyVehicleClass&);
	void EmergencyVehicleClass();
	virtual void ~EmergencyVehicleClass() /* override */;
	enum EmergencyLevel GetEmergencyState();
	void InitializePlacedVehicleForDispatch(/*packed*/ struct Goal, /*packed*/ struct Goal, /*packed*/ struct Goal, /*packed*/ struct Goal, /*packed*/ struct _GridCoordinates, /*packed*/ struct Goal, enum EmergencyType, enum EmergencyLevel);
	void InitializeStationVehicleForDispatch(int32_t, /*packed*/ struct Goal, /*packed*/ struct Goal, /*packed*/ struct _GridCoordinates, /*packed*/ struct Goal, /*packed*/ struct Goal, /*packed*/ struct _GridCoordinates, int32_t, /*packed*/ struct Goal, enum EmergencyType, enum EmergencyLevel);
	// calltype: NearC
	static int32_t AreThereMoreSeats(/*packed*/ struct _DYOBJ_INST*);
	// calltype: NearC
	static void FillSeat(/*packed*/ struct _DYOBJ_INST*);
	// calltype: NearC
	static int32_t S3UpdateCar(int32_t, int32_t);
	// calltype: NearC
	static /*packed*/ struct _DYOBJ_INST* S3GetCar(int32_t);
	void CancelEmergencyDispatch();
protected:
	virtual void Reset(); // vtable+0x24
	virtual void AdjustSpeed() /* override */;
	virtual enum TurnIndex PickTurnDir(/*packed*/ struct Goal*) /* override */;
	virtual void SetSaveData(/*packed*/ struct _AUTO_LOAD_SAVE*) /* override */;
	virtual void LoadSaveData(/*packed*/ struct _AUTO_LOAD_SAVE*) /* override */;
	void ArriveOnScene();
	void UnLinkIconFromCell(const /*packed*/ struct _GridCoordinates);
	void LinkIconToCell(const /*packed*/ struct _GridCoordinates);
	void PositionIcon();
	void GoBackToStation();
	void BuildPath(/*packed*/ struct _RGIndex, /*packed*/ struct _RGIndex);
	void TurnOnStrobe();
	void TurnOffStrobe();
	int32_t UpdateCar(int32_t);
	virtual void BeamToWithinCameraRange() /* override */;
public:
	/*packed*/ class EmergencyVehicleClass operator=(const /*packed*/ class EmergencyVehicleClass&);
};

// Type: /*packed*/ class AutomobileClass;
// VTABLE: COPTER_D 0x00592d98
class AutomobileClass{ // packed(0x11a bytes) TI: 0x4880
	enum CarType {
		kCarAmbulance = 0,
		kCarCop = 1,
		kCarFiretruck = 2,
		kCarCriminal = 3,
	};
	enum AutoMessageID {
		AM_NO_MESSAGE = 0,
		AM_CANCEL_AUTO_MISSION = 1,
	};
	enum /* __unnamed */ {
		CAR_TYPES = 7,
		PERCENTAGE_OF_AUTO1 = 10,
		PERCENTAGE_OF_AUTO2 = 20,
		PERCENTAGE_OF_AUTO3 = 20,
		PERCENTAGE_OF_AUTO4 = 10,
		PERCENTAGE_OF_AUTO5 = 10,
		PERCENTAGE_OF_AUTO6 = 20,
		PERCENTAGE_OF_AUTO7 = 20,
		TOTAL_PERCENTAGE = 110,
	};
	enum /* __unnamed */ {
		NO_X_POSITION = -1,
		STARTING_X = 3,
		ENDING_X = 125,
		NO_Y_POSITION = -1,
		STARTING_Y = 3,
		ENDING_Y = 125,
	};
	enum IntersectionTypes {
		DEAD_END = 0,
		STRAIGHT_AHEAD = 1,
		LEFT_ONLY = 2,
		RIGHT_ONLY = 4,
		LEFT_OR_STRAIGHT = 3,
		LEFT_OR_RIGHT = 6,
		RIGHT_OR_STRAIGHT = 5,
		LEFT_STRAIGHT_OR_RIGHT = 7,
		DEAD_END_HIWAY = 16,
	};
	enum StoppedReasons {
		NO_REASON = 0,
		TRAFFIC = 1,
		STOPPED_TRAFFIC = 2,
		PERSON_IN_WAY = 3,
		AUTO_IN_WAY = 4,
		DEBRIS_IN_WAY = 5,
		UNIDENTIFIED_IN_WAY = 6,
		HELI_IN_WAY = 7,
		END_OF_ROAD = 8,
		END_OF_HIWAY = 9,
		INTERSECTION_FULL = 10,
		BEEN_PULLED_OVER = 11,
	};
	enum RoadTileOffsets {
		RD_CENTOFF = 851968,
		RD_EDGEOFF = 131072,
	};
	enum HiwayOffsets {
		HW_CENTOFF_LANE1 = 851968,
		HW_EDGEOFF_LANE1 = 131072,
		HW_CENTOFF_LANE2 = 851968,
		HW_EDGEOFF_LANE2 = 131072,
		HW_HEIGHT = 2031616,
	};
public:
	static int32_t fireSirenDist;
	static int32_t policeSirenDist;
	static int32_t ambSirenDist;
	static int32_t fireHoseDist;
	enum /* __unnamed */ {
		CAR_RADIUS = 327680,
		COLLISION_SPACE = 655360,
		ROAD_SPEED = 2621440,
		ROAD_SLOWDOWN_FACTOR = 131072,
		HIWAY_SPEED = 6225920,
		HIWAY_SLOWDOWN_FACTOR = 327680,
		SPEED_VARIANCE = 262144,
		HIWAY_VARIANCE = 655360,
		MAX_TIME_TO_WAIT_FOR_TRAFFIC = 1310720,
		MAX_TIME_TO_WAIT_PULLED_OVER = 196608,
		MAX_TIME_TO_WAIT_BEFORE_BEAMING = 235,
	};
	enum Flags {
		AUTO_INITIALIZED = 1,
		AUTO_PLACED = 2,
		AUTO_NEEDS_TO_PULL_OVER = 4,
		AUTO_PULL_OVER = 8,
		AUTO_PULLING_OVER = 16,
		AUTO_PULLED_OVER = 32,
		AUTO_PULLING_OUT = 64,
		AUTO_IN_INTERSECTION = 128,
		AUTO_ON_FIRE = 256,
		AUTO_JAMMED = 512,
		AUTO_RIGHT_OF_WAY = 1024,
		AUTO_ON_HIWAY = 2048,
		AUTO_SPEEDER = 4096,
		AUTO_SPEEDER_DONE = 8192,
		AUTO_UTURN = 16384,
	};
public:
	/*+0x4*/   long carModel;
	/*+0x8*/   int32_t flags;
	/*+0xc*/   /*packed*/ struct _DYOBJ_INST autoDynomitor; // 0x64 bytes
	/*+0x70*/  /*packed*/ struct Goal goal; // 0x2a bytes
private:
	static /*packed*/ struct Point2d lastScannedLocation;
	/*+0x9a*/  int32_t DeltaFromCenter;
	/*+0x9e*/  int32_t stalledTimer;
	/*+0xa2*/  /*packed*/ struct Point3d directionVector; // 0xc bytes
	/*+0xae*/  int32_t remainingTime;
	/*+0xb2*/  int32_t desiredSpeed;
	/*+0xb6*/  int32_t desiredHiwaySpeed;
	/*+0xba*/  int32_t beamDelay;
	/*+0xbe*/  int32_t beamTimer;
	/*+0xc2*/  int32_t m_cellBaseY;
	/*+0xc6*/  int32_t timePulledOver;
	/*+0xca*/  int32_t hornSoundId;
	/*+0xce*/  enum DirectionTypes hiwaydir;
	/*+0xd2*/  /*packed*/ struct _GridCoordinates currentLocation; // 0x2 bytes
	/*+0xd4*/  /*packed*/ struct _GridCoordinates nextLocation; // 0x2 bytes
	/*+0xd6*/  /*packed*/ struct _GridCoordinates northCell; // 0x2 bytes
	/*+0xd8*/  /*packed*/ struct _GridCoordinates southCell; // 0x2 bytes
	/*+0xda*/  /*packed*/ struct _GridCoordinates eastCell; // 0x2 bytes
	/*+0xdc*/  /*packed*/ struct _GridCoordinates westCell; // 0x2 bytes
protected:
	/*+0xde*/  int32_t speed;
	/*+0xe2*/  enum DirIndex2 prevDir;
	/*+0xe6*/  enum TurnIndex turnIndex;
	/*+0xea*/  int32_t currDist;
	/*+0xee*/  int32_t legOfTurn;
	/*+0xf2*/  /*packed*/ struct Point3d *pDirVector;
	/*+0xf6*/  int32_t personDone;
	/*+0xfa*/  int32_t personState;
	/*+0xfe*/  int32_t personTimer;
	/*+0x102*/ int32_t timeToLive;
	/*+0x106*/ int32_t fireTime;
	/*+0x10a*/ long fireSeq;
	/*+0x10e*/ long missionId;
	/*+0x112*/ /*packed*/ struct _CELL_INFO *cptr;
	/*+0x116*/ int32_t spotlightHitCounter;
	int32_t IsCarPersistant();
	int32_t CanCarBeamToHiwayTile(unsigned short);
public:
	void AutomobileClass(const /*packed*/ class AutomobileClass&);
	void AutomobileClass();
	virtual void ~AutomobileClass(); // vtable+0x0
	// calltype: NearC
	static /*packed*/ class AutomobileClass* CreateInstance(int32_t);
	// calltype: NearC
	static /*packed*/ class AutomobileClass* GetAutoPointer(long);
	// calltype: NearC
	static void DestroyInstance(/*packed*/ class AutomobileClass*);
	// calltype: NearC
	static void ItterateAll();
	// calltype: NearC
	static void ResetAll();
	// calltype: NearC
	static int32_t MissionStartFire(long, /*packed*/ struct Point2d*);
	// calltype: NearC
	static int32_t MissionStartJam(long, /*packed*/ struct Point2d*);
	// calltype: NearC
	static void MissionCancel(long);
	// calltype: NearC
	static void SetAllHeadlights(int32_t);
	// calltype: NearC
	static int32_t S3AutoMessage(short, short);
	// calltype: NearC
	static int32_t MIFFLoad(void * __ptr32);
	// calltype: NearC
	static int32_t MIFFSave(void * __ptr32);
	void HitDispatch(long, /*packed*/ struct _DYOBJ_INST*, long, long);
	int32_t AmIABadGuy();
	int32_t Initialize(int32_t);
	void WaterDouse(/*packed*/ struct _DYOBJ_INST*);
	void IveBeenMegaphoned(long);
	void StartFire(long);
	void StartJam(long);
	virtual void PullOver(short); // vtable+0x4
	void PullOut();
	int32_t CanIPullOut();
	int32_t CanIPullOver();
	void DoAUTurn();
	long GetCarModel();
	// calltype: NearC
	static /*packed*/ struct _DYOBJ_INST* GetClosestCar(int32_t, int32_t, int32_t);
protected:
	void Itterate();
	virtual void AdjustSpeed(); // vtable+0x8
	void Reset();
	virtual enum TurnIndex PickTurnDir(/*packed*/ struct Goal*); // vtable+0xc
	void UnPlaceCar();
	void PullOverCiviliansInWay();
	virtual void ItterateFSM(); // vtable+0x10
	int32_t InitializeInstance(int32_t);
	void LinkToCell(const /*packed*/ struct _GridCoordinates&);
	int32_t AreCarsHeadOn(/*packed*/ struct Point3d*);
	enum AutomobileClass::StoppedReasons CollisionCheck(int32_t, /*packed*/ struct _DYOBJ_INST**);
	int32_t IsCarOutOfCameraRange();
	void TurnOffHeadlight();
	void TurnOnHeadlight();
	int32_t AutoMessage(short);
	int32_t PlacePerson(int32_t, int32_t);
	virtual void SetSaveData(/*packed*/ struct _AUTO_LOAD_SAVE*); // vtable+0x14
	virtual void LoadSaveData(/*packed*/ struct _AUTO_LOAD_SAVE*); // vtable+0x18
	void HonkHorn();
	void SetHiwayDirection(unsigned short);
	int32_t DoHiwayTilesConnect(unsigned short, unsigned short, enum DirectionTypes);
	void AdjustCurrentHiwayPosition();
	void AdjustNextHiwayPosition();
	enum AutomobileClass::IntersectionTypes PickHiwayDir(/*packed*/ struct _GridCoordinates&);
	void MakeAHiwayTurn(enum AutomobileClass::IntersectionTypes);
	void GoStraight();
	void TurnLeft();
	void TurnRight();
	void MoveForwardOnHiway();
	void DoDiagonalRoadFixup();
	virtual void BeamToWithinCameraRange(); // vtable+0x1c
	virtual int32_t BeamToLocation(const /*packed*/ struct _GridCoordinates&); // vtable+0x20
	void MoveAuto(int32_t);
	void ChangeAutoColor();
private:
	void UnlinkFromCell(const /*packed*/ struct _GridCoordinates&);
	void TransitionBetweenGoals();
	void RunFireState();
	void RunJamState();
	void IveBeenSpotlighted(/*packed*/ struct _DYOBJ_INST*);
	int32_t IsThisAnEmergencyVehicle();
	void DoPullOverStuff(int32_t);
	int32_t CanIDoAUTurn();
public:
	/*packed*/ class AutomobileClass operator=(const /*packed*/ class AutomobileClass&);
};



// Contribution: 1:00135100-00135db2 Module: 159, 16 byte alignment, code, execute, read, 
// FUNCTION: COPTER_D 0x00536100
int32_t CreateFireTruckInstance(int32_t instanceID) {
// LINE 77:
_T24:
_T26:
	return (FireEngineClass::CreateInstance(instanceID) == 0x0);
// LINE 78:
}

// FUNCTION: COPTER_D 0x00536130
void FireEngineClass::FireEngineClass() {

	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::EmergencyVehicleClass;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax], 0x5932A8;
// LINE 83:
	this->carModel = 0x11c;
// LINE 84:
	return;

	__asm        mov    eax, this;
}

// FUNCTION: COPTER_D 0x00536164
void FireEngineClass::~FireEngineClass() {

	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax], 0x5932A8;
	__asm        jmp    __RETURN;
__RETURN:
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::~EmergencyVehicleClass;
}

// FUNCTION: COPTER_D 0x0053618b
/*packed*/ class FireEngineClass* FireEngineClass::CreateInstance(int32_t instanceID) {
	/*bp-0x4*/   char * objectMemory;
	/*bp-0x8*/   /*packed*/ class FireEngineClass *youveWonABrandNewCar;
	/*bp-0xc*/   int32_t object;

// LINE 117:
	__asm        push   0x2C0;
	__asm        call   operator new;
	__asm        add    esp, 4;
	__asm        mov    [ebp-0x34], eax;
	__asm        cmp    dword ptr [ebp-0x34], 0;
	__asm        je     _T33;

	__asm        mov    ecx, [ebp-0x34];
	__asm        call   FireEngineClass::FireEngineClass;
	__asm        mov    youveWonABrandNewCar, eax;
	__asm        jmp    _T3a;
_T33:
	youveWonABrandNewCar = 0x0;
// LINE 120:
_T3a:
	__asm        cmp    youveWonABrandNewCar, 0;
	__asm        je     _T1ea;
// LINE 123:
	__asm        mov    eax, instanceID;
	__asm        push   eax;
	__asm        mov    ecx, youveWonABrandNewCar;
	__asm        call   AutomobileClass::Initialize;
	__asm        test   eax, eax;
	__asm        je     _T1c3;
// LINE 127:
// Block start:
	/*bp-0x30*/  /*packed*/ struct VRObjInfo oinfo; // 0x24 bytes
	__asm        push   0x123;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    object, eax;
// LINE 128:
	__asm        mov    eax, object;
	__asm        push   eax;
	__asm        call   0x004D8520;
	__asm        add    esp, 4;
	__asm        push   eax;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    objectMemory, eax;
// LINE 130:
	__asm        cmp    objectMemory, 0;
	__asm        je     _T113;
// LINE 135:
	__asm        mov    eax, objectMemory;
	__asm        push   eax;
	__asm        mov    eax, object;
	__asm        push   eax;
	__asm        call   0x004D8570;
	__asm        add    esp, 8;
	__asm        mov    ecx, youveWonABrandNewCar;
	__asm        mov    [ecx+0x12E], eax;
// LINE 137:
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        cmp    dword ptr [eax+0x12E], 0;
	__asm        je     _Td6;
// LINE 140:
	__asm        mov    eax, G_main_mp;
	__asm        push   eax;
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        mov    eax, [eax+0x12E];
	__asm        push   eax;
	__asm        call   0x004D84DB;
	__asm        add    esp, 8;
// LINE 142:
	__asm        jmp    _T10e;
// LINE 145:
_Td6:
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        cmp    dword ptr [eax+0x12E], 0;
	__asm        jne    _T102;

	__asm        push   0x91;
	__asm        push   0x5B7DCC;
	__asm        push   0x5B7DF0;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _T107;
_T102:
	__asm        jmp    _T107;
// LINE 147:
_T107:
	return 0x0;
// LINE 150:
_T10e:
	__asm        jmp    _T145;
// LINE 153:
_T113:
	__asm        cmp    objectMemory, 0;
	__asm        jne    _T139;

	__asm        push   0x99;
	__asm        push   0x5B7E18;
	__asm        push   0x5B7E3C;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _T13e;
_T139:
	__asm        jmp    _T13e;
// LINE 155:
_T13e:
	return 0x0;
// LINE 161:
_T145:
	youveWonABrandNewCar->dousingFire = 0x0;
// LINE 163:
	youveWonABrandNewCar->dispatchIcon.user1 = 0x0;
// LINE 164:
	youveWonABrandNewCar->dispatchIcon.flags = 0x21;
// LINE 165:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        mov    eax, [eax+0x12E];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 166:
	youveWonABrandNewCar->dispatchIcon.radius = oinfo.Radius;
// LINE 167:
	__asm        push   0;
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        mov    eax, [eax+0x12E];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 169:
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        mov    ecx, curFireTrucks;
	__asm        mov    fireTrucks[0][ecx*4], eax;
	__asm        inc    curFireTrucks;
// LINE 171:
	return youveWonABrandNewCar;
// LINE 173:
// Block end:
	__asm        jmp    _T1ea;
// LINE 176:
_T1c3:
	__asm        mov    eax, youveWonABrandNewCar;
	__asm        mov    [ebp-0x3C], eax;
	__asm        mov    eax, [ebp-0x3C];
	__asm        mov    [ebp-0x38], eax;
	__asm        cmp    dword ptr [ebp-0x38], 0;
	__asm        je     _T1ea;

	__asm        push   1;
	__asm        mov    eax, [ebp-0x38];
	__asm        mov    eax, [eax];
	__asm        mov    ecx, [ebp-0x38];
	__asm        call   dword ptr [eax];
	__asm        jmp    _T1ea;
// LINE 183:
_T1ea:
	return 0x0;
// LINE 184:
}

// FUNCTION: COPTER_D 0x00536381
int32_t FireEngineClass::Dispatch(enum EmergencyType responseType, enum EmergencyLevel responseLevel, long mapx, long mapy) {
// LINE 211:
	__asm        push   5;
	__asm        push   0x62B9D0;
	__asm        mov    eax, responseLevel;
	__asm        push   eax;
	__asm        mov    eax, responseType;
	__asm        push   eax;
	__asm        mov    eax, mapy;
	__asm        push   eax;
	__asm        mov    eax, mapx;
	__asm        push   eax;
	__asm        mov    ecx, gFireStations;
	__asm        call   Station::DispatchNearestAvailableVehicle;
	__asm        jmp    __RETURN;
// LINE 212:
__RETURN:
}

// FUNCTION: COPTER_D 0x005363b3
int32_t FireEngineClass::IsThisAFireStation(unsigned short tileType) {
// LINE 218:
_T23:
_T25:
	return ((reinterpret_cast<uint32_t>(tileType) & 0xffff) != 0xd3);
// LINE 219:
}

// FUNCTION: COPTER_D 0x005363e2
int32_t FireEngineClass::IsThisAFireStation(long mapX, long mapY) {
// LINE 225:
	__asm        cmp    mapX, 0;
	__asm        jl     _T37;

	__asm        cmp    mapY, 0;
	__asm        jl     _T37;

	__asm        cmp    mapX, 0x80;
	__asm        jge    _T37;

	__asm        cmp    mapY, 0x80;
	__asm        jl     _T41;
_T37:
	__asm        jmp    _Ta0;

	__asm        jmp    _T96;
_T41:
	__asm        mov    eax, mapX;
	__asm        mov    eax, BitsMap[eax*4];
	__asm        mov    ecx, mapY;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        movsx  eax, dx;
	__asm        shl    eax, 0xE;
	__asm        mov    ecx, mapX;
	__asm        mov    ecx, BuildMap[ecx*4];
	__asm        mov    edx, mapY;
	__asm        xor    ebx, ebx;
	__asm        mov    bl, [ecx+edx];
	__asm        or     eax, ebx;
	__asm        movzx  eax, ax;
	__asm        cmp    eax, 0xD3;
	__asm        jne    _Ta0;

	__asm        jmp    _T96;

	__asm        mov    eax, [ebp-4];
	__asm        and    eax, 0xFFFF;
	__asm        cmp    eax, 0xD3;
	__asm        jne    _Ta0;
_T96:
	__asm        mov    eax, 1;
	__asm        jmp    _Ta2;
_Ta0:
	__asm        xor    eax, eax;
_Ta2:
	__asm        jmp    __RETURN;
// LINE 226:
__RETURN:
}

// FUNCTION: COPTER_D 0x0053648e
void FireEngineClass::ItterateFSM() {
	/*bp-0x4*/   int32_t dist;
	/*bp-0x10*/  /*packed*/ struct Point3d vec; // 0xc bytes

// LINE 254:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x294];
	__asm        mov    [ebp-0x18], eax;
	__asm        jmp    _T2bd;
// LINE 257:
_T1d:
	__asm        mov    eax, this;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x7C];
	__asm        mov    eax, this;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+0x11A];
	__asm        cmp    ecx, edx;
	__asm        jne    _T80;

	__asm        mov    eax, this;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x7D];
	__asm        mov    eax, this;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+0x11B];
	__asm        cmp    ecx, edx;
	__asm        jne    _T80;
// LINE 260:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x298];
	__asm        push   eax;
	__asm        mov    ecx, gFireStations;
	__asm        call   Station::DecrementQuantityOfVehicleDispatched;
// LINE 261:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::UnPlaceCar;
// LINE 264:
	__asm        mov    eax, this;
	__asm        movsx  eax, word ptr [eax+0x1A];
	__asm        push   eax;
	__asm        call   S3MapRemoveCarInfo;
	__asm        add    esp, 4;
// LINE 268:
_T80:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::ItterateFSM;
// LINE 269:
	__asm        jmp    _T2e0;
// LINE 273:
_T8d:
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::PositionIcon;
// LINE 274:
	__asm        mov    eax, this;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x7C];
	__asm        mov    eax, this;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+0x11C];
	__asm        cmp    ecx, edx;
	__asm        jne    _T1b2;

	__asm        mov    eax, this;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x7D];
	__asm        mov    eax, this;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+0x11D];
	__asm        cmp    ecx, edx;
	__asm        jne    _T1b2;
// LINE 276:
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x11C];
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::UnLinkIconFromCell;
// LINE 277:
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::TurnOffStrobe;
// LINE 278:
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x11C];
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   FireEngineClass::ScanForFire;
	__asm        test   eax, eax;
	__asm        je     _T149;
// LINE 281:
	this->emergencyState = 0x5;
// LINE 282:
	__asm        mov    ecx, this;
	__asm        call   FireEngineClass::PointStreamAtFire;
// LINE 283:
	__asm        push   9;
	__asm        push   0xD;
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::PlacePerson;
	__asm        test   eax, eax;
	__asm        je     _T144;
// LINE 285:
	this->personDone = 0x0;
// LINE 286:
	this->personTimer = 0x780000;
// LINE 289:
_T144:
	__asm        jmp    _T1a8;
// LINE 291:
_T149:
	this->timeOfArrival = 0x0;
// LINE 292:
	this->emergencyType = 0x0;
// LINE 296:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::UnPlaceCar;
// LINE 297:
	__asm        mov    eax, this;
	__asm        movsx  eax, word ptr [eax+0x1A];
	__asm        push   eax;
	__asm        call   S3MapRemoveCarInfo;
	__asm        add    esp, 4;
// LINE 298:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x298];
	__asm        push   eax;
	__asm        mov    ecx, gFireStations;
	__asm        call   Station::DecrementQuantityOfVehicleDispatched;
// LINE 302:
	this->emergencyState = 0x2;
// LINE 303:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+8];
// LINE 305:
_T1a8:
	__asm        jmp    _T2e0;
// LINE 307:
	__asm        jmp    _T21e;
// LINE 310:
_T1b2:
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::PositionIcon;
// LINE 313:
	vec.x = (ViewState.world_pos.x - this->autoDynomitor.loc.x);
// LINE 314:
	vec.y = (ViewState.world_pos.y - this->autoDynomitor.loc.y);
// LINE 315:
	vec.z = (ViewState.world_pos.z - this->autoDynomitor.loc.z);
// LINE 316:
	dist = MTNormalize(vec.x);
// LINE 317:
	__asm        mov    eax, AutomobileClass::fireSirenDist;
	__asm        cmp    dist, eax;
	__asm        jge    _T209;
// LINE 318:
	AutomobileClass::fireSirenDist = dist;
// LINE 320:
_T209:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::PullOverCiviliansInWay;
// LINE 321:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::ItterateFSM;
// LINE 322:
	__asm        jmp    _T2e0;
// LINE 326:
_T21e:
	__asm        mov    ecx, this;
	__asm        call   FireEngineClass::AtScene;
	__asm        test   eax, eax;
	__asm        jne    _T28d;
// LINE 328:
	this->timeOfArrival = 0x0;
// LINE 329:
	this->emergencyType = 0x0;
// LINE 332:
	__asm        mov    ecx, this;
	__asm        call   AutomobileClass::UnPlaceCar;
// LINE 334:
	__asm        mov    eax, this;
	__asm        movsx  eax, word ptr [eax+0x1A];
	__asm        push   eax;
	__asm        call   S3MapRemoveCarInfo;
	__asm        add    esp, 4;
// LINE 335:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x298];
	__asm        push   eax;
	__asm        mov    ecx, gFireStations;
	__asm        call   Station::DecrementQuantityOfVehicleDispatched;
// LINE 339:
	this->emergencyState = 0x2;
// LINE 340:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+8];
// LINE 342:
_T28d:
	__asm        jmp    _T2e0;
// LINE 345:
_T292:
	__asm        push   0x159;
	__asm        push   0x5B7E4C;
	__asm        push   0x5B7E70;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _T2b3;

	__asm        jmp    _T2b3;
// LINE 346:
_T2b3:
	__asm        jmp    _T2e0;
// LINE 347:
	__asm        jmp    _T2e0;
_T2bd:
	__asm        cmp    dword ptr [ebp-0x18], 2;
	__asm        je     _T1d;

	__asm        cmp    dword ptr [ebp-0x18], 4;
	__asm        je     _T8d;

	__asm        cmp    dword ptr [ebp-0x18], 5;
	__asm        je     _T21e;

	__asm        jmp    _T292;
// LINE 348:
_T2e0:
	return;
}

// FUNCTION: COPTER_D 0x00536778
int32_t FireEngineClass::AtScene() {
	/*bp-0x4*/   int32_t dist;
	/*bp-0x10*/  /*packed*/ struct Point3d vec; // 0xc bytes

// LINE 358:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x2A4], 0;
	__asm        je     _T84;
// LINE 360:
	__asm        mov    eax, this;
	__asm        add    eax, 0x2B0;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        add    eax, 0xC;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2AC];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2A4];
	__asm        push   eax;
	__asm        call   S3FireTruckDouse;
	__asm        add    esp, 0x10;
	__asm        test   eax, eax;
	__asm        je     _T7f;
// LINE 363:
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x11C];
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   FireEngineClass::ScanForFire;
	__asm        test   eax, eax;
	__asm        je     _T78;
// LINE 365:
	__asm        mov    ecx, this;
	__asm        call   FireEngineClass::PointStreamAtFire;
// LINE 367:
	__asm        jmp    _T7f;
// LINE 370:
_T78:
	return 0x0;
// LINE 374:
_T7f:
	__asm        jmp    _Tf7;
_T84:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x2A8], 0;
	__asm        je     _Tf7;
// LINE 376:
	__asm        mov    eax, this;
	__asm        add    eax, 0x2B0;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        add    eax, 0xC;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2AC];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2A8];
	__asm        push   eax;
	__asm        call   S3FireTruckDouseDyObj;
	__asm        add    esp, 0x10;
	__asm        test   eax, eax;
	__asm        je     _Tf7;
// LINE 379:
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x11C];
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   FireEngineClass::ScanForFire;
	__asm        test   eax, eax;
	__asm        je     _Tf0;
// LINE 381:
	__asm        mov    ecx, this;
	__asm        call   FireEngineClass::PointStreamAtFire;
// LINE 383:
	__asm        jmp    _Tf7;
// LINE 386:
_Tf0:
	return 0x0;
// LINE 392:
_Tf7:
	vec.x = (ViewState.world_pos.x - this->autoDynomitor.loc.x);
// LINE 393:
	vec.y = (ViewState.world_pos.y - this->autoDynomitor.loc.y);
// LINE 394:
	vec.z = (ViewState.world_pos.z - this->autoDynomitor.loc.z);
// LINE 395:
	dist = MTNormalize(vec.x);
// LINE 396:
	__asm        mov    eax, AutomobileClass::fireHoseDist;
	__asm        cmp    dist, eax;
	__asm        jge    _T146;
// LINE 397:
	AutomobileClass::fireHoseDist = dist;
// LINE 399:
_T146:
	return 0x1;
// LINE 400:
}

// FUNCTION: COPTER_D 0x005368cd
int32_t FireEngineClass::ScanForFire(/*packed*/ struct _GridCoordinates fireloc) {
	/*bp-0x10*/  /*packed*/ class SpiralScan spiral; // 0x10 bytes
	/*bp-0x14*/  /*packed*/ struct _DYOBJ_INST *dyobj;
	/*bp-0x18*/  /*packed*/ struct _STOBJ_INST *stobj;
	/*bp-0x1c*/  /*packed*/ struct _GridCoordinates dyfireloc;
	/*bp-0x20*/  int32_t fires_found;
	/*bp-0x24*/  /*packed*/ struct _CELL_INFO *cptr;

// LINE 424:
	__asm        push   5;
	__asm        lea    ecx, spiral.currDist;
	__asm        call   SpiralScan::SpiralScan;
// LINE 425:
	fires_found = 0x0;
// LINE 426:
	reinterpret_cast<uint16_t>(dyfireloc.x) = reinterpret_cast<uint16_t>(fireloc.x);
// LINE 429:
	this->currentFire = 0x0;
// LINE 430:
	this->currentDyObjFire = 0x0;
// LINE 431:
_T3f:
	__asm        lea    eax, fireloc.x;
	__asm        push   eax;
	__asm        lea    ecx, spiral.currDist;
	__asm        call   SpiralScan::Next;
	__asm        test   eax, eax;
	__asm        je     _T1d6;
// LINE 432:
	__asm        xor    eax, eax;
	__asm        mov    al, fireloc.y;
	__asm        mov    [ebp-0x3C], eax;
	__asm        xor    eax, eax;
	__asm        mov    al, fireloc.x;
	__asm        mov    [ebp-0x40], eax;
// LINE 434:
	__asm        mov    eax, [ebp-0x3C];
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, [ebp-0x40];
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        mov    [ebp-0x38], eax;
	__asm        cmp    dword ptr [ebp-0x38], 0;
	__asm        jne    _Ta7;

	__asm        push   0xA0;
	__asm        push   0x5B57C4;
	__asm        push   0x5B57B8;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _Tac;
_Ta7:
	__asm        jmp    _Tac;
_Tac:
	__asm        jmp    _Tb1;
_Tb1:
	__asm        mov    eax, [ebp-0x38];
	__asm        mov    cptr, eax;
// LINE 435:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 0x20;
	__asm        je     _T153;
// LINE 441:
	fires_found = 0x0;
// LINE 442:
	stobj = cptr->stptr;
// LINE 443:
_Td5:
	__asm        cmp    stobj, 0;
	__asm        je     _T153;
// LINE 445:
	__asm        mov    eax, stobj;
	__asm        test   byte ptr [eax+8], 1;
	__asm        jne    _Tf9;
// LINE 448:
	stobj = stobj->next;
// LINE 449:
	__asm        jmp    _Td5;
// LINE 452:
_Tf9:
	fires_found++;
// LINE 458:
	this->currentFire = stobj->user2;
// LINE 461:
	__asm        call   rand;
	__asm        mov    ecx, this;
	__asm        mov    ecx, [ecx+0x2A4];
	__asm        mov    ecx, [ecx+0x98];
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   dword ptr [ecx+4];
	__asm        mov    eax, edx;
	__asm        sub    eax, fires_found;
	__asm        inc    eax;
	__asm        jne    _T146;
// LINE 464:
	__asm        mov    dword ptr [ebp-0x28], 1;
	__asm        jmp    _T13e;
_T13e:
	__asm        mov    eax, [ebp-0x28];
	__asm        jmp    __RETURN;
// LINE 468:
_T146:
	stobj = stobj->next;
// LINE 469:
	__asm        jmp    _Td5;
// LINE 472:
_T153:
	dyobj = cptr->dyptr;
// LINE 473:
_T15c:
	__asm        cmp    dyobj, 0;
	__asm        je     _T1d1;
// LINE 476:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   ah, 0x10;
	__asm        je     _T196;
// LINE 478:
	this->currentDyObjFire = dyobj;
// LINE 479:
	__asm        mov    dword ptr [ebp-0x2C], 1;
	__asm        jmp    _T18e;
_T18e:
	__asm        mov    eax, [ebp-0x2C];
	__asm        jmp    __RETURN;
// LINE 483:
_T196:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 4;
	__asm        je     _T1c4;
// LINE 485:
	dyobj = dyobj->next->next->next->next->next->next->next->next->next->next;
// LINE 487:
	__asm        jmp    _T1cc;
// LINE 488:
_T1c4:
	dyobj = dyobj->next;
// LINE 489:
_T1cc:
	__asm        jmp    _T15c;
// LINE 490:
_T1d1:
	__asm        jmp    _T3f;
// LINE 494:
_T1d6:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x2A4], 0;
	__asm        je     _T1fa;
// LINE 495:
	__asm        mov    dword ptr [ebp-0x30], 1;
	__asm        jmp    _T1f2;
_T1f2:
	__asm        mov    eax, [ebp-0x30];
	__asm        jmp    __RETURN;
// LINE 497:
_T1fa:
	__asm        mov    dword ptr [ebp-0x34], 0;
	__asm        jmp    _T206;
_T206:
	__asm        mov    eax, [ebp-0x34];
	__asm        jmp    __RETURN;
// LINE 498:
__RETURN:
}

// FUNCTION: COPTER_D 0x00536ae2
void FireEngineClass::PointStreamAtFire() {
// LINE 521:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x2A4], 0;
	__asm        je     _Ta8;
// LINE 523:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2A4];
	__asm        mov    eax, [eax+0x98];
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+2];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, this;
	__asm        mov    ecx, [ecx+0x2A4];
	__asm        add    eax, [ecx+0x10];
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x2B0], eax;
// LINE 524:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2A4];
	__asm        mov    eax, [eax+0x98];
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+4];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, this;
	__asm        mov    ecx, [ecx+0x2A4];
	__asm        add    eax, [ecx+0x14];
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x2B4], eax;
// LINE 525:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2A4];
	__asm        mov    eax, [eax+0x98];
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+6];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, this;
	__asm        mov    ecx, [ecx+0x2A4];
	__asm        add    eax, [ecx+0x18];
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x2B8], eax;
// LINE 527:
	__asm        jmp    _Tfe;
// LINE 530:
_Ta8:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x2A8], 0;
	__asm        jne    _Td4;

	__asm        push   0x212;
	__asm        push   0x5B7E78;
	__asm        push   0x5B7E9C;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    _Td9;
_Td4:
	__asm        jmp    _Td9;
// LINE 531:
_Td9:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2A8];
	__asm        add    eax, 0x18;
	__asm        mov    ecx, this;
	__asm        add    ecx, 0x2B0;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 535:
_Tfe:
	__asm        xor    eax, eax;
	__asm        mov    ecx, this;
	__asm        sub    eax, [ecx+0x24];
	__asm        neg    eax;
	__asm        mov    ecx, this;
	__asm        sub    [ecx+0x2B0], eax;
// LINE 536:
	__asm        xor    eax, eax;
	__asm        mov    ecx, this;
	__asm        sub    eax, [ecx+0x28];
	__asm        neg    eax;
	__asm        mov    ecx, this;
	__asm        sub    [ecx+0x2B4], eax;
// LINE 537:
	__asm        xor    eax, eax;
	__asm        mov    ecx, this;
	__asm        sub    eax, [ecx+0x2C];
	__asm        neg    eax;
	__asm        mov    ecx, this;
	__asm        sub    [ecx+0x2B8], eax;
// LINE 540:
	this->distToFire = MTNormalize((this + 0x2b0));
// LINE 542:
	return;
}

// FUNCTION: COPTER_D 0x00536c3d
void FireEngineClass::SetSaveData(/*packed*/ struct _AUTO_LOAD_SAVE *sd) {
// LINE 554:
	sd->f.dousingFire = this->dousingFire;
// LINE 555:
	sd->f.distToFire = this->distToFire;
// LINE 556:
	__asm        mov    eax, this;
	__asm        add    eax, 0x2B0;
	__asm        mov    ecx, sd;
	__asm        add    ecx, 0x2AC;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 557:
	sd->f.pathID = this->pathID;
// LINE 560:
	__asm        mov    eax, sd;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::SetSaveData;
// LINE 561:
	return;
}

// FUNCTION: COPTER_D 0x00536cb8
void FireEngineClass::LoadSaveData(/*packed*/ struct _AUTO_LOAD_SAVE *sd) {
// LINE 575:
	__asm        mov    eax, sd;
	__asm        test   byte ptr [eax], 2;
	__asm        jne    _T1d;
// LINE 577:
	return;
// LINE 581:
_T1d:
	__asm        mov    eax, sd;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::LoadSaveData;
// LINE 583:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x294];
	__asm        mov    [ebp-8], eax;
	__asm        jmp    _T5c;
// LINE 589:
_T3a:
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x11C];
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   EmergencyVehicleClass::LinkIconToCell;
// LINE 590:
	__asm        jmp    _T75;
// LINE 593:
	__asm        jmp    _T75;
// LINE 594:
	__asm        jmp    _T75;
_T5c:
	__asm        cmp    dword ptr [ebp-8], 1;
	__asm        jl     _T75;

	__asm        cmp    dword ptr [ebp-8], 4;
	__asm        jle    _T3a;

	__asm        jmp    _T75;
// LINE 596:
_T75:
	this->dousingFire = sd->f.dousingFire;
// LINE 597:
	this->distToFire = sd->f.distToFire;
// LINE 598:
	__asm        mov    eax, sd;
	__asm        add    eax, 0x2AC;
	__asm        mov    ecx, this;
	__asm        add    ecx, 0x2B0;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 599:
	this->pathID = sd->f.pathID;
// LINE 601:
	__asm        mov    eax, this;
	__asm        mov    ax, [eax+0x11C];
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   FireEngineClass::ScanForFire;
	__asm        test   eax, eax;
	__asm        je     _Tef;
// LINE 603:
	__asm        mov    ecx, this;
	__asm        call   FireEngineClass::PointStreamAtFire;
// LINE 606:
_Tef:
	return;
}



// Contribution: 1:00135dc0-00135df8 Module: 159, 16 byte alignment, code, (comdat), execute, read, 
// FUNCTION: COPTER_D 0x00536dc0
// FireEngineClass::`scalar deleting destructor'



// Contribution: 2:000042a8-000042cf Module: 159, 8 byte alignment, initialized_data, (comdat), read, 
// vftable for FireEngineClass @ 0x005932a8
//   00: FireEngineClass::`scalar deleting destructor' @ 0x00536dc0
//   01: AutomobileClass::PullOver @ 0x005048cd
//   02: EmergencyVehicleClass::AdjustSpeed @ 0x0054222e
//   03: EmergencyVehicleClass::PickTurnDir @ 0x00542373
//   04: FireEngineClass::ItterateFSM @ 0x0053648e
//   05: FireEngineClass::SetSaveData @ 0x00536c3d
//   06: FireEngineClass::LoadSaveData @ 0x00536cb8
//   07: EmergencyVehicleClass::BeamToWithinCameraRange @ 0x005360a0
//   08: AutomobileClass::BeamToLocation @ 0x005030aa
//   09: EmergencyVehicleClass::Reset @ 0x00542631
//   10 entries



// Contribution: 3:00020dc8-00020eac Module: 159, 4 byte alignment, initialized_data, read, write, 
// GLOBAL: COPTER_D 0x005b7dc8
int32_t curFireTrucks = 0;



// Contribution: 3:000949d0-000949e3 Module: 159, 8 byte alignment, uninitialized_data, read, write, 
// GLOBAL: COPTER_D 0x0062b9d0
/*packed*/ class FireEngineClass *fireTrucks[5];

