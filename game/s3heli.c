// Module: S3heli.obj
// Source: C:\Copter\source\game\S3heli.c
// autogenerated by simcopter_tool from PDB file

// Type: struct _HELI_DATA (forward reference);
struct _HELI_DATA{
	int32_t type;
	int32_t state;
	int32_t flags;
	int32_t altdelta;
	struct Point2d lastpos;
	struct Point2d currpos;
	int32_t rotor_mat[4][4];
	int32_t rotortl_mat[4][4];
	struct _DYOBJ_INST* dycannon;
	struct _DYOBJ_INST* dyheli;
	struct _DYOBJ_INST* dyshadow;
	struct _DYOBJ_INST* dyrotor;
	struct _DYOBJ_INST* dyrotortl;
	struct _DYOBJ_INST* dyrotshadow;
	struct _DYOBJ_INST* dyrope;
	struct _DYOBJ_INST* dybucket;
	struct _DYOBJ_INST* dyspot;
	struct _DYOBJ_INST* dybracket;
	void * __ptr32 bucketmesh;
	void * __ptr32 harnessmesh;
	int32_t damage;
	int32_t smokeseq;
	struct mv heli_p;
	struct mv heli_r;
	struct Point3d vector;
	int32_t yaw;
	int32_t collide_delay;
	int32_t roll;
	int32_t slide;
	int32_t pitch;
	int32_t yawrate;
	int32_t yspeed;
	int32_t fwd_speed;
	int32_t delta_fwd_speed;
	int32_t movex;
	int32_t movez;
	int32_t hover_ht;
	int32_t can_land;
	long spotlevel;
	int32_t rotstate;
	int32_t rotspeed;
	int32_t fireprojectile;
	int32_t terralt;
	int32_t buildalt;
	struct Point3d collisvec;
	int32_t shad_color;
	struct _MISSILE_DATA* crash_traj;
	int32_t crash_timer;
	long crash_seq;
	int32_t over_water;
	struct _ROPE_DATA rinfo;
	struct _WATER_DATA winfo;
	struct tagHeliPassengerData passengerData;
	int32_t fuel;
	int32_t flight_time;
	int32_t pct_load;
};

// Type: struct _HELI_TYPE_DATA (forward reference);
struct _HELI_TYPE_DATA{
	int32_t num_initialized;
	int32_t max_seats;
	int32_t max_load;
	int32_t max_bank;
	int32_t max_slide;
	int32_t max_pitch;
	int32_t max_yawrate;
	int32_t pitch_rate;
	int32_t yaw_rate;
	int32_t roll_rate;
	int32_t slide_rate;
	int32_t climb_rate;
	struct Point3d tlrotor_disp;
	int32_t flags;
	int32_t fuel_capacity;
	int32_t fuel_rate;
	int32_t cost;
	int32_t max_damage;
};

// Type: long;

// Type: int32_t;

// Type: struct _HELI_DATA;
struct _HELI_DATA{
	int32_t type;
	int32_t state;
	int32_t flags;
	int32_t altdelta;
	struct Point2d lastpos;
	struct Point2d currpos;
	int32_t rotor_mat[4][4];
	int32_t rotortl_mat[4][4];
	struct _DYOBJ_INST* dycannon;
	struct _DYOBJ_INST* dyheli;
	struct _DYOBJ_INST* dyshadow;
	struct _DYOBJ_INST* dyrotor;
	struct _DYOBJ_INST* dyrotortl;
	struct _DYOBJ_INST* dyrotshadow;
	struct _DYOBJ_INST* dyrope;
	struct _DYOBJ_INST* dybucket;
	struct _DYOBJ_INST* dyspot;
	struct _DYOBJ_INST* dybracket;
	void * __ptr32 bucketmesh;
	void * __ptr32 harnessmesh;
	int32_t damage;
	int32_t smokeseq;
	struct mv heli_p;
	struct mv heli_r;
	struct Point3d vector;
	int32_t yaw;
	int32_t collide_delay;
	int32_t roll;
	int32_t slide;
	int32_t pitch;
	int32_t yawrate;
	int32_t yspeed;
	int32_t fwd_speed;
	int32_t delta_fwd_speed;
	int32_t movex;
	int32_t movez;
	int32_t hover_ht;
	int32_t can_land;
	long spotlevel;
	int32_t rotstate;
	int32_t rotspeed;
	int32_t fireprojectile;
	int32_t terralt;
	int32_t buildalt;
	struct Point3d collisvec;
	int32_t shad_color;
	struct _MISSILE_DATA* crash_traj;
	int32_t crash_timer;
	long crash_seq;
	int32_t over_water;
	struct _ROPE_DATA rinfo;
	struct _WATER_DATA winfo;
	struct tagHeliPassengerData passengerData;
	int32_t fuel;
	int32_t flight_time;
	int32_t pct_load;
};

// Type: struct _dPoint2d (forward reference);
struct _dPoint2d{
	double x;
	double z;
};

// Type: struct Point3d;
struct Point3d{
	int32_t x;
	int32_t y;
	int32_t z;
};

// Type: char;

// Type: struct VRBmpHdr (forward reference);
struct VRBmpHdr{
	struct VRBmpInfo info;
	int32_t ScanOffset[1];
};

// Type: struct _HELI_DATA (forward reference);
struct _HELI_DATA{
	int32_t type;
	int32_t state;
	int32_t flags;
	int32_t altdelta;
	struct Point2d lastpos;
	struct Point2d currpos;
	int32_t rotor_mat[4][4];
	int32_t rotortl_mat[4][4];
	struct _DYOBJ_INST* dycannon;
	struct _DYOBJ_INST* dyheli;
	struct _DYOBJ_INST* dyshadow;
	struct _DYOBJ_INST* dyrotor;
	struct _DYOBJ_INST* dyrotortl;
	struct _DYOBJ_INST* dyrotshadow;
	struct _DYOBJ_INST* dyrope;
	struct _DYOBJ_INST* dybucket;
	struct _DYOBJ_INST* dyspot;
	struct _DYOBJ_INST* dybracket;
	void * __ptr32 bucketmesh;
	void * __ptr32 harnessmesh;
	int32_t damage;
	int32_t smokeseq;
	struct mv heli_p;
	struct mv heli_r;
	struct Point3d vector;
	int32_t yaw;
	int32_t collide_delay;
	int32_t roll;
	int32_t slide;
	int32_t pitch;
	int32_t yawrate;
	int32_t yspeed;
	int32_t fwd_speed;
	int32_t delta_fwd_speed;
	int32_t movex;
	int32_t movez;
	int32_t hover_ht;
	int32_t can_land;
	long spotlevel;
	int32_t rotstate;
	int32_t rotspeed;
	int32_t fireprojectile;
	int32_t terralt;
	int32_t buildalt;
	struct Point3d collisvec;
	int32_t shad_color;
	struct _MISSILE_DATA* crash_traj;
	int32_t crash_timer;
	long crash_seq;
	int32_t over_water;
	struct _ROPE_DATA rinfo;
	struct _WATER_DATA winfo;
	struct tagHeliPassengerData passengerData;
	int32_t fuel;
	int32_t flight_time;
	int32_t pct_load;
};

// Type: char *;

// Type: struct VRObjInfo;
struct VRObjInfo{
	int32_t Faces;
	int32_t Verts;
	int32_t Attribute;
	int32_t Radius;
	struct Point3d* ObjCenter;
	struct Point3d* VertsPtr;
	struct Xform3d* VertsXfm;
	struct Point3d* OrgVerts;
	int32_t[4][4]* Matrix;
};

// Type: void;

// Type: struct _CELL_INFO (forward reference);
struct _CELL_INFO{
	short flags;
	short x;
	short y;
	short z;
	short size;
	short ctr;
	struct _STOBJ_INST* stptr;
	struct _DYOBJ_INST* dyptr;
	struct _DYOBJ_INST* vwptr;
};

// Type: struct VRview;
struct VRview{
	struct Point3d loc;
	struct Point3d scale;
	int32_t matrix[4][4];
};

// Type: struct Point2d (forward reference);
struct Point2d{
	int32_t x;
	int32_t y;
};

// Type: struct Point3d (forward reference);
struct Point3d{
	int32_t x;
	int32_t y;
	int32_t z;
};

// Type: struct VRFaceInfo;
struct VRFaceInfo{
	int32_t Face;
	int32_t Verts;
	int32_t Attribute;
	int32_t Plotter;
	struct VRBmpHdr* Bitmap;
	int32_t * VertList;
	struct MapVert* MapVList;
	struct MapVert* BarryPtr;
};

// Type: int32_t *;

// Type: struct _STOBJ_INST (forward reference);
struct _STOBJ_INST{
	struct _STOBJ_INST* next;
	void * __ptr32 mesh;
	long user1;
	long user2;
};

// Type: struct _DYOBJ_INST (forward reference);
struct _DYOBJ_INST{
	struct _DYOBJ_INST* next;
	struct _DYOBJ_INST* vnext;
	void * __ptr32 mesh;
	short flags;
	short user1;
	long radius;
	long height;
	struct Point3d loc;
	int32_t matrix[4][4];
};

// Type: struct VRBlit (forward reference);
struct VRBlit{
	int32_t nverts;
	struct Proj2d* verts;
	int32_t notused;
	int32_t user1;
};

// Type: struct tagUserPersonalInfo (forward reference);
struct tagUserPersonalInfo{
	char szUserName[64];
	long lMoney;
	long lHelicopters;
	long lEquipment;
	long lTrophies;
	long lPoints;
	long lTeargasCount;
};

// Type: void * __ptr32;



// Contribution: 1:000ee1c0-000f7aeb Module: 176, 16 byte alignment, code, execute, read, 
// FUNCTION: COPTER_D 0x004ef1c0
void S3HeliInitInstance(struct _HELI_DATA* hd) {
	int32_t shadobj;
	struct _HELI_TYPE_DATA* htd;
	int32_t heliobj;
	int32_t obj;
	char * mem;
	int32_t rotshadobj;
	long hdindex;
	int32_t rotobj;
	long size;
	struct VRObjInfo oinfo;

// LINE 490:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 491:
	__asm        mov    eax, hd;
	__asm        sub    eax, 0x6BF1D0;
	__asm        mov    ecx, 0x32C;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    hdindex, eax;
// LINE 493:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        mov    [ebp-0x4C], eax;
	__asm        jmp    _T2ee;
// LINE 496:
	__asm        push   0x76;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    heliobj, eax;
// LINE 497:
	__asm        push   0x117;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotobj, eax;
// LINE 498:
	__asm        push   0x159;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    shadobj, eax;
// LINE 499:
	__asm        push   0x160;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotshadobj, eax;
// LINE 500:
	__asm        jmp    _T326;
// LINE 502:
	__asm        push   0x116;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    heliobj, eax;
// LINE 503:
	__asm        push   0x78;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotobj, eax;
// LINE 504:
	__asm        push   0x158;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    shadobj, eax;
// LINE 505:
	__asm        push   0x15F;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotshadobj, eax;
// LINE 506:
	__asm        jmp    _T326;
// LINE 508:
	__asm        push   0x119;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    heliobj, eax;
// LINE 509:
	__asm        push   0x11A;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotobj, eax;
// LINE 510:
	__asm        push   0x15B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    shadobj, eax;
// LINE 511:
	__asm        push   0x162;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotshadobj, eax;
// LINE 512:
	__asm        jmp    _T326;
// LINE 514:
	__asm        push   0x124;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    heliobj, eax;
// LINE 515:
	__asm        push   0x126;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotobj, eax;
// LINE 516:
	__asm        push   0x156;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    shadobj, eax;
// LINE 517:
	__asm        push   0x15D;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotshadobj, eax;
// LINE 518:
	__asm        jmp    _T326;
// LINE 520:
	__asm        push   0x125;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    heliobj, eax;
// LINE 521:
	__asm        push   0x127;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotobj, eax;
// LINE 522:
	__asm        push   0x15A;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    shadobj, eax;
// LINE 523:
	__asm        push   0x161;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotshadobj, eax;
// LINE 524:
	__asm        jmp    _T326;
// LINE 526:
	__asm        push   0x141;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    heliobj, eax;
// LINE 527:
	__asm        push   0x142;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotobj, eax;
// LINE 528:
	__asm        push   0x155;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    shadobj, eax;
// LINE 529:
	__asm        push   0x15C;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotshadobj, eax;
// LINE 530:
	__asm        jmp    _T326;
// LINE 532:
	__asm        push   0x153;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    heliobj, eax;
// LINE 533:
	__asm        push   0x154;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotobj, eax;
// LINE 534:
	__asm        push   0x157;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    shadobj, eax;
// LINE 535:
	__asm        push   0x15E;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotshadobj, eax;
// LINE 536:
	__asm        jmp    _T326;
// LINE 538:
	__asm        push   0x170;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    heliobj, eax;
// LINE 539:
	__asm        push   0x172;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotobj, eax;
// LINE 540:
	__asm        push   0x174;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    shadobj, eax;
// LINE 541:
	__asm        push   0x176;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotshadobj, eax;
// LINE 542:
	__asm        jmp    _T326;
// LINE 544:
	__asm        push   0x171;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    heliobj, eax;
// LINE 545:
	__asm        push   0x173;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotobj, eax;
// LINE 546:
	__asm        push   0x175;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    shadobj, eax;
// LINE 547:
	__asm        push   0x177;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotshadobj, eax;
// LINE 548:
	__asm        jmp    _T326;
// LINE 550:
_T2a7:
	__asm        push   0x76;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    heliobj, eax;
// LINE 551:
	__asm        push   0x117;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotobj, eax;
// LINE 552:
	__asm        push   0x159;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    shadobj, eax;
// LINE 553:
	__asm        push   0x160;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    rotshadobj, eax;
// LINE 554:
	__asm        jmp    _T326;
// LINE 555:
	__asm        jmp    _T326;
_T2ee:
	__asm        cmp    dword ptr [ebp-0x4C], 8;
	__asm        ja     _T2a7;

	__asm        mov    eax, [ebp-0x4C];
	__asm        jmp    SwitchPointers5174466[0][eax*4];
// Switch pointers
// LINE 560:
_T326:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+8], 0;
// LINE 564:
	__asm        push   0x64;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xA4], eax;
// LINE 566:
	__asm        push   0x64;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xBC], eax;
// LINE 568:
	__asm        push   0x64;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xA8], eax;
// LINE 570:
	__asm        push   0x64;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xC0], eax;
// LINE 572:
	__asm        push   0x64;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xAC], eax;
// LINE 574:
	__asm        push   0x64;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xB0], eax;
// LINE 576:
	__asm        push   0x64;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xB4], eax;
// LINE 578:
	__asm        push   0x64;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xC4], eax;
// LINE 580:
	__asm        push   0x64;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xB8], eax;
// LINE 582:
	__asm        push   0x64;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xA0], eax;
// LINE 591:
	__asm        mov    eax, htd;
	__asm        cmp    dword ptr [eax], 0;
	__asm        jle    _T5a7;
// LINE 593:
	__asm        mov    eax, heliobj;
	__asm        push   eax;
	__asm        call   0x004D8520;
	__asm        add    esp, 4;
	__asm        mov    size, eax;
// LINE 594:
	__asm        mov    eax, size;
	__asm        push   eax;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    mem, eax;
// LINE 595:
	__asm        mov    eax, mem;
	__asm        push   eax;
	__asm        mov    eax, heliobj;
	__asm        push   eax;
	__asm        call   0x004D8570;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+8], eax;
// LINE 596:
	__asm        mov    eax, G_main_mp;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D84DB;
	__asm        add    esp, 8;
// LINE 598:
	__asm        mov    eax, rotobj;
	__asm        push   eax;
	__asm        call   0x004D8520;
	__asm        add    esp, 4;
	__asm        mov    size, eax;
// LINE 599:
	__asm        mov    eax, size;
	__asm        push   eax;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    mem, eax;
// LINE 600:
	__asm        mov    eax, mem;
	__asm        push   eax;
	__asm        mov    eax, rotobj;
	__asm        push   eax;
	__asm        call   0x004D8570;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xAC];
	__asm        mov    [ecx+8], eax;
// LINE 601:
	__asm        mov    eax, G_main_mp;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xAC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D84DB;
	__asm        add    esp, 8;
// LINE 603:
	__asm        mov    eax, shadobj;
	__asm        push   eax;
	__asm        call   0x004D8520;
	__asm        add    esp, 4;
	__asm        mov    size, eax;
// LINE 604:
	__asm        mov    eax, size;
	__asm        push   eax;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    mem, eax;
// LINE 605:
	__asm        mov    eax, mem;
	__asm        push   eax;
	__asm        mov    eax, shadobj;
	__asm        push   eax;
	__asm        call   0x004D8570;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA8];
	__asm        mov    [ecx+8], eax;
// LINE 606:
	__asm        mov    eax, G_main_mp;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D84DB;
	__asm        add    esp, 8;
// LINE 608:
	__asm        mov    eax, rotshadobj;
	__asm        push   eax;
	__asm        call   0x004D8520;
	__asm        add    esp, 4;
	__asm        mov    size, eax;
// LINE 609:
	__asm        mov    eax, size;
	__asm        push   eax;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    mem, eax;
// LINE 610:
	__asm        mov    eax, mem;
	__asm        push   eax;
	__asm        mov    eax, rotshadobj;
	__asm        push   eax;
	__asm        call   0x004D8570;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB4];
	__asm        mov    [ecx+8], eax;
// LINE 611:
	__asm        mov    eax, G_main_mp;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D84DB;
	__asm        add    esp, 8;
// LINE 613:
	__asm        jmp    _T5e3;
// LINE 615:
_T5a7:
	__asm        mov    eax, heliobj;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+8], eax;
// LINE 616:
	__asm        mov    eax, rotobj;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xAC];
	__asm        mov    [ecx+8], eax;
// LINE 617:
	__asm        mov    eax, rotshadobj;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB4];
	__asm        mov    [ecx+8], eax;
// LINE 618:
	__asm        mov    eax, shadobj;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA8];
	__asm        mov    [ecx+8], eax;
// LINE 625:
_T5e3:
	__asm        cmp    S_numhelis, 0;
	__asm        jle    _T898;
// LINE 627:
	__asm        push   0x7B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        push   eax;
	__asm        call   0x004D8520;
	__asm        add    esp, 4;
	__asm        mov    size, eax;
// LINE 628:
	__asm        mov    eax, size;
	__asm        push   eax;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    mem, eax;
// LINE 629:
	__asm        mov    eax, mem;
	__asm        push   eax;
	__asm        push   0x7B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        push   eax;
	__asm        call   0x004D8570;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        mov    [ecx+8], eax;
// LINE 630:
	__asm        mov    eax, G_main_mp;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D84DB;
	__asm        add    esp, 8;
// LINE 631:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    eax, [eax+8];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xC8], eax;
// LINE 633:
	__asm        push   0x16D;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        push   eax;
	__asm        call   0x004D8520;
	__asm        add    esp, 4;
	__asm        mov    size, eax;
// LINE 634:
	__asm        mov    eax, size;
	__asm        push   eax;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    mem, eax;
// LINE 635:
	__asm        mov    eax, mem;
	__asm        push   eax;
	__asm        push   0x16D;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        push   eax;
	__asm        call   0x004D8570;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xCC], eax;
// LINE 636:
	__asm        mov    eax, G_main_mp;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xCC];
	__asm        push   eax;
	__asm        call   0x004D84DB;
	__asm        add    esp, 8;
// LINE 638:
	__asm        push   0x118;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        push   eax;
	__asm        call   0x004D8520;
	__asm        add    esp, 4;
	__asm        mov    size, eax;
// LINE 639:
	__asm        mov    eax, size;
	__asm        push   eax;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    mem, eax;
// LINE 640:
	__asm        mov    eax, mem;
	__asm        push   eax;
	__asm        push   0x118;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        push   eax;
	__asm        call   0x004D8570;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC0];
	__asm        mov    [ecx+8], eax;
// LINE 641:
	__asm        mov    eax, G_main_mp;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D84DB;
	__asm        add    esp, 8;
// LINE 643:
	__asm        push   0x83;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        push   eax;
	__asm        call   0x004D8520;
	__asm        add    esp, 4;
	__asm        mov    size, eax;
// LINE 644:
	__asm        mov    eax, size;
	__asm        push   eax;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    mem, eax;
// LINE 645:
	__asm        mov    eax, mem;
	__asm        push   eax;
	__asm        push   0x83;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        push   eax;
	__asm        call   0x004D8570;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB0];
	__asm        mov    [ecx+8], eax;
// LINE 646:
	__asm        mov    eax, G_main_mp;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D84DB;
	__asm        add    esp, 8;
// LINE 649:
	__asm        push   0x16C;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        push   eax;
	__asm        call   0x004D8520;
	__asm        add    esp, 4;
	__asm        mov    size, eax;
// LINE 650:
	__asm        mov    eax, size;
	__asm        push   eax;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    mem, eax;
// LINE 651:
	__asm        mov    eax, mem;
	__asm        push   eax;
	__asm        push   0x16C;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        push   eax;
	__asm        call   0x004D8570;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC4];
	__asm        mov    [ecx+8], eax;
// LINE 652:
	__asm        mov    eax, G_main_mp;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D84DB;
	__asm        add    esp, 8;
// LINE 654:
	__asm        push   0x16E;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        push   eax;
	__asm        call   0x004D8520;
	__asm        add    esp, 4;
	__asm        mov    size, eax;
// LINE 655:
	__asm        mov    eax, size;
	__asm        push   eax;
	__asm        mov    eax, G_dyobjmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    mem, eax;
// LINE 656:
	__asm        mov    eax, mem;
	__asm        push   eax;
	__asm        push   0x16E;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        push   eax;
	__asm        call   0x004D8570;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA0];
	__asm        mov    [ecx+8], eax;
// LINE 657:
	__asm        mov    eax, G_main_mp;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D84DB;
	__asm        add    esp, 8;
// LINE 659:
	__asm        jmp    _T9c4;
// LINE 661:
_T898:
	__asm        push   0x16D;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xCC], eax;
// LINE 662:
	__asm        push   0x7B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xC8], eax;
// LINE 663:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC8];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        mov    [ecx+8], eax;
// LINE 664:
	__asm        push   0x118;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC0];
	__asm        mov    [ecx+8], eax;
// LINE 665:
	__asm        push   0x83;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB0];
	__asm        mov    [ecx+8], eax;
// LINE 666:
	__asm        push   0x16C;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC4];
	__asm        mov    [ecx+8], eax;
// LINE 667:
	__asm        push   0x16E;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA0];
	__asm        mov    [ecx+8], eax;
// LINE 670:
	__asm        push   0x607218;
	__asm        call   0x004D1FF1;
	__asm        add    esp, 4;
// LINE 671:
	__asm        push   0x607218;
	__asm        push   0xFE980000;
	__asm        call   0x004D2004;
	__asm        add    esp, 8;
// LINE 672:
	__asm        push   0x607218;
	__asm        push   0x6071E0;
	__asm        push   0x59B518;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 675:
	__asm        push   8;
	__asm        mov    eax, G_restex;
	__asm        push   eax;
	__asm        call   VRInt2BmpHdr;
	__asm        add    esp, 8;
	__asm        mov    S_spotlevels[0], eax;
// LINE 676:
	__asm        push   9;
	__asm        mov    eax, G_restex;
	__asm        push   eax;
	__asm        call   VRInt2BmpHdr;
	__asm        add    esp, 8;
	__asm        mov    S_spotlevels[1], eax;
// LINE 677:
	__asm        push   0xA;
	__asm        mov    eax, G_restex;
	__asm        push   eax;
	__asm        call   VRInt2BmpHdr;
	__asm        add    esp, 8;
	__asm        mov    S_spotlevels[2], eax;
// LINE 678:
	__asm        push   0xB;
	__asm        mov    eax, G_restex;
	__asm        push   eax;
	__asm        call   VRInt2BmpHdr;
	__asm        add    esp, 8;
	__asm        mov    S_spotlevels[3], eax;
// LINE 684:
_T9c4:
	__asm        mov    eax, hdindex;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+0xE], ax;
// LINE 685:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    word ptr [eax+0xC], 5;
// LINE 686:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 687:
	__asm        mov    eax, oinfo.Radius;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+0x10], eax;
// LINE 688:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   VRObjGetHeight;
	__asm        add    esp, 4;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+0x14], eax;
// LINE 693:
	__asm        mov    eax, hdindex;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        mov    [ecx+0xE], ax;
// LINE 694:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    word ptr [eax+0xC], 0x21;
// LINE 695:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 696:
	__asm        mov    eax, oinfo.Radius;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        mov    [ecx+0x10], eax;
// LINE 697:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   VRObjGetHeight;
	__asm        add    esp, 4;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        mov    [ecx+0x14], eax;
// LINE 702:
	__asm        mov    eax, hdindex;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC0];
	__asm        mov    [ecx+0xE], ax;
// LINE 703:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    word ptr [eax+0xC], 0x21;
// LINE 704:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 705:
	__asm        mov    eax, oinfo.Radius;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC0];
	__asm        mov    [ecx+0x10], eax;
// LINE 710:
	__asm        mov    eax, hdindex;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA8];
	__asm        mov    [ecx+0xE], ax;
// LINE 711:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA8];
	__asm        mov    word ptr [eax+0xC], 0x21;
// LINE 712:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 713:
	__asm        mov    eax, oinfo.Radius;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA8];
	__asm        mov    [ecx+0x10], eax;
// LINE 718:
	__asm        mov    eax, hdindex;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB4];
	__asm        mov    [ecx+0xE], ax;
// LINE 719:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB4];
	__asm        mov    word ptr [eax+0xC], 0x21;
// LINE 720:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 721:
	__asm        mov    eax, oinfo.Radius;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB4];
	__asm        mov    [ecx+0x10], eax;
// LINE 726:
	__asm        mov    eax, hdindex;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xAC];
	__asm        mov    [ecx+0xE], ax;
// LINE 727:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xAC];
	__asm        mov    word ptr [eax+0xC], 0x21;
// LINE 728:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xAC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 729:
	__asm        mov    eax, oinfo.Radius;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xAC];
	__asm        mov    [ecx+0x10], eax;
// LINE 734:
	__asm        mov    eax, hdindex;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB0];
	__asm        mov    [ecx+0xE], ax;
// LINE 735:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB0];
	__asm        mov    word ptr [eax+0xC], 0x21;
// LINE 736:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 737:
	__asm        mov    eax, oinfo.Radius;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB0];
	__asm        mov    [ecx+0x10], eax;
// LINE 742:
	__asm        mov    eax, hdindex;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC4];
	__asm        mov    [ecx+0xE], ax;
// LINE 743:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC4];
	__asm        mov    word ptr [eax+0xC], 0x21;
// LINE 744:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 745:
	__asm        mov    eax, oinfo.Radius;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC4];
	__asm        mov    [ecx+0x10], eax;
// LINE 750:
	__asm        mov    eax, hdindex;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA0];
	__asm        mov    [ecx+0xE], ax;
// LINE 751:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA0];
	__asm        mov    word ptr [eax+0xC], 0x21;
// LINE 752:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 753:
	__asm        mov    eax, oinfo.Radius;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA0];
	__asm        mov    [ecx+0x10], eax;
// LINE 760:
	__asm        mov    eax, RopeSeg;
	__asm        push   eax;
	__asm        push   0x78;
	__asm        push   0x14;
	__asm        call   VRObjCreateRope;
	__asm        add    esp, 0xC;
	__asm        mov    obj, eax;
// LINE 761:
	__asm        cmp    obj, 0;
	__asm        jne    _Tcb1;
// LINE 762:
	__asm        push   0x5B4CA8;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 764:
_Tcb1:
	__asm        push   2;
	__asm        mov    eax, obj;
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 765:
	__asm        push   0;
	__asm        mov    eax, obj;
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 766:
	__asm        mov    eax, G_main_mp;
	__asm        push   eax;
	__asm        mov    eax, obj;
	__asm        push   eax;
	__asm        call   0x004D84DB;
	__asm        add    esp, 8;
// LINE 769:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, obj;
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 770:
	__asm        mov    eax, oinfo.VertsPtr;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x178], eax;
// LINE 777:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x178];
	__asm        add    eax, 0xE4;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x17C], eax;
// LINE 778:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x178];
	__asm        add    eax, 0xD8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x180], eax;
// LINE 781:
	__asm        mov    eax, obj;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB8];
	__asm        mov    [ecx+8], eax;
// LINE 782:
	__asm        mov    eax, hdindex;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB8];
	__asm        mov    [ecx+0xE], ax;
// LINE 783:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        mov    word ptr [eax+0xC], 0x21;
// LINE 784:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        mov    dword ptr [eax+0x10], 0x20000;
// LINE 789:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1C0], 0;
// LINE 795:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 796:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 797:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 800:
	__asm        inc    S_numhelis;
// LINE 801:
	__asm        mov    eax, htd;
	__asm        inc    dword ptr [eax];
// LINE 804:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        add    eax, 0x1C4;
	__asm        push   eax;
	__asm        call   HeliPassengerInit;
	__asm        add    esp, 8;
// LINE 805:
}

// FUNCTION: COPTER_D 0x004effa0
void S3HeliGenInit(struct _HELI_DATA* hd, long mapx, long mapy) {
	struct _HELI_TYPE_DATA* htd;
	struct _CELL_INFO* cptr;
	int32_t alt;
	long heliidx;

// LINE 829:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 832:
	__asm        mov    heliidx, 0;
	__asm        jmp    _T2f;
_T2c:
	__asm        inc    heliidx;
_T2f:
	__asm        cmp    heliidx, 0xA;
	__asm        jge    _T61;
// LINE 834:
	__asm        mov    eax, heliidx;
	__asm        cmp    G_helis[0][eax*4], 0;
	__asm        jne    _T5c;
// LINE 836:
	__asm        mov    eax, hd;
	__asm        mov    ecx, heliidx;
	__asm        mov    G_helis[0][ecx*4], eax;
// LINE 837:
	__asm        jmp    _T61;
// LINE 839:
_T5c:
	__asm        jmp    _T2c;
// LINE 842:
_T61:
	__asm        mov    eax, mapy;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, mapx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        mov    cptr, eax;
// LINE 843:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+4];
	__asm        mov    alt, eax;
// LINE 847:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+2];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+0x18], eax;
// LINE 848:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+4];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+0x1C], eax;
// LINE 849:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+6];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+0x20], eax;
// LINE 851:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        call   0x004D1FF1;
	__asm        add    esp, 4;
// LINE 854:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+2];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA0];
	__asm        mov    [ecx+0x18], eax;
// LINE 855:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+4];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA0];
	__asm        mov    [ecx+0x1C], eax;
// LINE 856:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+6];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA0];
	__asm        mov    [ecx+0x20], eax;
// LINE 857:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA0];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        call   0x004D1FF1;
	__asm        add    esp, 4;
// LINE 862:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB8];
	__asm        add    ecx, 0x18;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 863:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        call   0x004D1FF1;
	__asm        add    esp, 4;
// LINE 868:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x18];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x17C];
	__asm        add    eax, [ecx];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        mov    [ecx+0x18], eax;
// LINE 869:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x17C];
	__asm        mov    eax, [eax+4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        add    eax, [ecx+0x1C];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        mov    [ecx+0x1C], eax;
// LINE 870:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x17C];
	__asm        mov    eax, [eax+8];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        add    eax, [ecx+0x20];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        mov    [ecx+0x20], eax;
// LINE 871:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x180];
	__asm        mov    eax, [eax];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x17C];
	__asm        sub    eax, [ecx];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x184], eax;
// LINE 872:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x180];
	__asm        mov    eax, [eax+4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x17C];
	__asm        sub    eax, [ecx+4];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x188], eax;
// LINE 873:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x180];
	__asm        mov    eax, [eax+8];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x17C];
	__asm        sub    eax, [ecx+8];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x18C], eax;
// LINE 874:
	__asm        mov    eax, hd;
	__asm        add    eax, 0x184;
	__asm        push   eax;
	__asm        call   MTNormalize;
	__asm        add    esp, 4;
// LINE 875:
	__asm        mov    eax, hd;
	__asm        add    eax, 0x184;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        call   MTCreateDOF4x4Y;
	__asm        add    esp, 8;
// LINE 880:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+2];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC0];
	__asm        mov    [ecx+0x18], eax;
// LINE 881:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+4];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC0];
	__asm        mov    [ecx+0x1C], eax;
// LINE 882:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+6];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC0];
	__asm        mov    [ecx+0x20], eax;
// LINE 884:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        call   0x004D1FF1;
	__asm        add    esp, 4;
// LINE 888:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+2];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA8];
	__asm        mov    [ecx+0x18], eax;
// LINE 889:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+4];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA8];
	__asm        mov    [ecx+0x1C], eax;
// LINE 890:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+6];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA8];
	__asm        mov    [ecx+0x20], eax;
// LINE 892:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA8];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        call   0x004D1FF1;
	__asm        add    esp, 4;
// LINE 896:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+2];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xAC];
	__asm        mov    [ecx+0x18], eax;
// LINE 897:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+4];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xAC];
	__asm        mov    [ecx+0x1C], eax;
// LINE 898:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+6];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xAC];
	__asm        mov    [ecx+0x20], eax;
// LINE 899:
	__asm        mov    eax, hd;
	__asm        add    eax, 0x20;
	__asm        push   eax;
	__asm        call   0x004D1FF1;
	__asm        add    esp, 4;
// LINE 903:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+2];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC4];
	__asm        mov    [ecx+0x18], eax;
// LINE 904:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+4];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC4];
	__asm        mov    [ecx+0x1C], eax;
// LINE 905:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+6];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC4];
	__asm        mov    [ecx+0x20], eax;
// LINE 909:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+2];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB0];
	__asm        mov    [ecx+0x18], eax;
// LINE 910:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+4];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB0];
	__asm        mov    [ecx+0x1C], eax;
// LINE 911:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+6];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB0];
	__asm        mov    [ecx+0x20], eax;
// LINE 912:
	__asm        mov    eax, hd;
	__asm        add    eax, 0x60;
	__asm        push   eax;
	__asm        call   0x004D1FF1;
	__asm        add    esp, 4;
// LINE 916:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xAC];
	__asm        add    eax, 0x18;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB4];
	__asm        add    ecx, 0x18;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 919:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xAC];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx], eax;
// LINE 920:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB0];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xAC];
	__asm        mov    [ecx], eax;
// LINE 921:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB0];
	__asm        mov    [ecx], eax;
// LINE 922:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA8];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB4];
	__asm        mov    [ecx], eax;
// LINE 923:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA8];
	__asm        mov    [ecx], eax;
// LINE 924:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB8];
	__asm        mov    [ecx], eax;
// LINE 925:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA0];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        mov    [ecx], eax;
// LINE 926:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA0];
	__asm        mov    [ecx], eax;
// LINE 927:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC0];
	__asm        mov    [ecx], eax;
// LINE 928:
	__asm        mov    eax, cptr;
	__asm        mov    eax, [eax+0x10];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC4];
	__asm        mov    [ecx], eax;
// LINE 929:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+0x10], eax;
// LINE 932:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xAC];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+4], eax;
// LINE 933:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB0];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xAC];
	__asm        mov    [ecx+4], eax;
// LINE 934:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB0];
	__asm        mov    [ecx+4], eax;
// LINE 935:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA8];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB4];
	__asm        mov    [ecx+4], eax;
// LINE 936:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA8];
	__asm        mov    [ecx+4], eax;
// LINE 937:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB8];
	__asm        mov    [ecx+4], eax;
// LINE 938:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA0];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        mov    [ecx+4], eax;
// LINE 939:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA0];
	__asm        mov    [ecx+4], eax;
// LINE 940:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC0];
	__asm        mov    [ecx+4], eax;
// LINE 941:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC4];
	__asm        mov    dword ptr [eax+4], 0;
// LINE 944:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(mapx);
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x18], eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x18];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x10], eax;
// LINE 945:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(mapy);
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x1C], eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1C];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x14], eax;
// LINE 947:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x100], 0;
// LINE 948:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x104], 0;
// LINE 949:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x108], 0x10000;
// LINE 952:
	__asm        push   6;
	__asm        mov    eax, G_restex;
	__asm        push   eax;
	__asm        call   VRInt2BmpHdr;
	__asm        add    esp, 8;
	__asm        mov    S_shadbmp, eax;
// LINE 954:
	__asm        mov    eax, hd;
	__asm        add    eax, 0xE0;
	__asm        mov    dword ptr [eax], 0;
	__asm        mov    dword ptr [eax+4], 0;
	__asm        mov    dword ptr [eax+8], 0;
// LINE 956:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+4], 0;
// LINE 957:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x148], 0;
// LINE 958:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x144], 1;
// LINE 959:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1AC], 0;
// LINE 960:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x11C], 0;
// LINE 961:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x120], 0;
// LINE 962:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x128], 0;
// LINE 964:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xD8], 0x10000;
// LINE 965:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xEC], 0x10000;
// LINE 966:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x10C], 0;
// LINE 967:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x114], 0;
// LINE 968:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x118], 0;
// LINE 969:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x110], 0;
// LINE 970:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x14C], 0;
// LINE 971:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x13C], 1;
// LINE 972:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x4C];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xD0], eax;
// LINE 973:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x40];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x320], eax;
// LINE 974:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x324], 0;
// LINE 975:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xD4], 0;
// LINE 976:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x140], 0;
// LINE 978:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x138], 0;
// LINE 980:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 981:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 0;
// LINE 982:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1BC], 0;
// LINE 983:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1C0], 0;
// LINE 986:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1AC], 0x11;
// LINE 987:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B0], 1;
// LINE 988:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B4], 1;
// LINE 989:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 990:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 992:
	__asm        mov    eax, hd;
	__asm        or     dword ptr [eax+8], 2;
// LINE 993:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax], 2;
	__asm        jne    _T803;
// LINE 994:
	__asm        mov    G_apache_placed, 1;
// LINE 996:
_T803:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _T815;
// LINE 997:
	__asm        call   SetIdealCameraPos;
// LINE 998:
_T815:
}

// FUNCTION: COPTER_D 0x004f07ba
void S3HeliNextFrame(struct _HELI_DATA* hd) {
	int32_t normy;
	struct VRview pos;
	int32_t normx;
	struct _HELI_TYPE_DATA* htd;
	int32_t maxload;
	struct _CELL_INFO* cptr;
	struct _CELL_INFO* lcptr;
	int32_t matrix[4][4];
	int32_t alt;
	int32_t currload;
	struct Point3d vec;
	int32_t tmpmatrix[4][4];
	int32_t normz;
	struct Point2d* freepad;

// LINE 1011:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 1025:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+4];
	__asm        shl    eax, 3;
	__asm        lea    eax, [eax+eax*2];
	__asm        lea    eax, [eax+eax*4];
	__asm        mov    ecx, htd;
	__asm        add    eax, [ecx+8];
	__asm        shl    eax, 0x10;
	__asm        mov    maxload, eax;
// LINE 1027:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1CC];
	__asm        shl    eax, 3;
	__asm        lea    eax, [eax+eax*2];
	__asm        lea    eax, [eax+eax*4];
	__asm        mov    ecx, hd;
	__asm        add    eax, [ecx+0x1C0];
	__asm        shl    eax, 0x10;
	__asm        mov    currload, eax;
// LINE 1028:
	__asm        mov    eax, maxload;
	__asm        push   eax;
	__asm        mov    eax, maxload;
	__asm        sub    eax, currload;
	__asm        push   eax;
	__asm        call   0x004D19DF;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x328], eax;
// LINE 1032:
	__asm        cmp    G_camera_mode, 1;
	__asm        je     _Tb1;
// LINE 1034:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1038:
_Tb1:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _T3b5;
// LINE 1040:
	__asm        mov    G_camera_targ2firey, 0;
// LINE 1043:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1AC], 0x11;
	__asm        jne    _T10b;
// LINE 1045:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1046:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1048:
	__asm        jmp    _T139;
// LINE 1050:
_T10b:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1051:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1055:
_T139:
	__asm        call   GetCurrentUserPersonalInfo;
	__asm        test   byte ptr [eax+0x48], 4;
	__asm        je     _T164;
// LINE 1057:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1059:
	__asm        jmp    _T17b;
// LINE 1061:
_T164:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1064:
_T17b:
	__asm        call   GetCurrentUserPersonalInfo;
	__asm        test   byte ptr [eax+0x48], 0x10;
	__asm        je     _T1a6;
// LINE 1066:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1068:
	__asm        jmp    _T1bd;
// LINE 1070:
_T1a6:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1074:
_T1bd:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 5;
	__asm        jne    _T1f4;

	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x168];
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jge    _T1f4;
// LINE 1076:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+4], 6;
// LINE 1077:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x170], 0;
// LINE 1080:
_T1f4:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 6;
	__asm        jne    _T2ac;
// LINE 1082:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliCrashed;
	__asm        add    esp, 4;
	__asm        cmp    eax, 1;
	__asm        jne    _T29d;
// LINE 1085:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1086:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1087:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1088:
	__asm        mov    eax, hd;
	__asm        and    dword ptr [eax+8], 0xFFFFFFFE;
// LINE 1089:
	__asm        call   S3HeliGetFreePad;
	__asm        mov    freepad, eax;
// LINE 1090:
	__asm        push   0x50000;
	__asm        push   0x50000;
	__asm        mov    eax, freepad;
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        mov    eax, freepad;
	__asm        mov    eax, [eax];
	__asm        push   eax;
	__asm        call   S3PersonUserAppear;
	__asm        add    esp, 0x10;
// LINE 1091:
	__asm        mov    G_camera_mode, 3;
// LINE 1092:
	__asm        call   S3PersonUserNextFrame;
// LINE 1094:
	__asm        jmp    _T2a7;
// LINE 1096:
_T29d:
	__asm        call   SetIdealCameraPos;
// LINE 1097:
	__asm        call   S3ViewerControl;
// LINE 1099:
_T2a7:
	__asm        jmp    _Tfae;
// LINE 1103:
_T2ac:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0xD0], 0;
	__asm        jge    _T33a;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 5;
	__asm        je     _T33a;
// LINE 1106:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+4], 5;
// LINE 1107:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x16C], 0xCCCC;
// LINE 1108:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x4C];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xD0], eax;
// LINE 1119:
	__asm        push   0xFFFFFFFF;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x128];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        push   eax;
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        add    eax, 0x100;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   8;
	__asm        call   S3MissileStart;
	__asm        add    esp, 0x20;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x168], eax;
// LINE 1122:
_T33a:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliControlInputs;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T3a4;
// LINE 1125:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1126:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1127:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1128:
	__asm        mov    eax, hd;
	__asm        and    dword ptr [eax+8], 0xFFFFFFFE;
// LINE 1129:
	__asm        call   S3PersonUserNextFrame;
// LINE 1130:
	__asm        jmp    _Tfae;
// LINE 1132:
_T3a4:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliTurbulence;
	__asm        add    esp, 4;
// LINE 1134:
	__asm        jmp    _T4b1;
// LINE 1139:
_T3b5:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1140:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1143:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1144:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1145:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1146:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1147:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1150:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0xD0], 0;
	__asm        jge    _T48a;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 6;
	__asm        je     _T48a;
// LINE 1152:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+4], 6;
// LINE 1153:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x170], 0;
// LINE 1156:
_T48a:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 6;
	__asm        jne    _T4b1;
// LINE 1158:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliCrashed;
	__asm        add    esp, 4;
	__asm        cmp    eax, 1;
	__asm        jne    near ptr 0x004F0C66;
// LINE 1161:
	__asm        jmp    _Tfae;
// LINE 1165:
_T4b1:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliYawPitchRollSlide;
	__asm        add    esp, 4;
// LINE 1166:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliMoveXZ;
	__asm        add    esp, 4;
// LINE 1167:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x18];
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x18], eax;
// LINE 1168:
	__asm        mov    eax, 0x20000000;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        sub    eax, [ecx+0x20];
	__asm        sar    eax, 0x16;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x1C], eax;
// LINE 1169:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliMoveY;
	__asm        add    esp, 4;
// LINE 1173:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _T520;
// LINE 1175:
	__asm        call   SetIdealCameraPos;
// LINE 1176:
	__asm        call   S3ViewerControl;
// LINE 1183:
_T520:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1C];
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x18];
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        mov    cptr, eax;
// LINE 1187:
	__asm        mov    eax, hd;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x10];
	__asm        cmp    [eax+0x18], ecx;
	__asm        jne    _T56b;

	__asm        mov    eax, hd;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x1C];
	__asm        cmp    [eax+0x14], ecx;
	__asm        je     _T5f3;
// LINE 1190:
_T56b:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x14];
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x10];
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        mov    lcptr, eax;
// LINE 1191:
	__asm        mov    eax, lcptr;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliUnlink;
	__asm        add    esp, 8;
// LINE 1193:
	__asm        mov    eax, cptr;
	__asm        mov    eax, [eax+0x10];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    ecx, [ecx];
	__asm        mov    ecx, [ecx];
	__asm        mov    ecx, [ecx];
	__asm        mov    ecx, [ecx];
	__asm        mov    ecx, [ecx];
	__asm        mov    ecx, [ecx];
	__asm        mov    ecx, [ecx];
	__asm        mov    ecx, [ecx];
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx], eax;
// LINE 1194:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+0x10], eax;
// LINE 1197:
	__asm        mov    eax, hd;
	__asm        add    eax, 0x18;
	__asm        mov    ecx, [eax];
	__asm        mov    eax, [eax+4];
	__asm        mov    edx, hd;
	__asm        add    edx, 0x10;
	__asm        mov    [edx], ecx;
	__asm        mov    [edx+4], eax;
// LINE 1202:
_T5f3:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, pos.loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 1203:
	__asm        mov    eax, hd;
	__asm        mov    esi, [eax+0xA4];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 1204:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 1207:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC4];
	__asm        add    ecx, 0x18;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 1208:
	__asm        mov    eax, hd;
	__asm        mov    esi, [eax+0xA4];
	__asm        mov    eax, hd;
	__asm        mov    edi, [eax+0xC4];
	__asm        add    edi, 0x24;
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 1209:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 1212:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA0];
	__asm        add    ecx, 0x18;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 1213:
	__asm        mov    eax, hd;
	__asm        mov    esi, [eax+0xA4];
	__asm        mov    eax, hd;
	__asm        mov    edi, [eax+0xA0];
	__asm        add    edi, 0x24;
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 1214:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 1216:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliMainRotor;
	__asm        add    esp, 4;
// LINE 1217:
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliRopeAndBucket;
	__asm        add    esp, 8;
// LINE 1229:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x18];
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+2];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    normx, eax;
// LINE 1230:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x20];
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+6];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    normz, eax;
// LINE 1231:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x1C];
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+4];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    normy, eax;
// LINE 1233:
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x154];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliDropWater;
	__asm        add    esp, 0xC;
// LINE 1234:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x154];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliSimDust;
	__asm        add    esp, 8;
// LINE 1235:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x164];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x154];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x154];
	__asm        mov    ecx, hd;
	__asm        sub    eax, [ecx+0x150];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliSetShadow;
	__asm        add    esp, 0x10;
// LINE 1236:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x164];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x154];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x154];
	__asm        mov    ecx, hd;
	__asm        sub    eax, [ecx+0x150];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliSetSpotlite;
	__asm        add    esp, 0x10;
// LINE 1239:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _T849;
// LINE 1241:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x150];
	__asm        mov    G_camera_targ2objy, eax;
// LINE 1245:
_T849:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 1;
	__asm        jne    _T8d0;
// LINE 1247:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x320], 0;
	__asm        jle    _T8c2;

	__asm        cmp    G_CheatCodes[2], 0;
	__asm        jne    _T8c2;
// LINE 1249:
	__asm        xor    ebx, ebx;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        push   0x11;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        push   eax;
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x44];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sub    ebx, eax;
	__asm        neg    ebx;
	__asm        mov    eax, hd;
	__asm        sub    [eax+0x320], ebx;
// LINE 1250:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x320], 0;
	__asm        jge    _T8c2;
// LINE 1253:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x320], 0;
// LINE 1256:
_T8c2:
	__asm        mov    eax, G_AvLoopTime;
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x324], eax;
// LINE 1265:
_T8d0:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 5;
	__asm        je     _Te52;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 6;
	__asm        je     _Te52;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        je     _Te52;
// LINE 1268:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x150];
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jge    _Ta22;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x174], 1;
	__asm        jne    _Ta22;
// LINE 1270:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x150];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+0x1C], eax;
// LINE 1271:
	__asm        cmp    G_CheatCodes[1], 0;
	__asm        jne    _T976;
// LINE 1272:
	__asm        mov    eax, hd;
	__asm        sub    dword ptr [eax+0xD0], 4;
// LINE 1274:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x320], 0;
	__asm        jne    _T976;
// LINE 1276:
	__asm        xor    eax, eax;
	__asm        mov    ecx, S_htwk_collide_damage_val;
	__asm        shl    ecx, 2;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0xD0], eax;
// LINE 1279:
_T976:
	__asm        push   9;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionSmokeStart;
	__asm        add    esp, 0xC;
// LINE 1281:
	__asm        push   0xF;
	__asm        call   S3SoundIsPlaying;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T9bf;
// LINE 1282:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   0xF;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 1284:
_T9bf:
	__asm        mov    ebx, 1;
	__asm        call   rand;
	__asm        mov    ecx, 3;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        sub    ebx, edx;
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x14];
	__asm        sar    eax, 2;
	__asm        imul   ebx, eax;
	__asm        mov    eax, hd;
	__asm        mov    [eax+0x11C], ebx;
// LINE 1285:
	__asm        mov    ebx, 1;
	__asm        call   rand;
	__asm        mov    ecx, 3;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        sub    ebx, edx;
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x10];
	__asm        sar    eax, 2;
	__asm        imul   ebx, eax;
	__asm        mov    eax, hd;
	__asm        mov    [eax+0x118], ebx;
// LINE 1288:
	__asm        jmp    _Te52;
_Ta22:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x150];
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jge    _Tb3b;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x13C], 0;
	__asm        jne    _Tb3b;
// LINE 1290:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x150];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+0x1C], eax;
// LINE 1291:
	__asm        cmp    G_CheatCodes[1], 0;
	__asm        jne    _Taa1;
// LINE 1292:
	__asm        mov    eax, hd;
	__asm        sub    dword ptr [eax+0xD0], 4;
// LINE 1294:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x320], 0;
	__asm        jne    _Taa1;
// LINE 1296:
	__asm        xor    eax, eax;
	__asm        mov    ecx, S_htwk_collide_damage_val;
	__asm        shl    ecx, 2;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0xD0], eax;
// LINE 1299:
_Taa1:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionSmokeStart;
	__asm        add    esp, 0xC;
// LINE 1301:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   1;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 1303:
	__asm        mov    ebx, 1;
	__asm        call   rand;
	__asm        mov    ecx, 3;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        sub    ebx, edx;
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x14];
	__asm        sar    eax, 2;
	__asm        imul   ebx, eax;
	__asm        mov    eax, hd;
	__asm        mov    [eax+0x11C], ebx;
// LINE 1304:
	__asm        mov    ebx, 1;
	__asm        call   rand;
	__asm        mov    ecx, 3;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        sub    ebx, edx;
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x10];
	__asm        sar    eax, 2;
	__asm        imul   ebx, eax;
	__asm        mov    eax, hd;
	__asm        mov    [eax+0x118], ebx;
// LINE 1307:
	__asm        jmp    _Te52;
_Tb3b:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x154];
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jge    _Td62;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x110], 0;
	__asm        jg     _Td62;
// LINE 1309:
	__asm        cmp    G_CheatCodes[1], 0;
	__asm        jne    _Tbae;
// LINE 1311:
	__asm        xor    eax, eax;
	__asm        sub    eax, S_htwk_collide_damage_val;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0xD0], eax;
// LINE 1313:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x320], 0;
	__asm        jne    _Tbae;
// LINE 1315:
	__asm        xor    eax, eax;
	__asm        mov    ecx, S_htwk_collide_damage_val;
	__asm        shl    ecx, 2;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0xD0], eax;
// LINE 1318:
_Tbae:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x150];
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jge    _Tbde;
// LINE 1320:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x150];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+0x1C], eax;
// LINE 1324:
_Tbde:
	__asm        mov    eax, hd;
	__asm        add    eax, 0x100;
	__asm        push   eax;
	__asm        lea    eax, tmpmatrix[0][0];
	__asm        push   eax;
	__asm        call   MTCreateDOF4x4;
	__asm        add    esp, 8;
// LINE 1325:
	__asm        lea    eax, matrix[0][0];
	__asm        push   eax;
	__asm        lea    eax, tmpmatrix[0][0];
	__asm        push   eax;
	__asm        call   0x004D8C2E;
	__asm        add    esp, 8;
// LINE 1327:
	__asm        lea    eax, matrix[0][0];
	__asm        push   eax;
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        add    eax, 0x158;
	__asm        push   eax;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 1328:
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        call   MTNormalize;
	__asm        add    esp, 4;
// LINE 1329:
	__asm        mov    eax, hd;
	__asm        add    eax, 0x158;
	__asm        push   eax;
	__asm        call   MTNormalize;
	__asm        add    esp, 4;
// LINE 1330:
	__asm        mov    eax, vec.z;
	__asm        push   eax;
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x14];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x11C], eax;
// LINE 1331:
	__asm        mov    eax, vec.x;
	__asm        push   eax;
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x10];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x118], eax;
// LINE 1337:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x110], 0x3333;
// LINE 1339:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x1C];
	__asm        mov    alt, eax;
// LINE 1341:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   1;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 1345:
	__asm        cmp    G_camera_mode, 1;
	__asm        jne    _Td14;
// LINE 1350:
	__asm        push   0xFFFFFFFF;
	__asm        push   2;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x108];
	__asm        shl    eax, 3;
	__asm        add    eax, normz;
	__asm        push   eax;
	__asm        mov    eax, alt;
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+4];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        add    eax, 0x50000;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x100];
	__asm        shl    eax, 3;
	__asm        add    eax, normx;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionStart;
	__asm        add    esp, 0x18;
// LINE 1351:
	__asm        jmp    _Td5d;
// LINE 1356:
_Td14:
	__asm        push   0xFFFFFFFF;
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x160];
	__asm        lea    eax, [eax+eax*4];
	__asm        add    eax, normz;
	__asm        push   eax;
	__asm        mov    eax, alt;
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+4];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x158];
	__asm        lea    eax, [eax+eax*4];
	__asm        add    eax, normx;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionStart;
	__asm        add    esp, 0x18;
// LINE 1359:
_Td5d:
	__asm        jmp    _Te52;
_Td62:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliDyObjCollisionCheck;
	__asm        add    esp, 4;
	__asm        cmp    eax, 1;
	__asm        jne    _Te52;
// LINE 1361:
	__asm        cmp    G_CheatCodes[1], 0;
	__asm        jne    _Tdb6;
// LINE 1362:
	__asm        mov    eax, hd;
	__asm        sub    dword ptr [eax+0xD0], 4;
// LINE 1364:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x320], 0;
	__asm        jne    _Tdb6;
// LINE 1366:
	__asm        xor    eax, eax;
	__asm        mov    ecx, S_htwk_collide_damage_val;
	__asm        shl    ecx, 2;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0xD0], eax;
// LINE 1369:
_Tdb6:
	__asm        push   0xFFFFFFFF;
	__asm        push   1;
	__asm        mov    eax, normz;
	__asm        push   eax;
	__asm        mov    eax, normy;
	__asm        push   eax;
	__asm        mov    eax, normx;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionStart;
	__asm        add    esp, 0x18;
// LINE 1371:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   1;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 1373:
	__asm        mov    ebx, 1;
	__asm        call   rand;
	__asm        mov    ecx, 3;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        sub    ebx, edx;
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x14];
	__asm        sar    eax, 2;
	__asm        imul   ebx, eax;
	__asm        mov    eax, hd;
	__asm        mov    [eax+0x11C], ebx;
// LINE 1374:
	__asm        mov    ebx, 1;
	__asm        call   rand;
	__asm        mov    ecx, 3;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        sub    ebx, edx;
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x10];
	__asm        sar    eax, 2;
	__asm        imul   ebx, eax;
	__asm        mov    eax, hd;
	__asm        mov    [eax+0x118], ebx;
// LINE 1379:
_Te52:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliSmokeTrail;
	__asm        add    esp, 4;
// LINE 1381:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x14C], 0;
	__asm        je     _Tfae;
// LINE 1386:
// Block start:
	struct Point3d loc;
	int32_t speed;
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x14C], 1;
	__asm        jne    _Te8d;
// LINE 1387:
	__asm        mov    speed, 0x1C20000;
// LINE 1388:
	__asm        jmp    _Tf2b;
_Te8d:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x14C], 2;
	__asm        jne    _Teac;
// LINE 1389:
	__asm        mov    speed, 0x2580000;
// LINE 1390:
	__asm        jmp    _Tf2b;
_Teac:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x14C], 3;
	__asm        jne    _Tecb;
// LINE 1391:
	__asm        mov    speed, 0x640000;
// LINE 1392:
	__asm        jmp    _Tf2b;
// LINE 1393:
_Tecb:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x14C], 5;
	__asm        je     _Teeb;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x14C], 6;
	__asm        jne    _Tf2b;
// LINE 1395:
_Teeb:
	__asm        mov    eax, S_htwk_watercannon_speed;
	__asm        mov    speed, eax;
// LINE 1396:
	__asm        xor    eax, eax;
	__asm        mov    ecx, S_htwk_bucket_dumprate;
	__asm        sar    ecx, 1;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0x1C0], eax;
// LINE 1397:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1C0], 0;
	__asm        jge    _Tf2b;
// LINE 1398:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1C0], 0;
// LINE 1402:
_Tf2b:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 1403:
	__asm        add    loc.y, 0x30000;
// LINE 1405:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        push   0x59B518;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 1415:
	__asm        push   0xFFFFFFFF;
	__asm        mov    eax, speed;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        push   eax;
	__asm        push   1;
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        lea    eax, loc.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x14C];
	__asm        push   eax;
	__asm        call   S3MissileStart;
	__asm        add    esp, 0x20;
// LINE 1425:
// Block end:
_Tfae:
}

// FUNCTION: COPTER_D 0x004f176d
int32_t S3HeliCollideTest(struct _HELI_DATA* hd, long no_frames) {
	int32_t alt;
	int32_t fwd_speed;
	struct Point3d loc;
	int32_t movez;
	int32_t movex;
	struct Point3d V;
	struct Point3d saveloc;

// LINE 1446:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x128];
	__asm        mov    fwd_speed, eax;
// LINE 1447:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
	__asm        lea    eax, loc.x;
	__asm        lea    ecx, saveloc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 1448:
	__asm        cmp    fwd_speed, 0;
	__asm        jne    _T5b;
// LINE 1449:
	__asm        xor    eax, eax;
	__asm        jmp    _T2ae;
// LINE 1453:
_T5b:
	__asm        cmp    G_camera_mode, 0;
	__asm        jne    _Tbb;
// LINE 1455:
	__asm        mov    eax, hd;
	__asm        mov    ecx, fwd_speed;
	__asm        cmp    [eax+0x11C], ecx;
	__asm        jle    _T8c;
// LINE 1456:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x11C];
	__asm        sub    eax, fwd_speed;
	__asm        sar    eax, 5;
	__asm        add    fwd_speed, eax;
// LINE 1457:
_T8c:
	__asm        mov    eax, hd;
	__asm        mov    ecx, fwd_speed;
	__asm        cmp    [eax+0x11C], ecx;
	__asm        jge    _Tb6;
// LINE 1458:
	__asm        xor    eax, eax;
	__asm        mov    ecx, fwd_speed;
	__asm        mov    edx, hd;
	__asm        sub    ecx, [edx+0x11C];
	__asm        sar    ecx, 5;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        sub    fwd_speed, eax;
// LINE 1460:
_Tb6:
	__asm        jmp    _T113;
// LINE 1462:
_Tbb:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x11C];
	__asm        add    eax, eax;
	__asm        cmp    eax, fwd_speed;
	__asm        jle    _Te3;
// LINE 1463:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x11C];
	__asm        add    eax, eax;
	__asm        sub    eax, fwd_speed;
	__asm        sar    eax, 5;
	__asm        add    fwd_speed, eax;
// LINE 1464:
_Te3:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x11C];
	__asm        add    eax, eax;
	__asm        cmp    eax, fwd_speed;
	__asm        jge    _T113;
// LINE 1465:
	__asm        xor    eax, eax;
	__asm        mov    ecx, fwd_speed;
	__asm        mov    edx, hd;
	__asm        mov    edx, [edx+0x11C];
	__asm        add    edx, edx;
	__asm        sub    ecx, edx;
	__asm        sar    ecx, 4;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        sub    fwd_speed, eax;
// LINE 1468:
_T113:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jne    _T140;
// LINE 1470:
	__asm        push   0xD6D8;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x128];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x128], eax;
// LINE 1474:
_T140:
	__asm        mov    eax, fwd_speed;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x100];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    V.x, eax;
// LINE 1475:
	__asm        mov    eax, fwd_speed;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x108];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    V.z, eax;
// LINE 1478:
	__asm        xor    ebx, ebx;
	__asm        push   0x7D00;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x118];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x108];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sub    ebx, eax;
	__asm        neg    ebx;
	__asm        sub    V.x, ebx;
// LINE 1479:
	__asm        push   0x7D00;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x118];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x100];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        add    V.z, eax;
// LINE 1481:
	__asm        push   0x9C40;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xE0];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    movex, eax;
// LINE 1482:
	__asm        push   0x9C40;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xE8];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    movez, eax;
// LINE 1483:
	__asm        mov    eax, movex;
	__asm        imul   eax, no_frames;
	__asm        mov    movex, eax;
// LINE 1484:
	__asm        mov    eax, movez;
	__asm        imul   eax, no_frames;
	__asm        mov    movez, eax;
// LINE 1486:
	__asm        mov    eax, movez;
	__asm        add    loc.z, eax;
// LINE 1487:
	__asm        mov    eax, movex;
	__asm        add    loc.x, eax;
// LINE 1490:
	__asm        lea    eax, loc.x;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        add    ecx, 0x18;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 1491:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   GetCopterBldAlt;
	__asm        add    esp, 4;
	__asm        mov    alt, eax;
// LINE 1493:
	__asm        lea    eax, saveloc.x;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        add    ecx, 0x18;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 1495:
	__asm        mov    eax, alt;
	__asm        cmp    loc.y, eax;
	__asm        jge    _T2a7;
// LINE 1496:
	__asm        mov    eax, 1;
	__asm        jmp    _T2ae;
// LINE 1498:
_T2a7:
	__asm        xor    eax, eax;
	__asm        jmp    _T2ae;
// LINE 1499:
_T2ae:
}

// FUNCTION: COPTER_D 0x004f1a20
int32_t S3HeliHeadToLocXZ(struct _HELI_DATA* hd, struct Point3d* loc) {
	struct Point3d newvect;
	int32_t alt;
	int32_t curryaw;
	struct Point3d tmpvect;
	int32_t deltayaw;
	int32_t deflectangle;
	int32_t dist;
	int32_t newyaw;

// LINE 1516:
	__asm        mov    dist, 0;
// LINE 1517:
	__asm        mov    newyaw, 0;
// LINE 1518:
	__asm        mov    curryaw, 0;
// LINE 1519:
	__asm        mov    deltayaw, 0;
// LINE 1520:
	__asm        mov    deflectangle, 0;
// LINE 1521:
	__asm        mov    alt, 0;
// LINE 1524:
	__asm        mov    newvect.y, 0;
// LINE 1525:
	__asm        mov    eax, loc;
	__asm        mov    eax, [eax+8];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        sub    eax, [ecx+0x20];
	__asm        mov    newvect.z, eax;
// LINE 1526:
	__asm        mov    eax, loc;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        sub    eax, [ecx+0x18];
	__asm        mov    newvect.x, eax;
// LINE 1529:
	__asm        lea    eax, newvect.x;
	__asm        push   eax;
	__asm        call   MTNormalize;
	__asm        add    esp, 4;
	__asm        mov    dist, eax;
// LINE 1532:
	__asm        cmp    dist, 0x140000;
	__asm        jg     _T96;
// LINE 1534:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x120], 0;
// LINE 1535:
	__asm        mov    eax, 1;
	__asm        jmp    _T25e;
// LINE 1541:
_T96:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x108];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x100];
	__asm        push   eax;
	__asm        call   0x004D20B1;
	__asm        add    esp, 8;
	__asm        mov    curryaw, eax;
// LINE 1545:
	__asm        mov    eax, newvect.z;
	__asm        push   eax;
	__asm        mov    eax, newvect.x;
	__asm        push   eax;
	__asm        call   0x004D20B1;
	__asm        add    esp, 8;
	__asm        mov    newyaw, eax;
// LINE 1550:
	__asm        mov    eax, newyaw;
	__asm        sub    eax, curryaw;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        mov    deltayaw, eax;
// LINE 1551:
	__asm        cmp    dist, 0x400000;
	__asm        jg     _Tfd;

	__asm        cmp    deltayaw, 0x1E0000;
	__asm        jle    _Tfd;
// LINE 1553:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x11C], 0;
// LINE 1558:
_Tfd:
	__asm        lea    eax, alt;
	__asm        push   eax;
	__asm        lea    eax, dist;
	__asm        push   eax;
	__asm        lea    eax, newvect.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliGetDeflection;
	__asm        add    esp, 0x10;
	__asm        mov    deflectangle, eax;
// LINE 1559:
	__asm        cmp    deflectangle, 0;
	__asm        jle    _T188;
// LINE 1562:
	__asm        xor    eax, eax;
	__asm        mov    ecx, hd;
	__asm        sub    eax, [ecx+0x138];
	__asm        neg    eax;
	__asm        sub    alt, eax;
// LINE 1563:
	__asm        mov    eax, dist;
	__asm        mov    tmpvect.x, eax;
// LINE 1564:
	__asm        mov    eax, alt;
	__asm        mov    tmpvect.y, eax;
// LINE 1565:
	__asm        mov    tmpvect.z, 0;
// LINE 1566:
	__asm        lea    eax, tmpvect.x;
	__asm        push   eax;
	__asm        call   MTNormalize;
	__asm        add    esp, 4;
	__asm        mov    dist, eax;
// LINE 1567:
	__asm        mov    eax, tmpvect.y;
	__asm        push   eax;
	__asm        mov    eax, tmpvect.x;
	__asm        push   eax;
	__asm        call   0x004D20B1;
	__asm        add    esp, 8;
	__asm        mov    dist, eax;
// LINE 1568:
	__asm        mov    eax, deflectangle;
	__asm        cmp    dist, eax;
	__asm        jle    _T17e;
// LINE 1569:
	__asm        mov    eax, deflectangle;
	__asm        add    newyaw, eax;
// LINE 1570:
	__asm        jmp    _T188;
// LINE 1571:
_T17e:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 1;
// LINE 1581:
_T188:
	__asm        mov    eax, curryaw;
	__asm        sub    eax, 0x64;
	__asm        cmp    eax, newyaw;
	__asm        jge    _T1b8;

	__asm        mov    eax, curryaw;
	__asm        add    eax, 0x64;
	__asm        cmp    eax, newyaw;
	__asm        jle    _T1b8;
// LINE 1583:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x120], 0;
// LINE 1585:
	__asm        jmp    _T217;
// LINE 1587:
_T1b8:
	__asm        mov    eax, newyaw;
	__asm        sub    eax, curryaw;
	__asm        push   eax;
	__asm        call   MTAngleBounds;
	__asm        add    esp, 4;
	__asm        mov    deltayaw, eax;
// LINE 1591:
	__asm        cmp    G_AvLoopTime, 0x400;
	__asm        jge    _T1f9;
// LINE 1592:
	__asm        push   0x4000;
	__asm        mov    eax, deltayaw;
	__asm        push   eax;
	__asm        call   0x004D19DF;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x120], eax;
// LINE 1593:
	__asm        jmp    _T217;
// LINE 1594:
_T1f9:
	__asm        mov    eax, G_AvLoopTime;
	__asm        shl    eax, 4;
	__asm        push   eax;
	__asm        mov    eax, deltayaw;
	__asm        push   eax;
	__asm        call   0x004D19DF;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x120], eax;
// LINE 1597:
_T217:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x120], 0x320000;
	__asm        jle    _T237;
// LINE 1598:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x120], 0x320000;
// LINE 1599:
_T237:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x120], 0xFFCE0000;
	__asm        jge    _T257;
// LINE 1600:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x120], 0xFFCE0000;
// LINE 1602:
_T257:
	__asm        xor    eax, eax;
	__asm        jmp    _T25e;
// LINE 1603:
_T25e:
}

// FUNCTION: COPTER_D 0x004f1c83
void S3HeliSetShadow(struct _HELI_DATA* hd, int32_t maxobjy, int32_t alt, int32_t color) {
	struct VRview pos;

// LINE 1621:
	__asm        cmp    G_daynight, 1;
	__asm        je     _T23;

	__asm        cmp    G_camera_mode, 3;
	__asm        jne    _T56;
// LINE 1623:
_T23:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1624:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1625:
	__asm        jmp    _T202;
// LINE 1628:
_T56:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        jne    _T68;
// LINE 1629:
	__asm        jmp    _T202;
// LINE 1631:
_T68:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1632:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 1640:
	__asm        mov    eax, hd;
	__asm        add    eax, 0x100;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA8];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        call   MTCreateDOF4x4;
	__asm        add    esp, 8;
// LINE 1641:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB4];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        add    eax, 0x20;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA8];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        call   0x004D8900;
	__asm        add    esp, 0xC;
// LINE 1658:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, pos.loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
	__asm        lea    eax, pos.loc.x;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB4];
	__asm        add    ecx, 0x18;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB4];
	__asm        add    eax, 0x18;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA8];
	__asm        add    ecx, 0x18;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 1661:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x154];
	__asm        mov    ecx, S_shadalt;
	__asm        sub    eax, ecx;
	__asm        lea    eax, [eax+ecx*8];
	__asm        sar    eax, 3;
	__asm        mov    S_shadalt, eax;
// LINE 1664:
	__asm        mov    eax, S_shadalt;
	__asm        mov    pos.loc.y, eax;
// LINE 1667:
	__asm        mov    eax, pos.loc.y;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB4];
	__asm        mov    [ecx+0x1C], eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB4];
	__asm        mov    eax, [eax+0x1C];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA8];
	__asm        mov    [ecx+0x1C], eax;
// LINE 1670:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x1C];
	__asm        sub    eax, alt;
	__asm        mov    alt, eax;
// LINE 1672:
	__asm        mov    eax, hd;
	__asm        mov    esi, [eax+0xA8];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 1673:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 1675:
	__asm        mov    eax, hd;
	__asm        mov    esi, [eax+0xB4];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 1676:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 1677:
_T202:
}

// FUNCTION: COPTER_D 0x004f1e8a
int32_t S3HeliControlInputs(struct _HELI_DATA* hd) {
	struct _HELI_TYPE_DATA* htd;
	int32_t yawrate;
	int32_t pitchrate;
	long lJoystickLeftRightValue;
	int32_t bSlideEventIsSet;
	long lJoystickUpDownValue;
	long lJoystickMiscValue1;
	int32_t sliderate;
	int32_t tempfix;

// LINE 1689:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 1699:
	__asm        cmp    G_testmode, 1;
	__asm        jne    _T43;
// LINE 1701:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliTestCopter;
	__asm        add    esp, 4;
// LINE 1702:
	__asm        mov    eax, 1;
	__asm        jmp    _Ta87;
// LINE 1706:
_T43:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 5;
	__asm        je     _T5d;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 6;
	__asm        jne    _T8e;
// LINE 1708:
_T5d:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 0;
// LINE 1709:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1BC], 0;
// LINE 1710:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x14C], 0;
// LINE 1711:
	__asm        mov    eax, 1;
	__asm        jmp    _Ta87;
// LINE 1714:
_T8e:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x110], 0;
	__asm        jle    _Ta8;
// LINE 1715:
	__asm        mov    eax, 1;
	__asm        jmp    _Ta87;
// LINE 1718:
_Ta8:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x328];
	__asm        push   eax;
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x1C];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    pitchrate, eax;
// LINE 1720:
	__asm        cmp    G_camera_mode, 0;
	__asm        je     _Td5;
// LINE 1721:
	__asm        sar    pitchrate, 1;
// LINE 1723:
_Td5:
	__asm        push   7;
	__asm        push   6;
	__asm        call   GetJoystickValueEither;
	__asm        add    esp, 8;
	__asm        mov    lJoystickLeftRightValue, eax;
// LINE 1724:
	__asm        push   0x1A;
	__asm        call   GetJoystickValue;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T108;

	__asm        push   0x1A;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T114;
_T108:
	__asm        mov    bSlideEventIsSet, 1;
	__asm        jmp    _T11b;
_T114:
	__asm        mov    bSlideEventIsSet, 0;
// LINE 1727:
_T11b:
	__asm        push   8;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T14d;
// LINE 1728:
	__asm        mov    eax, pitchrate;
	__asm        push   eax;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x11C], eax;
// LINE 1729:
	__asm        jmp    _T266;
_T14d:
	__asm        push   9;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T185;
// LINE 1730:
	__asm        xor    ebx, ebx;
	__asm        mov    eax, pitchrate;
	__asm        push   eax;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sub    ebx, eax;
	__asm        neg    ebx;
	__asm        mov    eax, hd;
	__asm        sub    [eax+0x11C], ebx;
// LINE 1731:
	__asm        jmp    _T266;
_T185:
	__asm        push   8;
	__asm        push   9;
	__asm        call   GetJoystickValueEither;
	__asm        add    esp, 8;
	__asm        mov    lJoystickUpDownValue, eax;
	__asm        cmp    lJoystickUpDownValue, 0;
	__asm        je     _T202;
// LINE 1733:
	__asm        push   0x30000;
	__asm        mov    eax, lJoystickUpDownValue;
	__asm        shl    eax, 0x10;
	__asm        neg    eax;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    tempfix, eax;
// LINE 1734:
	__asm        xor    eax, eax;
	__asm        mov    ecx, hd;
	__asm        sub    eax, [ecx+0x11C];
	__asm        neg    eax;
	__asm        sub    tempfix, eax;
// LINE 1735:
	__asm        mov    eax, G_AvLoopTime;
	__asm        add    eax, eax;
	__asm        push   eax;
	__asm        mov    eax, tempfix;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    tempfix, eax;
// LINE 1736:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x328];
	__asm        push   eax;
	__asm        mov    eax, tempfix;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x11C], eax;
// LINE 1738:
	__asm        jmp    _T266;
// LINE 1740:
_T202:
	__asm        cmp    G_camera_mode, 0;
	__asm        jne    _T23f;
// LINE 1741:
	__asm        mov    eax, 0x10000;
	__asm        mov    ecx, G_AvLoopTime;
	__asm        add    ecx, ecx;
	__asm        sub    eax, ecx;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x11C];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x11C], eax;
// LINE 1742:
	__asm        jmp    _T266;
// LINE 1743:
_T23f:
	__asm        mov    eax, 0x10000;
	__asm        sub    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x11C];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x11C], eax;
// LINE 1747:
_T266:
	__asm        push   7;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T2a1;
// LINE 1748:
	__asm        xor    ebx, ebx;
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x24];
	__asm        push   eax;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sub    ebx, eax;
	__asm        neg    ebx;
	__asm        mov    eax, hd;
	__asm        sub    [eax+0x114], ebx;
// LINE 1749:
	__asm        jmp    _T365;
_T2a1:
	__asm        push   6;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T2d6;
// LINE 1750:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x24];
	__asm        push   eax;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x114], eax;
// LINE 1751:
	__asm        jmp    _T365;
_T2d6:
	__asm        cmp    lJoystickLeftRightValue, 0;
	__asm        je     _T339;

	__asm        cmp    bSlideEventIsSet, 0;
	__asm        jne    _T339;
// LINE 1753:
	__asm        push   0x60000;
	__asm        mov    eax, lJoystickLeftRightValue;
	__asm        shl    eax, 0x10;
	__asm        neg    eax;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    tempfix, eax;
// LINE 1754:
	__asm        xor    eax, eax;
	__asm        mov    ecx, hd;
	__asm        sub    eax, [ecx+0x114];
	__asm        neg    eax;
	__asm        sub    tempfix, eax;
// LINE 1755:
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        mov    eax, tempfix;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    tempfix, eax;
// LINE 1756:
	__asm        mov    eax, tempfix;
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x114], eax;
// LINE 1758:
	__asm        jmp    _T365;
// LINE 1759:
_T339:
	__asm        mov    eax, 0x10000;
	__asm        mov    ecx, G_AvLoopTime;
	__asm        shl    ecx, 2;
	__asm        sub    eax, ecx;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x114];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x114], eax;
// LINE 1764:
_T365:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x328];
	__asm        push   eax;
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x20];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    yawrate, eax;
// LINE 1766:
	__asm        push   7;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T3b3;
// LINE 1767:
	__asm        mov    eax, yawrate;
	__asm        push   eax;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x120], eax;
// LINE 1768:
	__asm        jmp    _T45d;
_T3b3:
	__asm        push   6;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T3eb;
// LINE 1769:
	__asm        xor    ebx, ebx;
	__asm        mov    eax, yawrate;
	__asm        push   eax;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sub    ebx, eax;
	__asm        neg    ebx;
	__asm        mov    eax, hd;
	__asm        sub    [eax+0x120], ebx;
// LINE 1770:
	__asm        jmp    _T45d;
_T3eb:
	__asm        cmp    lJoystickLeftRightValue, 0;
	__asm        je     _T431;

	__asm        cmp    bSlideEventIsSet, 0;
	__asm        jne    _T431;
// LINE 1772:
	__asm        xor    ebx, ebx;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x328];
	__asm        push   eax;
	__asm        mov    eax, lJoystickLeftRightValue;
	__asm        neg    eax;
	__asm        sar    eax, 2;
	__asm        shl    eax, 0x10;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sub    ebx, eax;
	__asm        neg    ebx;
	__asm        mov    eax, hd;
	__asm        sub    [eax+0x120], ebx;
// LINE 1773:
	__asm        jmp    _T45d;
// LINE 1774:
_T431:
	__asm        mov    eax, 0x10000;
	__asm        mov    ecx, G_AvLoopTime;
	__asm        shl    ecx, 2;
	__asm        sub    eax, ecx;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x120];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x120], eax;
// LINE 1777:
_T45d:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x328];
	__asm        push   eax;
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x28];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    sliderate, eax;
// LINE 1780:
	__asm        push   0xB;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T4ab;
// LINE 1781:
	__asm        mov    eax, sliderate;
	__asm        push   eax;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x118], eax;
// LINE 1782:
	__asm        jmp    _T5b2;
_T4ab:
	__asm        push   0xA;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T4e3;
// LINE 1783:
	__asm        xor    ebx, ebx;
	__asm        mov    eax, sliderate;
	__asm        push   eax;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sub    ebx, eax;
	__asm        neg    ebx;
	__asm        mov    eax, hd;
	__asm        sub    [eax+0x118], ebx;
// LINE 1784:
	__asm        jmp    _T5b2;
_T4e3:
	__asm        cmp    lJoystickLeftRightValue, 0;
	__asm        je     _T559;

	__asm        cmp    bSlideEventIsSet, 0;
	__asm        je     _T559;
// LINE 1786:
	__asm        push   0x20000;
	__asm        mov    eax, lJoystickLeftRightValue;
	__asm        shl    eax, 0x10;
	__asm        neg    eax;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    tempfix, eax;
// LINE 1787:
	__asm        xor    eax, eax;
	__asm        mov    ecx, hd;
	__asm        sub    eax, [ecx+0x118];
	__asm        neg    eax;
	__asm        sub    tempfix, eax;
// LINE 1788:
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        mov    eax, tempfix;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    tempfix, eax;
// LINE 1789:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x328];
	__asm        push   eax;
	__asm        mov    eax, tempfix;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x118], eax;
// LINE 1791:
	__asm        jmp    _T5b2;
// LINE 1793:
_T559:
	__asm        movsx  eax, ControlNoise;
	__asm        test   eax, eax;
	__asm        je     _T587;
// LINE 1794:
	__asm        call   rand;
	__asm        mov    ecx, 0xA;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        lea    eax, [edx-5];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x118], eax;
// LINE 1795:
_T587:
	__asm        mov    eax, 0x10000;
	__asm        mov    ecx, G_AvLoopTime;
	__asm        add    ecx, ecx;
	__asm        sub    eax, ecx;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x118];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x118], eax;
// LINE 1799:
_T5b2:
	__asm        push   0xC;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T5d3;
// LINE 1800:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 1;
// LINE 1801:
	__asm        jmp    _T63b;
_T5d3:
	__asm        push   0xD;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T5f4;
// LINE 1802:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 0xFFFFFFFF;
// LINE 1803:
	__asm        jmp    _T63b;
_T5f4:
	__asm        push   0xD;
	__asm        push   0xC;
	__asm        call   GetJoystickValueEither;
	__asm        add    esp, 8;
	__asm        mov    lJoystickMiscValue1, eax;
	__asm        cmp    lJoystickMiscValue1, 0;
	__asm        je     _T631;
// LINE 1804:
	__asm        jle    _T622;
// LINE 1805:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 1;
// LINE 1806:
	__asm        jmp    _T62c;
// LINE 1807:
_T622:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 0xFFFFFFFF;
// LINE 1809:
_T62c:
	__asm        jmp    _T63b;
// LINE 1810:
_T631:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 1813:
_T63b:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x320], 0;
	__asm        jg     _T655;
// LINE 1814:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 0xFFFFFFFF;
// LINE 1820:
_T655:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 0;
// LINE 1821:
	__asm        call   GetCurrentUserPersonalInfo;
	__asm        test   byte ptr [eax+0x48], 1;
	__asm        je     _T79b;
// LINE 1822:
	__asm        push   0xE;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T6c7;
// LINE 1823:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B4], 0;
	__asm        jne    _T6a5;
// LINE 1824:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 2;
// LINE 1825:
	__asm        jmp    _T6c2;
_T6a5:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1AC], 3;
	__asm        jle    _T6c2;
// LINE 1826:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 0xFFFFFFFF;
// LINE 1828:
_T6c2:
	__asm        jmp    _T79b;
_T6c7:
	__asm        push   0xF;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T70b;
// LINE 1829:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B0], 0;
	__asm        jne    _T706;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1AC], 0x11;
	__asm        jge    _T706;
// LINE 1830:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 1;
// LINE 1832:
_T706:
	__asm        jmp    _T79b;
_T70b:
	__asm        push   0xF;
	__asm        push   0xE;
	__asm        call   GetJoystickValueEither;
	__asm        add    esp, 8;
	__asm        mov    lJoystickMiscValue1, eax;
	__asm        cmp    lJoystickMiscValue1, 0;
	__asm        je     _T79b;
// LINE 1833:
	__asm        jge    _T76e;
// LINE 1834:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B4], 0;
	__asm        jne    _T74c;
// LINE 1835:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 2;
// LINE 1836:
	__asm        jmp    _T769;
_T74c:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1AC], 3;
	__asm        jle    _T769;
// LINE 1837:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 0xFFFFFFFF;
// LINE 1839:
_T769:
	__asm        jmp    _T79b;
// LINE 1840:
_T76e:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B0], 0;
	__asm        jne    _T79b;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1AC], 0x11;
	__asm        jge    _T79b;
// LINE 1841:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 1;
// LINE 1846:
_T79b:
	__asm        call   GetCurrentUserPersonalInfo;
	__asm        test   byte ptr [eax+0x48], 4;
	__asm        je     _T8d4;
// LINE 1847:
	__asm        push   0x11;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T800;
// LINE 1848:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B0], 0;
	__asm        jne    _T7de;
// LINE 1849:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 1;
// LINE 1850:
	__asm        jmp    _T7fb;
_T7de:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1AC], 3;
	__asm        jle    _T7fb;
// LINE 1851:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 0xFFFFFFFE;
// LINE 1853:
_T7fb:
	__asm        jmp    _T8d4;
_T800:
	__asm        push   0x12;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T844;
// LINE 1854:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B4], 0;
	__asm        jne    _T83f;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1AC], 0x11;
	__asm        jge    _T83f;
// LINE 1855:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 2;
// LINE 1857:
_T83f:
	__asm        jmp    _T8d4;
_T844:
	__asm        push   0x12;
	__asm        push   0x11;
	__asm        call   GetJoystickValueEither;
	__asm        add    esp, 8;
	__asm        mov    lJoystickMiscValue1, eax;
	__asm        cmp    lJoystickMiscValue1, 0;
	__asm        je     _T8d4;
// LINE 1858:
	__asm        jge    _T8a7;
// LINE 1859:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B0], 0;
	__asm        jne    _T885;
// LINE 1860:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 1;
// LINE 1861:
	__asm        jmp    _T8a2;
_T885:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1AC], 3;
	__asm        jle    _T8a2;
// LINE 1862:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 0xFFFFFFFE;
// LINE 1864:
_T8a2:
	__asm        jmp    _T8d4;
// LINE 1865:
_T8a7:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B4], 0;
	__asm        jne    _T8d4;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1AC], 0x11;
	__asm        jge    _T8d4;
// LINE 1866:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 2;
// LINE 1873:
_T8d4:
	__asm        push   0x10;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T8f8;

	__asm        push   0x10;
	__asm        call   GetJoystickValue;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T939;
_T8f8:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B0], 0;
	__asm        jne    _T939;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1C0], 0;
	__asm        je     _T939;
// LINE 1875:
	__asm        call   GetCurrentUserPersonalInfo;
	__asm        test   byte ptr [eax+0x48], 1;
	__asm        je     _T934;
// LINE 1876:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1BC], 1;
// LINE 1878:
_T934:
	__asm        jmp    _T946;
// LINE 1879:
_T939:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1BC], 0;
// LINE 1882:
_T946:
	__asm        push   2;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T96a;

	__asm        push   2;
	__asm        call   GetJoystickValue;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T9b8;
// LINE 1884:
_T96a:
	__asm        call   GetCurrentUserPersonalInfo;
	__asm        test   byte ptr [eax+0x48], 8;
	__asm        je     _T9b3;
// LINE 1886:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax], 2;
	__asm        jne    _T997;
// LINE 1887:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x14C], 1;
// LINE 1888:
	__asm        jmp    _T9b3;
// LINE 1889:
_T997:
	__asm        call   GetCurrentUserPersonalInfo;
	__asm        cmp    dword ptr [eax+0x54], 0;
	__asm        jle    _T9b3;
// LINE 1890:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x14C], 3;
// LINE 1896:
_T9b3:
	__asm        jmp    _Ta7d;
_T9b8:
	__asm        push   0x13;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T9dc;

	__asm        push   0x13;
	__asm        call   GetJoystickValue;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _Ta70;
// LINE 1898:
_T9dc:
	__asm        call   GetCurrentUserPersonalInfo;
	__asm        test   byte ptr [eax+0x48], 1;
	__asm        je     _Ta5e;
// LINE 1900:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax], 2;
	__asm        jne    _Ta09;
// LINE 1901:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x14C], 2;
// LINE 1902:
	__asm        jmp    _Ta59;
_Ta09:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1C0], 0;
	__asm        je     _Ta4c;
// LINE 1904:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x14C], 5;
// LINE 1906:
	__asm        xor    ebx, ebx;
	__asm        mov    eax, pitchrate;
	__asm        push   eax;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sub    ebx, eax;
	__asm        neg    ebx;
	__asm        mov    eax, hd;
	__asm        sub    [eax+0x11C], ebx;
// LINE 1908:
	__asm        jmp    _Ta59;
// LINE 1909:
_Ta4c:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x14C], 0;
// LINE 1911:
_Ta59:
	__asm        jmp    _Ta6b;
// LINE 1912:
_Ta5e:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x14C], 0;
// LINE 1914:
_Ta6b:
	__asm        jmp    _Ta7d;
// LINE 1915:
_Ta70:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x14C], 0;
// LINE 1917:
_Ta7d:
	__asm        mov    eax, 1;
	__asm        jmp    _Ta87;
// LINE 1918:
_Ta87:
}

// FUNCTION: COPTER_D 0x004f2916
void S3HeliYawPitchRollSlide(struct _HELI_DATA* hd) {
	int32_t max_pitch;
	int32_t tempfix2;
	struct _HELI_TYPE_DATA* htd;
	int32_t matrix[4][4];
	int32_t tempfix;

// LINE 1932:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 1935:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x14];
	__asm        mov    max_pitch, eax;
// LINE 1938:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 5;
	__asm        je     _T43;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 6;
	__asm        jne    _T11e;
// LINE 1941:
_T43:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x168];
	__asm        cmp    dword ptr [eax+0xC], 0x30000;
	__asm        jle    _Td4;
// LINE 1943:
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        call   rand;
	__asm        mov    ecx, 0x384;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    eax, edx;
	__asm        shl    eax, 0x10;
	__asm        add    eax, 0x3840000;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    tempfix, eax;
// LINE 1945:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x168];
	__asm        cmp    dword ptr [eax+0x38], 1;
	__asm        jne    _Tb6;
// LINE 1947:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        mov    eax, tempfix;
	__asm        push   eax;
	__asm        call   0x004D2034;
	__asm        add    esp, 8;
// LINE 1949:
	__asm        jmp    _Tcf;
// LINE 1951:
_Tb6:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        mov    eax, tempfix;
	__asm        push   eax;
	__asm        call   0x004D201C;
	__asm        add    esp, 8;
// LINE 1954:
_Tcf:
	__asm        jmp    _T119;
// LINE 1956:
_Td4:
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        call   rand;
	__asm        mov    ecx, 0x190;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    eax, edx;
	__asm        shl    eax, 0x10;
	__asm        add    eax, 0x640000;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    tempfix, eax;
// LINE 1957:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        mov    eax, tempfix;
	__asm        push   eax;
	__asm        call   0x004D2004;
	__asm        add    esp, 8;
// LINE 1959:
_T119:
	__asm        jmp    _T5ae;
// LINE 1962:
_T11e:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jne    _T1a7;
// LINE 1964:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x11C], 0;
// LINE 1965:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x114], 0;
// LINE 1966:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x120], 0;
// LINE 1967:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x118], 0;
// LINE 1968:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x114];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x11C];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x10C];
	__asm        push   eax;
	__asm        lea    eax, matrix[0][0];
	__asm        push   eax;
	__asm        call   S3AngleRotMat;
	__asm        add    esp, 0x10;
// LINE 1969:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        lea    eax, matrix[0][0];
	__asm        push   eax;
	__asm        call   0x004D8C2E;
	__asm        add    esp, 8;
// LINE 1970:
	__asm        jmp    _T5ae;
// LINE 1974:
_T1a7:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _T1c2;
// LINE 1975:
	__asm        mov    eax, S_turbpitch[0];
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x11C], eax;
// LINE 1978:
_T1c2:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x1C];
	__asm        mov    ecx, hd;
	__asm        sub    eax, [ecx+0x150];
	__asm        mov    tempfix, eax;
// LINE 1979:
	__asm        mov    eax, 0x960000;
	__asm        sub    eax, tempfix;
	__asm        mov    tempfix, eax;
// LINE 1981:
	__asm        mov    tempfix2, 0;
// LINE 1982:
	__asm        cmp    tempfix, 0;
	__asm        jle    _T232;

	__asm        cmp    tempfix, 0x960000;
	__asm        jge    _T232;
// LINE 1984:
	__asm        push   0x960000;
	__asm        mov    eax, 0x960000;
	__asm        sub    eax, tempfix;
	__asm        push   eax;
	__asm        call   0x004D19DF;
	__asm        add    esp, 8;
	__asm        mov    tempfix, eax;
// LINE 1985:
	__asm        mov    eax, tempfix;
	__asm        push   eax;
	__asm        mov    eax, max_pitch;
	__asm        sar    eax, 3;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    tempfix2, eax;
// LINE 1989:
_T232:
	__asm        cmp    G_camera_mode, 0;
	__asm        jne    _T290;
// LINE 1991:
	__asm        mov    eax, max_pitch;
	__asm        add    eax, tempfix2;
	__asm        mov    ecx, hd;
	__asm        cmp    eax, [ecx+0x11C];
	__asm        jge    _T263;
// LINE 1992:
	__asm        mov    eax, max_pitch;
	__asm        add    eax, tempfix2;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x11C], eax;
// LINE 1993:
_T263:
	__asm        mov    eax, max_pitch;
	__asm        neg    eax;
	__asm        sub    eax, tempfix2;
	__asm        mov    ecx, hd;
	__asm        cmp    eax, [ecx+0x11C];
	__asm        jle    _T28b;
// LINE 1994:
	__asm        mov    eax, max_pitch;
	__asm        neg    eax;
	__asm        sub    eax, tempfix2;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x11C], eax;
// LINE 1996:
_T28b:
	__asm        jmp    _T2fc;
// LINE 1998:
_T290:
	__asm        mov    eax, max_pitch;
	__asm        sar    eax, 1;
	__asm        mov    ecx, tempfix2;
	__asm        sar    ecx, 1;
	__asm        add    eax, ecx;
	__asm        mov    ecx, hd;
	__asm        cmp    eax, [ecx+0x11C];
	__asm        jge    _T2c4;
// LINE 1999:
	__asm        mov    eax, max_pitch;
	__asm        sar    eax, 1;
	__asm        mov    ecx, tempfix2;
	__asm        sar    ecx, 1;
	__asm        add    eax, ecx;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x11C], eax;
// LINE 2000:
_T2c4:
	__asm        mov    eax, max_pitch;
	__asm        sar    eax, 1;
	__asm        neg    eax;
	__asm        mov    ecx, tempfix2;
	__asm        sar    ecx, 1;
	__asm        sub    eax, ecx;
	__asm        mov    ecx, hd;
	__asm        cmp    eax, [ecx+0x11C];
	__asm        jle    _T2fc;
// LINE 2001:
	__asm        mov    eax, max_pitch;
	__asm        sar    eax, 1;
	__asm        neg    eax;
	__asm        mov    ecx, tempfix2;
	__asm        sar    ecx, 1;
	__asm        sub    eax, ecx;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x11C], eax;
// LINE 2020:
_T2fc:
	__asm        mov    eax, hd;
	__asm        mov    ecx, htd;
	__asm        mov    ecx, [ecx+0xC];
	__asm        cmp    [eax+0x114], ecx;
	__asm        jle    _T320;
// LINE 2021:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0xC];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x114], eax;
// LINE 2022:
_T320:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0xC];
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        cmp    eax, [ecx+0x114];
	__asm        jle    _T348;
// LINE 2023:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0xC];
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x114], eax;
// LINE 2024:
_T348:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x11C];
	__asm        mov    tempfix, eax;
// LINE 2025:
	__asm        cmp    tempfix, 0;
	__asm        jge    _T366;
// LINE 2026:
	__asm        mov    eax, tempfix;
	__asm        neg    eax;
	__asm        mov    tempfix, eax;
// LINE 2027:
_T366:
	__asm        add    tempfix, 0x12C0000;
// LINE 2028:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x114], 0;
	__asm        jle    _T3a0;
// LINE 2030:
	__asm        mov    eax, hd;
	__asm        mov    ecx, tempfix;
	__asm        cmp    [eax+0x114], ecx;
	__asm        jle    _T39b;
// LINE 2031:
	__asm        mov    eax, tempfix;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x114], eax;
// LINE 2033:
_T39b:
	__asm        jmp    _T3d2;
_T3a0:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x114], 0;
	__asm        jge    _T3d2;
// LINE 2035:
	__asm        mov    eax, hd;
	__asm        mov    ecx, tempfix;
	__asm        neg    ecx;
	__asm        cmp    [eax+0x114], ecx;
	__asm        jge    _T3d2;
// LINE 2036:
	__asm        mov    eax, tempfix;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x114], eax;
// LINE 2040:
_T3d2:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _T3ed;
// LINE 2041:
	__asm        mov    eax, S_turbslide[0];
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x118], eax;
// LINE 2044:
_T3ed:
	__asm        mov    eax, hd;
	__asm        mov    ecx, htd;
	__asm        mov    ecx, [ecx+0x10];
	__asm        cmp    [eax+0x118], ecx;
	__asm        jle    _T411;
// LINE 2045:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x10];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x118], eax;
// LINE 2046:
_T411:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x10];
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        cmp    eax, [ecx+0x118];
	__asm        jle    _T439;
// LINE 2047:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x10];
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x118], eax;
// LINE 2051:
_T439:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _T454;
// LINE 2052:
	__asm        mov    eax, S_turbyaw[0];
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x120], eax;
// LINE 2055:
_T454:
	__asm        mov    eax, htd;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x120];
	__asm        cmp    [eax+0x18], ecx;
	__asm        jge    _T478;
// LINE 2056:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x18];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x120], eax;
// LINE 2057:
_T478:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x18];
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        cmp    eax, [ecx+0x120];
	__asm        jle    _T4a0;
// LINE 2058:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x18];
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x120], eax;
// LINE 2060:
_T4a0:
	__asm        push   0xF0000;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x120];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x10C], eax;
// LINE 2062:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x10C], 0xE100000;
	__asm        jle    _T4f4;
// LINE 2063:
	__asm        mov    eax, hd;
	__asm        sub    dword ptr [eax+0x10C], 0xE100000;
// LINE 2064:
	__asm        jmp    _T511;
_T4f4:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x10C], 0;
	__asm        jge    _T511;
// LINE 2065:
	__asm        mov    eax, hd;
	__asm        add    dword ptr [eax+0x10C], 0xE100000;
// LINE 2068:
_T511:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x114];
	__asm        mov    tempfix, eax;
// LINE 2069:
	__asm        cmp    tempfix, 0;
	__asm        jge    _T52f;
// LINE 2070:
	__asm        mov    eax, tempfix;
	__asm        neg    eax;
	__asm        mov    tempfix, eax;
// LINE 2071:
_T52f:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x118];
	__asm        mov    tempfix2, eax;
// LINE 2072:
	__asm        cmp    tempfix2, 0;
	__asm        jge    _T54d;
// LINE 2073:
	__asm        mov    eax, tempfix2;
	__asm        neg    eax;
	__asm        mov    tempfix2, eax;
// LINE 2074:
_T54d:
	__asm        mov    eax, tempfix;
	__asm        cmp    tempfix2, eax;
	__asm        jle    _T56b;
// LINE 2075:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x118];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x114], eax;
// LINE 2077:
_T56b:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x114];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x11C];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x10C];
	__asm        push   eax;
	__asm        lea    eax, matrix[0][0];
	__asm        push   eax;
	__asm        call   S3AngleRotMat;
	__asm        add    esp, 0x10;
// LINE 2078:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        lea    eax, matrix[0][0];
	__asm        push   eax;
	__asm        call   0x004D8C2E;
	__asm        add    esp, 8;
// LINE 2079:
_T5ae:
}

// FUNCTION: COPTER_D 0x004f2ec9
void S3HeliMoveXZ(struct _HELI_DATA* hd) {
	int32_t velocity;
	int32_t origFwdSpeed;

// LINE 2090:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x128];
	__asm        mov    origFwdSpeed, eax;
// LINE 2093:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 6;
	__asm        jne    _T41;
// LINE 2095:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x130], 0;
// LINE 2096:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x134], 0;
// LINE 2097:
	__asm        jmp    _T430;
// LINE 2101:
_T41:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 5;
	__asm        jne    _Tc6;
// LINE 2103:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x168];
	__asm        mov    eax, [eax+0x28];
	__asm        mov    eax, [eax+0x18];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        sub    eax, [ecx+0x18];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x130], eax;
// LINE 2104:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x168];
	__asm        mov    eax, [eax+0x28];
	__asm        mov    eax, [eax+0x20];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        sub    eax, [ecx+0x20];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x134], eax;
// LINE 2105:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x168];
	__asm        mov    eax, [eax+0x28];
	__asm        add    eax, 0x18;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        add    ecx, 0x18;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 2106:
	__asm        jmp    _T430;
// LINE 2110:
_Tc6:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        add    eax, 0x100;
	__asm        push   eax;
	__asm        push   0x5B4910;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 2111:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x104], 0;
// LINE 2112:
	__asm        mov    eax, hd;
	__asm        add    eax, 0x100;
	__asm        push   eax;
	__asm        call   NormalizeXZVector;
	__asm        add    esp, 4;
// LINE 2116:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x110], 0;
	__asm        jle    _T144;
// LINE 2118:
	__asm        xor    eax, eax;
	__asm        sub    eax, G_AvLoopTime;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0x110], eax;
// LINE 2119:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x11C];
	__asm        sar    eax, 3;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x128], eax;
// LINE 2121:
	__asm        jmp    _T244;
_T144:
	__asm        cmp    G_camera_mode, 0;
	__asm        jne    _T1c8;
// LINE 2123:
	__asm        mov    eax, hd;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x11C];
	__asm        cmp    [eax+0x128], ecx;
	__asm        jge    _T187;
// LINE 2124:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x11C];
	__asm        mov    ecx, hd;
	__asm        sub    eax, [ecx+0x128];
	__asm        sar    eax, 5;
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x128], eax;
// LINE 2125:
_T187:
	__asm        mov    eax, hd;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x11C];
	__asm        cmp    [eax+0x128], ecx;
	__asm        jle    _T1c3;
// LINE 2126:
	__asm        xor    eax, eax;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x128];
	__asm        mov    edx, hd;
	__asm        sub    ecx, [edx+0x11C];
	__asm        sar    ecx, 5;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0x128], eax;
// LINE 2128:
_T1c3:
	__asm        jmp    _T244;
// LINE 2130:
_T1c8:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x11C];
	__asm        add    eax, eax;
	__asm        mov    ecx, hd;
	__asm        cmp    eax, [ecx+0x128];
	__asm        jle    _T202;
// LINE 2131:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x11C];
	__asm        add    eax, eax;
	__asm        mov    ecx, hd;
	__asm        sub    eax, [ecx+0x128];
	__asm        sar    eax, 5;
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x128], eax;
// LINE 2132:
_T202:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x11C];
	__asm        add    eax, eax;
	__asm        mov    ecx, hd;
	__asm        cmp    eax, [ecx+0x128];
	__asm        jge    _T244;
// LINE 2133:
	__asm        xor    eax, eax;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x128];
	__asm        mov    edx, hd;
	__asm        mov    edx, [edx+0x11C];
	__asm        add    edx, edx;
	__asm        sub    ecx, edx;
	__asm        sar    ecx, 4;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0x128], eax;
// LINE 2136:
_T244:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jne    _T25e;
// LINE 2138:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x128], 0;
// LINE 2142:
_T25e:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x128];
	__asm        sub    eax, origFwdSpeed;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x12C], eax;
// LINE 2144:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x128];
	__asm        mov    velocity, eax;
// LINE 2147:
	__asm        cmp    G_CheatCodes[0], 0;
	__asm        je     _T2d8;

	__asm        push   1;
	__asm        call   IsModifierSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T2d8;

	__asm        push   8;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T2c4;

	__asm        push   8;
	__asm        push   9;
	__asm        call   GetJoystickValueEither;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     _T2d8;
// LINE 2149:
_T2c4:
	__asm        push   0xA0000;
	__asm        mov    eax, velocity;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    velocity, eax;
// LINE 2152:
_T2d8:
	__asm        mov    eax, velocity;
	__asm        push   eax;
	__asm        call   AdjustPersonBeamingSlices;
	__asm        add    esp, 4;
// LINE 2154:
	__asm        mov    eax, velocity;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x100];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xE0], eax;
// LINE 2155:
	__asm        mov    eax, velocity;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x108];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xE8], eax;
// LINE 2158:
	__asm        xor    ebx, ebx;
	__asm        push   0x7D00;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x118];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x108];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sub    ebx, eax;
	__asm        neg    ebx;
	__asm        mov    eax, hd;
	__asm        sub    [eax+0xE0], ebx;
// LINE 2159:
	__asm        push   0x7D00;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x118];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x100];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0xE8], eax;
// LINE 2161:
	__asm        mov    eax, hd;
	__asm        add    eax, 0xE0;
	__asm        push   eax;
	__asm        call   MTMagnitude;
	__asm        add    esp, 4;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xDC], eax;
// LINE 2163:
	__asm        push   0x9C40;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xE0];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x130], eax;
// LINE 2165:
	__asm        push   0x9C40;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xE8];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x134], eax;
// LINE 2167:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x134];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        add    [ecx+0x20], eax;
// LINE 2168:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x130];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        add    [ecx+0x18], eax;
// LINE 2169:
_T430:
}

// FUNCTION: COPTER_D 0x004f32fe
void S3HeliMoveY(struct _HELI_DATA* hd) {
	struct _HELI_TYPE_DATA* htd;
	long texid;
	int32_t yrate;

// LINE 2182:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 2187:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   GetCopterTerAlt;
	__asm        add    esp, 4;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x150], eax;
// LINE 2189:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   GetCopterBldAlt;
	__asm        add    esp, 4;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x154], eax;
// LINE 2193:
	__asm        xor    eax, eax;
	__asm        mov    ecx, S_turbpitch[0];
	__asm        sar    ecx, 2;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0x124], eax;
// LINE 2196:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x18];
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 8;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x1C];
	__asm        and    ecx, 0xFF;
	__asm        xor    edx, edx;
	__asm        mov    dl, G_texmap[0][eax+ecx];
	__asm        mov    texid, edx;
// LINE 2197:
	__asm        cmp    texid, 0;
	__asm        jl     _T9c;

	__asm        cmp    texid, 5;
	__asm        jl     _Tb0;
_T9c:
	__asm        cmp    texid, 5;
	__asm        jl     _Te7;

	__asm        cmp    texid, 0xA;
	__asm        jge    _Te7;
_Tb0:
	__asm        mov    eax, hd;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x154];
	__asm        cmp    [eax+0x150], ecx;
	__asm        jl     _Te7;
// LINE 2199:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x13C], 0;
// LINE 2200:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x174], 1;
// LINE 2202:
	__asm        jmp    _Tf4;
// LINE 2204:
_Te7:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x174], 0;
// LINE 2208:
_Tf4:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 5;
	__asm        je     _T10e;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 6;
	__asm        jne    _T113;
// LINE 2209:
_T10e:
	__asm        jmp    _T87f;
// LINE 2213:
_T113:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0xC], 0;
	__asm        jle    _T28c;
// LINE 2216:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x328];
	__asm        push   eax;
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x2C];
	__asm        shl    eax, 2;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    yrate, eax;
// LINE 2218:
	__asm        mov    eax, hd;
	__asm        mov    ecx, yrate;
	__asm        cmp    [eax+0x124], ecx;
	__asm        jle    _T15d;
// LINE 2220:
	__asm        mov    eax, yrate;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x124], eax;
// LINE 2225:
_T15d:
	__asm        cmp    G_CheatCodes[0], 0;
	__asm        je     _T1c0;

	__asm        push   1;
	__asm        call   IsModifierSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T1c0;

	__asm        push   0xC;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T1a0;

	__asm        push   0xD;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T1c0;
// LINE 2227:
_T1a0:
	__asm        push   0xA0000;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x124];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x124], eax;
// LINE 2231:
_T1c0:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x148], 0x12C;
	__asm        jge    _T206;
// LINE 2233:
	__asm        mov    eax, hd;
	__asm        add    dword ptr [eax+0x148], 4;
// LINE 2235:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _T1f4;
// LINE 2237:
	__asm        mov    eax, hd;
	__asm        add    dword ptr [eax+0x148], 0x14;
// LINE 2240:
_T1f4:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x124], 0;
// LINE 2242:
	__asm        jmp    _T259;
// LINE 2245:
_T206:
	__asm        mov    eax, G_AvLoopTime;
	__asm        add    eax, eax;
	__asm        push   eax;
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x2C];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    yrate, eax;
// LINE 2246:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x328];
	__asm        push   eax;
	__asm        mov    eax, yrate;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    yrate, eax;
// LINE 2247:
	__asm        mov    eax, G_AvLoopTime;
	__asm        add    eax, eax;
	__asm        push   eax;
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x2C];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x124], eax;
// LINE 2251:
_T259:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x1C];
	__asm        mov    ecx, hd;
	__asm        sub    eax, [ecx+0x150];
	__asm        cmp    eax, S_htwk_max_helialt;
	__asm        jle    _T287;
// LINE 2252:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x124], 0;
// LINE 2254:
_T287:
	__asm        jmp    _T506;
_T28c:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0xC], 0;
	__asm        jge    _T40b;
// LINE 2261:
	__asm        xor    ebx, ebx;
	__asm        mov    eax, G_AvLoopTime;
	__asm        add    eax, eax;
	__asm        push   eax;
	__asm        mov    eax, S_htwk_max_descent_rate;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sub    ebx, eax;
	__asm        neg    ebx;
	__asm        mov    eax, hd;
	__asm        sub    [eax+0x124], ebx;
// LINE 2263:
	__asm        mov    eax, S_htwk_max_descent_rate;
	__asm        shl    eax, 2;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        cmp    eax, [ecx+0x124];
	__asm        jle    _T2ea;
// LINE 2265:
	__asm        mov    eax, S_htwk_max_descent_rate;
	__asm        shl    eax, 2;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x124], eax;
// LINE 2272:
_T2ea:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x320], 0;
	__asm        jne    _T351;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x128], 0;
	__asm        jle    _T351;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x12C], 0;
	__asm        jge    _T351;
// LINE 2274:
	__asm        xor    eax, eax;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x12C];
	__asm        add    ecx, ecx;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0x124], eax;
// LINE 2275:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x124], 0;
	__asm        jle    _T351;

	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x124], 0;
// LINE 2280:
_T351:
	__asm        cmp    G_CheatCodes[0], 0;
	__asm        je     _T3b6;

	__asm        push   1;
	__asm        call   IsModifierSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T3b6;

	__asm        push   0xC;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T394;

	__asm        push   0xD;
	__asm        call   IsEventSet;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        je     _T3b6;
// LINE 2282:
_T394:
	__asm        push   0xA0000;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x124];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x124], eax;
// LINE 2287:
_T3b6:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x154];
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jle    _T3f9;

	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x150];
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jle    _T3f9;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jne    _T406;
// LINE 2289:
_T3f9:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x124], 0;
// LINE 2292:
_T406:
	__asm        jmp    _T506;
// LINE 2295:
_T40b:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x124], 0;
	__asm        jle    _T463;
// LINE 2297:
	__asm        xor    ebx, ebx;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x124];
	__asm        push   eax;
	__asm        push   0xCCC;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sub    ebx, eax;
	__asm        neg    ebx;
	__asm        mov    eax, hd;
	__asm        sub    [eax+0x124], ebx;
// LINE 2298:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x124], 0;
	__asm        jge    _T45e;

	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x124], 0;
// LINE 2300:
_T45e:
	__asm        jmp    _T4b6;
_T463:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x124], 0;
	__asm        jge    _T4b6;
// LINE 2302:
	__asm        xor    ebx, ebx;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x124];
	__asm        push   eax;
	__asm        push   0x1999;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sub    ebx, eax;
	__asm        neg    ebx;
	__asm        mov    eax, hd;
	__asm        sub    [eax+0x124], ebx;
// LINE 2303:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x124], 0;
	__asm        jle    _T4b6;

	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x124], 0;
// LINE 2308:
_T4b6:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x154];
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jle    _T4f9;

	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x150];
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jle    _T4f9;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jne    _T506;
// LINE 2309:
_T4f9:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x124], 0;
// LINE 2313:
_T506:
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x124];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        add    [ecx+0x1C], eax;
// LINE 2314:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x1C];
	__asm        mov    ecx, hd;
	__asm        sub    eax, [ecx+0x150];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x138], eax;
// LINE 2316:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jne    _T5cb;
// LINE 2318:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0xC], 0;
	__asm        jle    _T5c6;
// LINE 2321:
	__asm        push   3;
	__asm        call   S3SoundIsPlaying;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T58d;
// LINE 2322:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   3;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 2324:
_T58d:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _T5bc;
// LINE 2326:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x148], 0x12C;
	__asm        jl     _T5b7;
// LINE 2327:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+4], 1;
// LINE 2329:
_T5b7:
	__asm        jmp    _T5c6;
// LINE 2330:
_T5bc:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+4], 4;
// LINE 2335:
_T5c6:
	__asm        jmp    _T87f;
// LINE 2340:
_T5cb:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x13C], 1;
	__asm        jne    _T70f;

	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x150];
	__asm        add    ecx, 0x10000;
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jge    _T70f;

	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x11C];
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, S_htwk_landing_pitch;
	__asm        jg     _T70f;

	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x124];
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, S_htwk_landing_yspeed;
	__asm        jg     _T70f;

	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x118];
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, S_htwk_landing_slide;
	__asm        jg     _T70f;

	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x128];
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, S_htwk_landing_speed;
	__asm        jg     _T70f;
// LINE 2342:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 4;
	__asm        je     _T70a;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        je     _T70a;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0xC], 1;
	__asm        je     _T70a;
// LINE 2345:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x320], 0;
	__asm        jle    _T6b9;
// LINE 2346:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   2;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 2347:
	__asm        jmp    _T6d2;
// LINE 2348:
_T6b9:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   0x16;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 2350:
_T6d2:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x150];
	__asm        add    eax, 0x13333;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+0x1C], eax;
// LINE 2351:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+4], 0;
// LINE 2352:
	__asm        call   PersonHeliHasLanded;
// LINE 2355:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x4C];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xD0], eax;
// LINE 2359:
_T70a:
	__asm        jmp    _T87f;
// LINE 2366:
_T70f:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x13C], 1;
	__asm        jne    _T87f;

	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x154];
	__asm        add    ecx, 0x10000;
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jge    _T87f;

	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x154];
	__asm        sub    ecx, 0x10000;
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jle    _T87f;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x110], 0;
	__asm        jg     _T87f;

	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x11C];
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, S_htwk_landing_pitch;
	__asm        jg     _T87f;

	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x124];
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, S_htwk_landing_yspeed;
	__asm        jg     _T87f;

	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x118];
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, S_htwk_landing_slide;
	__asm        jg     _T87f;

	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x128];
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    eax, S_htwk_landing_speed;
	__asm        jg     _T87f;
// LINE 2368:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 4;
	__asm        je     _T87f;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        je     _T87f;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0xC], 1;
	__asm        je     _T87f;
// LINE 2371:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x320], 0;
	__asm        jle    _T82e;
// LINE 2372:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   2;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 2373:
	__asm        jmp    _T847;
// LINE 2374:
_T82e:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   0x16;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 2376:
_T847:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+4], 0;
// LINE 2377:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x154];
	__asm        add    eax, 0x13333;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+0x1C], eax;
// LINE 2378:
	__asm        call   PersonHeliHasLanded;
// LINE 2381:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x4C];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xD0], eax;
// LINE 2385:
_T87f:
}

// FUNCTION: COPTER_D 0x004f3b82
void S3HeliMainRotor(struct _HELI_DATA* hd) {
	struct VRview pos;
	int32_t tempfix2;
	int32_t tmpmat[4][4];
	struct _HELI_TYPE_DATA* htd;
	struct VRFaceInfo finfo;
	int32_t count;
	int32_t face;
	struct VRObjInfo oinfo;
	int32_t tempfix;

// LINE 2406:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jne    _T37;
// LINE 2409:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x148], 0;
	__asm        jle    _T32;

	__asm        mov    eax, hd;
	__asm        dec    dword ptr [eax+0x148];
// LINE 2411:
_T32:
	__asm        jmp    _T80;
_T37:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 5;
	__asm        jne    _T63;
// LINE 2414:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x148], 0xA;
	__asm        jle    _T5e;

	__asm        mov    eax, hd;
	__asm        sub    dword ptr [eax+0x148], 0xA;
// LINE 2416:
_T5e:
	__asm        jmp    _T80;
// LINE 2419:
_T63:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x148], 0x168;
	__asm        jge    _T80;
// LINE 2420:
	__asm        mov    eax, hd;
	__asm        add    dword ptr [eax+0x148], 3;
// LINE 2423:
_T80:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x148], 0xFA;
	__asm        jle    _T9f;
// LINE 2425:
	__asm        mov    tempfix, 0x1870000;
// LINE 2427:
	__asm        jmp    _Td1;
// LINE 2429:
_T9f:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x148];
	__asm        shl    eax, 0x10;
	__asm        mov    tempfix, eax;
// LINE 2430:
	__asm        mov    eax, G_AvLoopTime;
	__asm        shl    eax, 5;
	__asm        push   eax;
	__asm        mov    eax, tempfix;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    tempfix, eax;
// LINE 2431:
	__asm        mov    eax, tempfix;
	__asm        add    eax, eax;
	__asm        mov    tempfix2, eax;
// LINE 2434:
_Td1:
	__asm        mov    eax, hd;
	__asm        add    eax, 0x20;
	__asm        push   eax;
	__asm        mov    eax, tempfix;
	__asm        push   eax;
	__asm        call   0x004D201C;
	__asm        add    esp, 8;
// LINE 2435:
	__asm        mov    eax, hd;
	__asm        add    eax, 0x60;
	__asm        push   eax;
	__asm        mov    eax, tempfix;
	__asm        push   eax;
	__asm        call   0x004D2004;
	__asm        add    esp, 8;
// LINE 2439:
	__asm        mov    esi, hd;
	__asm        lea    edi, tmpmat[0][0];
	__asm        add    esi, 0x60;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 2440:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 2441:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x30];
	__asm        mov    tmpmat[0][3], eax;
// LINE 2442:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x34];
	__asm        mov    tmpmat[1][3], eax;
// LINE 2443:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x38];
	__asm        mov    tmpmat[2][3], eax;
// LINE 2447:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xAC];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        add    eax, 0x20;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        call   0x004D8900;
	__asm        add    esp, 0xC;
// LINE 2448:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB0];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        lea    eax, tmpmat[0][0];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        call   0x004D8900;
	__asm        add    esp, 0xC;
// LINE 2451:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, pos.loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
	__asm        lea    eax, pos.loc.x;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB0];
	__asm        add    ecx, 0x18;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB0];
	__asm        add    eax, 0x18;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xAC];
	__asm        add    ecx, 0x18;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 2452:
	__asm        mov    eax, hd;
	__asm        mov    esi, [eax+0xAC];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 2453:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xAC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 2455:
	__asm        mov    eax, htd;
	__asm        test   byte ptr [eax+0x3C], 1;
	__asm        je     _T25d;
// LINE 2457:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 2459:
	__asm        jmp    _T294;
// LINE 2461:
_T25d:
	__asm        mov    eax, hd;
	__asm        mov    esi, [eax+0xB0];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 2462:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 2466:
_T294:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x148], 0x12C;
	__asm        jge    _T3ee;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x144], 1;
	__asm        jne    _T3ee;
// LINE 2468:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xAC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 2469:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xAC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D85CD;
	__asm        add    esp, 4;
	__asm        mov    face, eax;
// LINE 2470:
	__asm        mov    count, 0;
	__asm        jmp    _T2f7;
_T2f4:
	__asm        inc    count;
_T2f7:
	__asm        mov    eax, count;
	__asm        cmp    oinfo.Faces, eax;
	__asm        jle    _T34c;
// LINE 2472:
	__asm        lea    eax, finfo.Face;
	__asm        push   eax;
	__asm        mov    eax, face;
	__asm        push   eax;
	__asm        call   0x004D6905;
	__asm        add    esp, 8;
// LINE 2473:
	__asm        cmp    finfo.Plotter, 0xB;
	__asm        jne    _T338;
// LINE 2475:
	__asm        mov    eax, finfo.Attribute;
	__asm        or     eax, 0x80000000;
	__asm        mov    finfo.Attribute, eax;
// LINE 2476:
	__asm        lea    eax, finfo.Face;
	__asm        push   eax;
	__asm        mov    eax, face;
	__asm        push   eax;
	__asm        call   0x004D6941;
	__asm        add    esp, 8;
// LINE 2478:
_T338:
	__asm        mov    eax, face;
	__asm        push   eax;
	__asm        call   0x004D85F8;
	__asm        add    esp, 4;
	__asm        mov    face, eax;
// LINE 2479:
	__asm        jmp    _T2f4;
// LINE 2481:
_T34c:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 2482:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D85CD;
	__asm        add    esp, 4;
	__asm        mov    face, eax;
// LINE 2483:
	__asm        mov    count, 0;
	__asm        jmp    _T38c;
_T389:
	__asm        inc    count;
_T38c:
	__asm        mov    eax, count;
	__asm        cmp    oinfo.Faces, eax;
	__asm        jle    _T3e1;
// LINE 2485:
	__asm        lea    eax, finfo.Face;
	__asm        push   eax;
	__asm        mov    eax, face;
	__asm        push   eax;
	__asm        call   0x004D6905;
	__asm        add    esp, 8;
// LINE 2486:
	__asm        cmp    finfo.Plotter, 0xB;
	__asm        jne    _T3cd;
// LINE 2488:
	__asm        mov    eax, finfo.Attribute;
	__asm        or     eax, 0x80000000;
	__asm        mov    finfo.Attribute, eax;
// LINE 2489:
	__asm        lea    eax, finfo.Face;
	__asm        push   eax;
	__asm        mov    eax, face;
	__asm        push   eax;
	__asm        call   0x004D6941;
	__asm        add    esp, 8;
// LINE 2491:
_T3cd:
	__asm        mov    eax, face;
	__asm        push   eax;
	__asm        call   0x004D85F8;
	__asm        add    esp, 4;
	__asm        mov    face, eax;
// LINE 2492:
	__asm        jmp    _T389;
// LINE 2493:
_T3e1:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x144], 0;
// LINE 2496:
_T3ee:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x148], 0x12C;
	__asm        jl     _T540;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x144], 0;
	__asm        jne    _T540;
// LINE 2498:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xAC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 2499:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xAC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D85CD;
	__asm        add    esp, 4;
	__asm        mov    face, eax;
// LINE 2500:
	__asm        mov    count, 0;
	__asm        jmp    _T451;
_T44e:
	__asm        inc    count;
_T451:
	__asm        mov    eax, count;
	__asm        cmp    oinfo.Faces, eax;
	__asm        jle    _T4a2;
// LINE 2502:
	__asm        lea    eax, finfo.Face;
	__asm        push   eax;
	__asm        mov    eax, face;
	__asm        push   eax;
	__asm        call   0x004D6905;
	__asm        add    esp, 8;
// LINE 2503:
	__asm        cmp    finfo.Plotter, 0xB;
	__asm        jne    _T48e;
// LINE 2505:
	__asm        and    finfo.Attribute, 0x7FFFFFFF;
// LINE 2506:
	__asm        lea    eax, finfo.Face;
	__asm        push   eax;
	__asm        mov    eax, face;
	__asm        push   eax;
	__asm        call   0x004D6941;
	__asm        add    esp, 8;
// LINE 2509:
_T48e:
	__asm        mov    eax, face;
	__asm        push   eax;
	__asm        call   0x004D85F8;
	__asm        add    esp, 4;
	__asm        mov    face, eax;
// LINE 2510:
	__asm        jmp    _T44e;
// LINE 2512:
_T4a2:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 2513:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D85CD;
	__asm        add    esp, 4;
	__asm        mov    face, eax;
// LINE 2514:
	__asm        mov    count, 0;
	__asm        jmp    _T4e2;
_T4df:
	__asm        inc    count;
_T4e2:
	__asm        mov    eax, count;
	__asm        cmp    oinfo.Faces, eax;
	__asm        jle    _T533;
// LINE 2516:
	__asm        lea    eax, finfo.Face;
	__asm        push   eax;
	__asm        mov    eax, face;
	__asm        push   eax;
	__asm        call   0x004D6905;
	__asm        add    esp, 8;
// LINE 2517:
	__asm        cmp    finfo.Plotter, 0xB;
	__asm        jne    _T51f;
// LINE 2519:
	__asm        and    finfo.Attribute, 0x7FFFFFFF;
// LINE 2520:
	__asm        lea    eax, finfo.Face;
	__asm        push   eax;
	__asm        mov    eax, face;
	__asm        push   eax;
	__asm        call   0x004D6941;
	__asm        add    esp, 8;
// LINE 2522:
_T51f:
	__asm        mov    eax, face;
	__asm        push   eax;
	__asm        call   0x004D85F8;
	__asm        add    esp, 4;
	__asm        mov    face, eax;
// LINE 2523:
	__asm        jmp    _T4df;
// LINE 2524:
_T533:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x144], 1;
// LINE 2526:
_T540:
}

// FUNCTION: COPTER_D 0x004f40c7
void S3HeliRopeAndBucket(struct _HELI_DATA* hd, struct _CELL_INFO* cptr) {
	struct VRview pos;
	int32_t galt;
	struct _HELI_TYPE_DATA* htd;
	char texid;
	struct Point3d loc;
	int32_t y;
	int32_t x;

// LINE 2542:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 2545:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B8], 0;
	__asm        jge    _T124;
// LINE 2548:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _T68;

	__asm        push   0x15;
	__asm        call   S3SoundIsPlaying;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T68;
// LINE 2550:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   0x15;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 2553:
_T68:
	__asm        mov    eax, hd;
	__asm        dec    dword ptr [eax+0x1AC];
// LINE 2555:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1AC], 0x10;
	__asm        jne    _T11f;
// LINE 2557:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 2558:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B8], 0xFFFFFFFF;
	__asm        jne    _Te6;
// LINE 2560:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B0], 0;
// LINE 2561:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC8];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        mov    [ecx+8], eax;
// LINE 2562:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 2564:
	__asm        jmp    _T11f;
// LINE 2566:
_Te6:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B4], 0;
// LINE 2567:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xCC];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        mov    [ecx+8], eax;
// LINE 2568:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 2572:
_T11f:
	__asm        jmp    _T220;
_T124:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B8], 0;
	__asm        jle    _T1f6;
// LINE 2575:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _T17b;
// LINE 2577:
	__asm        push   0x15;
	__asm        call   S3SoundIsPlaying;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T16c;
// LINE 2579:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   0x15;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 2581:
_T16c:
	__asm        push   0xA0;
	__asm        push   0x15;
	__asm        call   S3SoundAdjFreq;
	__asm        add    esp, 8;
// LINE 2584:
_T17b:
	__asm        mov    eax, hd;
	__asm        inc    dword ptr [eax+0x1AC];
// LINE 2588:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1AC], 0x11;
	__asm        jne    _T1f1;
// LINE 2590:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 2591:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 2592:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B8], 1;
	__asm        jne    _T1e4;
// LINE 2594:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B0], 1;
// LINE 2596:
	__asm        jmp    _T1f1;
// LINE 2598:
_T1e4:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B4], 1;
// LINE 2603:
_T1f1:
	__asm        jmp    _T220;
_T1f6:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _T220;
// LINE 2606:
	__asm        push   0x15;
	__asm        call   S3SoundIsPlaying;
	__asm        add    esp, 4;
	__asm        cmp    eax, 1;
	__asm        jne    _T220;
// LINE 2607:
	__asm        push   0x15;
	__asm        call   S3DSStopPlay;
	__asm        add    esp, 4;
// LINE 2612:
_T220:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB8];
	__asm        add    ecx, 0x18;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 2615:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B4], 0;
	__asm        jne    _T2a3;
// LINE 2617:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        lea    eax, loc.x;
	__asm        push   eax;
	__asm        push   0x5B4C90;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 2618:
	__asm        mov    eax, loc.x;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB8];
	__asm        add    [ecx+0x18], eax;
// LINE 2619:
	__asm        mov    eax, loc.y;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB8];
	__asm        add    [ecx+0x1C], eax;
// LINE 2620:
	__asm        mov    eax, loc.z;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB8];
	__asm        add    [ecx+0x20], eax;
// LINE 2625:
_T2a3:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B0], 1;
	__asm        jne    _T2c8;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B4], 1;
	__asm        jne    _T2c8;
// LINE 2626:
	__asm        jmp    _T69a;
// LINE 2628:
_T2c8:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, pos.loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 2630:
	__asm        mov    eax, hd;
	__asm        mov    esi, [eax+0xB8];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 2631:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 2633:
	__asm        push   0;
	__asm        mov    eax, pos.loc.z;
	__asm        push   eax;
	__asm        mov    eax, pos.loc.x;
	__asm        push   eax;
	__asm        call   S3TerrPrecisionAlt;
	__asm        add    esp, 0xC;
	__asm        mov    galt, eax;
// LINE 2634:
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        mov    eax, galt;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliRopeNextFrame;
	__asm        add    esp, 0xC;
// LINE 2636:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    eax, [eax+0x18];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x190], eax;
// LINE 2637:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    eax, [eax+0x1C];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x194], eax;
// LINE 2638:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    eax, [eax+0x20];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x198], eax;
// LINE 2643:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        mov    eax, [eax+0x18];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x180];
	__asm        add    eax, [ecx];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        mov    [ecx+0x18], eax;
// LINE 2644:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x180];
	__asm        mov    eax, [eax+4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB8];
	__asm        add    eax, [ecx+0x1C];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        mov    [ecx+0x1C], eax;
// LINE 2645:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x180];
	__asm        mov    eax, [eax+8];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB8];
	__asm        add    eax, [ecx+0x20];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        mov    [ecx+0x20], eax;
// LINE 2649:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    ecx, galt;
	__asm        add    ecx, 0x20000;
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jg     _T548;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B0], 0;
	__asm        jne    _T548;
// LINE 2651:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    eax, [eax+0x18];
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    x, eax;
// LINE 2652:
	__asm        mov    eax, 0x20000000;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        sub    eax, [ecx+0x20];
	__asm        sar    eax, 0x16;
	__asm        mov    y, eax;
// LINE 2654:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        mov    al, G_texmap[0][eax+ecx];
	__asm        mov    texid, al;
// LINE 2655:
	__asm        movsx  eax, texid;
	__asm        test   eax, eax;
	__asm        jl     _T47b;

	__asm        movsx  eax, texid;
	__asm        cmp    eax, 5;
	__asm        jl     _T495;
_T47b:
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 5;
	__asm        jl     _T548;

	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0xA;
	__asm        jge    _T548;
// LINE 2657:
_T495:
	__asm        mov    eax, S_htwk_bucket_fillrate;
	__asm        mov    ecx, hd;
	__asm        add    [ecx+0x1C0], eax;
// LINE 2658:
	__asm        mov    eax, htd;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x1C0];
	__asm        cmp    [eax+8], ecx;
	__asm        jge    _T4e7;
// LINE 2660:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+8];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x1C0], eax;
// LINE 2661:
	__asm        push   3;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionSmokeStart;
	__asm        add    esp, 0xC;
// LINE 2663:
	__asm        jmp    _T548;
// LINE 2666:
_T4e7:
	__asm        push   0xA;
	__asm        call   S3SoundIsPlaying;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T512;
// LINE 2667:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   0xA;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 2669:
_T512:
	__asm        push   8;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionSmokeStart;
	__asm        add    esp, 0xC;
// LINE 2670:
	__asm        push   3;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionSmokeStart;
	__asm        add    esp, 0xC;
// LINE 2675:
_T548:
	__asm        mov    eax, hd;
	__asm        add    eax, 0x184;
	__asm        mov    ecx, hd;
	__asm        add    ecx, 0x19C;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 2676:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x180];
	__asm        mov    eax, [eax];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x17C];
	__asm        sub    eax, [ecx];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x184], eax;
// LINE 2677:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x180];
	__asm        mov    eax, [eax+4];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x17C];
	__asm        sub    eax, [ecx+4];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x188], eax;
// LINE 2678:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x180];
	__asm        mov    eax, [eax+8];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x17C];
	__asm        sub    eax, [ecx+8];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x18C], eax;
// LINE 2679:
	__asm        mov    eax, hd;
	__asm        add    eax, 0x184;
	__asm        push   eax;
	__asm        call   MTNormalize;
	__asm        add    esp, 4;
// LINE 2681:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1A0];
	__asm        mov    ecx, hd;
	__asm        sub    eax, [ecx+0x188];
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x1A8], eax;
// LINE 2682:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1A8], 0;
	__asm        jge    _T613;
// LINE 2683:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1A8], 0;
// LINE 2684:
_T613:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1A8];
	__asm        imul   eax, S_htwk_water_throwfact;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x1A8], eax;
// LINE 2687:
	__asm        mov    eax, hd;
	__asm        add    eax, 0x184;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        call   MTCreateDOF4x4Y;
	__asm        add    esp, 8;
// LINE 2688:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, pos.loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 2689:
	__asm        mov    eax, hd;
	__asm        mov    esi, [eax+0xBC];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 2690:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 2692:
_T69a:
}

// FUNCTION: COPTER_D 0x004f4766
void S3HeliDropWater(struct _HELI_DATA* hd, int32_t alt, struct _CELL_INFO* cptr) {
	int32_t dx;
	struct Point3d loc;
	struct Point3d vec;
	int32_t dz;

// LINE 2706:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1C0], 0;
	__asm        jne    _T1e;
// LINE 2707:
	__asm        jmp    _T181;
// LINE 2710:
_T1e:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1BC], 1;
	__asm        jne    _T17c;
// LINE 2712:
	__asm        xor    eax, eax;
	__asm        sub    eax, S_htwk_bucket_dumprate;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0x1C0], eax;
// LINE 2713:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1C0], 0;
	__asm        jge    _T5e;
// LINE 2714:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1C0], 0;
// LINE 2716:
_T5e:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x190];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        sub    eax, [ecx+0x18];
	__asm        mov    dx, eax;
// LINE 2717:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x198];
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xBC];
	__asm        sub    eax, [ecx+0x20];
	__asm        mov    dz, eax;
// LINE 2720:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x184];
	__asm        neg    eax;
	__asm        mov    vec.x, eax;
// LINE 2721:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x188];
	__asm        neg    eax;
	__asm        mov    vec.y, eax;
// LINE 2722:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x18C];
	__asm        neg    eax;
	__asm        mov    vec.z, eax;
// LINE 2723:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 2724:
	__asm        mov    eax, vec.x;
	__asm        shl    eax, 3;
	__asm        add    loc.x, eax;
// LINE 2725:
	__asm        mov    eax, vec.y;
	__asm        shl    eax, 3;
	__asm        add    loc.y, eax;
// LINE 2726:
	__asm        mov    eax, vec.z;
	__asm        shl    eax, 3;
	__asm        add    loc.z, eax;
// LINE 2727:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1A8];
	__asm        push   eax;
	__asm        call   rand;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        and    eax, 1;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        inc    eax;
	__asm        imul   eax, dx;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        add    loc.x, eax;
// LINE 2728:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1A8];
	__asm        push   eax;
	__asm        call   rand;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        and    eax, 1;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        inc    eax;
	__asm        imul   eax, dz;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        add    loc.z, eax;
// LINE 2739:
	__asm        push   0xFFFFFFFF;
	__asm        push   0xF0000;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xBC];
	__asm        push   eax;
	__asm        push   1;
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        lea    eax, loc.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   6;
	__asm        call   S3MissileStart;
	__asm        add    esp, 0x20;
// LINE 2742:
_T17c:
	__asm        jmp    _T181;
// LINE 2744:
_T181:
}

// FUNCTION: COPTER_D 0x004f48ec
void S3HeliSimDust(struct _HELI_DATA* hd, int32_t alt) {
	int32_t num;
	struct _CELL_INFO* cptr;
	struct Point3d loc;
	struct Point3d vec;
	struct Point3d dvec;
	int32_t mat[4][4];

// LINE 2760:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x1C];
	__asm        sub    eax, alt;
	__asm        cmp    eax, 0x140000;
	__asm        jge    _T173;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x148], 0x118;
	__asm        jle    _T173;
// LINE 2763:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jne    _T5c;
// LINE 2764:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x148];
	__asm        sub    eax, 0x118;
	__asm        sar    eax, 2;
	__asm        mov    num, eax;
// LINE 2765:
	__asm        jmp    _T7b;
// LINE 2766:
_T5c:
	__asm        mov    eax, 0x14;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    ecx, [ecx+0x1C];
	__asm        sub    ecx, alt;
	__asm        sar    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        sar    eax, 1;
	__asm        mov    num, eax;
// LINE 2768:
_T7b:
	__asm        cmp    num, 0;
	__asm        jge    _T8a;

	__asm        jmp    _T178;
// LINE 2770:
_T8a:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 2771:
	__asm        mov    eax, alt;
	__asm        mov    loc.y, eax;
// LINE 2773:
	__asm        lea    eax, mat[0][0];
	__asm        push   eax;
	__asm        call   0x004D1FF1;
	__asm        add    esp, 4;
// LINE 2774:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x100];
	__asm        neg    eax;
	__asm        mov    vec.x, eax;
// LINE 2775:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x104];
	__asm        neg    eax;
	__asm        mov    vec.y, eax;
// LINE 2776:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x108];
	__asm        neg    eax;
	__asm        mov    vec.z, eax;
// LINE 2777:
	__asm        lea    eax, mat[0][0];
	__asm        push   eax;
	__asm        mov    ebx, 0x5DC0000;
	__asm        call   rand;
	__asm        mov    ecx, 0xBB8;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    eax, edx;
	__asm        shl    eax, 0x10;
	__asm        sub    ebx, eax;
	__asm        push   ebx;
	__asm        call   0x004D201C;
	__asm        add    esp, 8;
// LINE 2778:
	__asm        lea    eax, mat[0][0];
	__asm        push   eax;
	__asm        lea    eax, dvec.x;
	__asm        push   eax;
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 2779:
	__asm        mov    eax, dvec.x;
	__asm        shl    eax, 5;
	__asm        add    loc.x, eax;
// LINE 2780:
	__asm        mov    eax, dvec.y;
	__asm        shl    eax, 5;
	__asm        add    loc.y, eax;
// LINE 2781:
	__asm        mov    eax, dvec.z;
	__asm        shl    eax, 5;
	__asm        add    loc.z, eax;
// LINE 2782:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1C];
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x18];
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        mov    cptr, eax;
// LINE 2783:
	__asm        push   8;
	__asm        lea    eax, loc.x;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionSmokeStart;
	__asm        add    esp, 0xC;
// LINE 2800:
_T173:
	__asm        jmp    _T178;
// LINE 2802:
_T178:
}

// FUNCTION: COPTER_D 0x004f4a69
void NormalizeMapPoints(int32_t * x, int32_t * z) {
// LINE 2813:
	__asm        mov    eax, x;
	__asm        cmp    dword ptr [eax], 0x20000000;
	__asm        jle    _T1e;
// LINE 2814:
	__asm        mov    eax, x;
	__asm        sub    dword ptr [eax], 0x40000000;
// LINE 2815:
_T1e:
	__asm        mov    eax, x;
	__asm        cmp    dword ptr [eax], 0xE0000000;
	__asm        jge    _T36;
// LINE 2816:
	__asm        mov    eax, x;
	__asm        add    dword ptr [eax], 0x40000000;
// LINE 2818:
_T36:
	__asm        mov    eax, z;
	__asm        cmp    dword ptr [eax], 0x20000000;
	__asm        jle    _T4e;
// LINE 2819:
	__asm        mov    eax, z;
	__asm        sub    dword ptr [eax], 0x40000000;
// LINE 2820:
_T4e:
	__asm        mov    eax, z;
	__asm        cmp    dword ptr [eax], 0xE0000000;
	__asm        jge    _T66;
// LINE 2821:
	__asm        mov    eax, z;
	__asm        add    dword ptr [eax], 0x40000000;
// LINE 2822:
_T66:
}

// FUNCTION: COPTER_D 0x004f4ad4
void NormalizeXZVector(struct Point3d* vector) {
	int32_t length;
	int32_t angle;

// LINE 2838:
	__asm        mov    eax, vector;
	__asm        mov    dword ptr [eax+4], 0;
// LINE 2840:
	__asm        mov    eax, vector;
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        mov    eax, vector;
	__asm        mov    eax, [eax];
	__asm        push   eax;
	__asm        call   0x004D20B1;
	__asm        add    esp, 8;
	__asm        mov    angle, eax;
// LINE 2841:
	__asm        mov    eax, vector;
	__asm        add    eax, 8;
	__asm        push   eax;
	__asm        mov    eax, vector;
	__asm        push   eax;
	__asm        mov    eax, angle;
	__asm        push   eax;
	__asm        call   0x004D19FC;
	__asm        add    esp, 0xC;
// LINE 2847:
_T42:
	__asm        mov    eax, vector;
	__asm        push   eax;
	__asm        call   MTMagnitude;
	__asm        add    esp, 4;
	__asm        mov    length, eax;
// LINE 2848:
	__asm        cmp    length, 0x10000;
	__asm        jge    _T128;
// LINE 2850:
	__asm        mov    eax, vector;
	__asm        cmp    dword ptr [eax], 0;
	__asm        jne    _T95;
// LINE 2852:
	__asm        mov    eax, vector;
	__asm        cmp    dword ptr [eax+8], 0;
	__asm        jle    _T86;
// LINE 2853:
	__asm        mov    eax, vector;
	__asm        mov    dword ptr [eax+8], 0x10000;
// LINE 2854:
	__asm        jmp    _T90;
// LINE 2855:
_T86:
	__asm        mov    eax, vector;
	__asm        mov    dword ptr [eax+8], 0xFFFF0000;
// LINE 2857:
_T90:
	__asm        jmp    _T128;
_T95:
	__asm        mov    eax, vector;
	__asm        cmp    dword ptr [eax+8], 0;
	__asm        jne    _Tcb;
// LINE 2859:
	__asm        mov    eax, vector;
	__asm        cmp    dword ptr [eax+8], 0;
	__asm        jle    _Tbd;
// LINE 2860:
	__asm        mov    eax, vector;
	__asm        mov    dword ptr [eax], 0x10000;
// LINE 2861:
	__asm        jmp    _Tc6;
// LINE 2862:
_Tbd:
	__asm        mov    eax, vector;
	__asm        mov    dword ptr [eax], 0xFFFF0000;
// LINE 2864:
_Tc6:
	__asm        jmp    _T128;
_Tcb:
	__asm        mov    eax, vector;
	__asm        mov    eax, [eax];
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        mov    ecx, eax;
	__asm        mov    eax, vector;
	__asm        mov    eax, [eax+8];
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        cmp    ecx, eax;
	__asm        jge    _T10a;
// LINE 2866:
	__asm        mov    eax, vector;
	__asm        cmp    dword ptr [eax], 0;
	__asm        jle    _T100;
// LINE 2867:
	__asm        mov    eax, vector;
	__asm        inc    dword ptr [eax];
// LINE 2868:
	__asm        jmp    _T105;
// LINE 2869:
_T100:
	__asm        mov    eax, vector;
	__asm        dec    dword ptr [eax];
// LINE 2871:
_T105:
	__asm        jmp    _T128;
// LINE 2873:
_T10a:
	__asm        mov    eax, vector;
	__asm        cmp    dword ptr [eax+8], 0;
	__asm        jle    _T122;
// LINE 2874:
	__asm        mov    eax, vector;
	__asm        inc    dword ptr [eax+8];
// LINE 2875:
	__asm        jmp    _T128;
// LINE 2876:
_T122:
	__asm        mov    eax, vector;
	__asm        dec    dword ptr [eax+8];
// LINE 2879:
_T128:
	__asm        cmp    length, 0x10000;
	__asm        jl     _T42;
// LINE 2881:
}

// FUNCTION: COPTER_D 0x004f4c0e
void S3HeliRopeNextFrame(struct _HELI_DATA* hd, int32_t gralt, struct _CELL_INFO* cptr) {
	int32_t normy;
	int32_t normx;
	int32_t distz;
	struct _HELI_TYPE_DATA* htd;
	int32_t distx;
	int32_t alt;
	struct Point3d oloc;
	int32_t absvectorx;
	int32_t objy;
	int32_t absvectorz;
	int32_t absdz;
	struct Point3d* pvert;
	struct Point3d vec;
	int32_t absdx;
	struct Point3d* vert;
	struct _STOBJ_INST* stobj;
	int32_t absvectorxz;
	int32_t c;
	int32_t vectorx;
	struct _DYOBJ_INST* dyobj;
	int32_t maxobjy;
	int32_t ropeload;
	int32_t vectorz;
	int32_t normz;
	int32_t flags;
	struct Point3d ploc;

// LINE 2906:
	__asm        mov    ropeload, 8;
// LINE 2907:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 2910:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1B0], 0;
	__asm        jne    _T60;
// LINE 2912:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1C0];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, htd;
	__asm        cdq;
	__asm        idiv   dword ptr [ecx+8];
	__asm        imul   eax, S_htwk_rope_loadfactor;
	__asm        mov    c, eax;
// LINE 2913:
	__asm        mov    eax, c;
	__asm        sar    eax, 0x10;
	__asm        add    ropeload, eax;
// LINE 2918:
_T60:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x130];
	__asm        mov    absdx, eax;
// LINE 2919:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x134];
	__asm        mov    absdz, eax;
// LINE 2920:
	__asm        cmp    absdx, 0;
	__asm        jge    _T8a;

	__asm        mov    eax, absdx;
	__asm        neg    eax;
	__asm        mov    absdx, eax;
// LINE 2921:
_T8a:
	__asm        cmp    absdz, 0;
	__asm        jge    _T9c;

	__asm        mov    eax, absdz;
	__asm        neg    eax;
	__asm        mov    absdz, eax;
// LINE 2924:
_T9c:
	__asm        mov    c, 0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x178];
	__asm        mov    vert, eax;
	__asm        jmp    _Tbb;
_Tb4:
	__asm        inc    c;
	__asm        add    vert, 0xC;
_Tbb:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1AC];
	__asm        inc    eax;
	__asm        cmp    eax, c;
	__asm        jle    _Tf4;
// LINE 2926:
	__asm        mov    eax, vert;
	__asm        mov    dword ptr [eax+8], 0;
	__asm        mov    eax, vert;
	__asm        mov    eax, [eax+8];
	__asm        mov    ecx, vert;
	__asm        mov    [ecx+4], eax;
	__asm        mov    eax, vert;
	__asm        mov    eax, [eax+4];
	__asm        mov    ecx, vert;
	__asm        mov    [ecx], eax;
// LINE 2927:
	__asm        jmp    _Tb4;
// LINE 2930:
_Tf4:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1AC];
	__asm        lea    eax, [eax+eax*2];
	__asm        shl    eax, 2;
	__asm        mov    ecx, hd;
	__asm        add    eax, [ecx+0x178];
	__asm        mov    pvert, eax;
// LINE 2931:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1AC];
	__asm        lea    eax, [eax+eax*2+3];
	__asm        shl    eax, 2;
	__asm        mov    ecx, hd;
	__asm        add    eax, [ecx+0x178];
	__asm        mov    vert, eax;
// LINE 2932:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1AC];
	__asm        inc    eax;
	__asm        mov    c, eax;
	__asm        jmp    _T148;
_T13d:
	__asm        inc    c;
	__asm        add    vert, 0xC;
	__asm        add    pvert, 0xC;
_T148:
	__asm        cmp    c, 0x14;
	__asm        jge    _T51b;
// LINE 2934:
	__asm        mov    eax, vert;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, pvert;
	__asm        sub    eax, [ecx];
	__asm        mov    ecx, hd;
	__asm        add    eax, [ecx+0x130];
	__asm        mov    distx, eax;
// LINE 2935:
	__asm        mov    eax, vert;
	__asm        mov    eax, [eax+8];
	__asm        mov    ecx, pvert;
	__asm        sub    eax, [ecx+8];
	__asm        mov    ecx, hd;
	__asm        add    eax, [ecx+0x134];
	__asm        mov    distz, eax;
// LINE 2943:
	__asm        mov    eax, S_htwk_rope_tension;
	__asm        push   eax;
	__asm        mov    eax, distz;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    vectorz, eax;
// LINE 2944:
	__asm        mov    eax, S_htwk_rope_tension;
	__asm        push   eax;
	__asm        mov    eax, distx;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    vectorx, eax;
// LINE 2946:
	__asm        cmp    distx, 0;
	__asm        jl     _T1c3;
// LINE 2947:
	__asm        mov    eax, distx;
	__asm        cdq;
	__asm        idiv   ropeload;
	__asm        mov    absvectorx, eax;
// LINE 2948:
	__asm        jmp    _T1cf;
// LINE 2949:
_T1c3:
	__asm        mov    eax, distx;
	__asm        cdq;
	__asm        idiv   ropeload;
	__asm        neg    eax;
	__asm        mov    absvectorx, eax;
// LINE 2951:
_T1cf:
	__asm        cmp    distz, 0;
	__asm        jl     _T1e8;
// LINE 2952:
	__asm        mov    eax, distz;
	__asm        cdq;
	__asm        idiv   ropeload;
	__asm        mov    absvectorz, eax;
// LINE 2953:
	__asm        jmp    _T1f4;
// LINE 2954:
_T1e8:
	__asm        mov    eax, distz;
	__asm        cdq;
	__asm        idiv   ropeload;
	__asm        neg    eax;
	__asm        mov    absvectorz, eax;
// LINE 2957:
_T1f4:
	__asm        mov    eax, absvectorx;
	__asm        add    eax, absvectorz;
	__asm        mov    absvectorxz, eax;
// LINE 2958:
	__asm        mov    eax, absvectorxz;
	__asm        cmp    RopeSeg, eax;
	__asm        jge    _T214;
// LINE 2959:
	__asm        mov    eax, RopeSeg;
	__asm        mov    absvectorxz, eax;
// LINE 2961:
_T214:
	__asm        mov    eax, pvert;
	__asm        mov    eax, [eax+4];
	__asm        sub    eax, RopeSeg;
	__asm        add    eax, absvectorxz;
	__asm        mov    ecx, vert;
	__asm        mov    [ecx+4], eax;
// LINE 2969:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        mov    eax, [eax+0x18];
	__asm        mov    ecx, vert;
	__asm        add    eax, [ecx];
	__asm        mov    ploc.x, eax;
// LINE 2970:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        mov    eax, [eax+0x20];
	__asm        mov    ecx, vert;
	__asm        add    eax, [ecx+8];
	__asm        mov    ploc.z, eax;
// LINE 2971:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xB8];
	__asm        mov    eax, [eax+0x1C];
	__asm        mov    ecx, vert;
	__asm        add    eax, [ecx+4];
	__asm        mov    ploc.y, eax;
// LINE 2974:
	__asm        mov    eax, ploc.x;
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+2];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    normx, eax;
// LINE 2975:
	__asm        mov    eax, ploc.z;
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+6];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    normz, eax;
// LINE 2976:
	__asm        mov    eax, ploc.y;
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+4];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    normy, eax;
// LINE 2979:
	__asm        mov    eax, cptr;
	__asm        mov    eax, [eax+0xC];
	__asm        mov    stobj, eax;
// LINE 2980:
	__asm        mov    objy, 0;
// LINE 2981:
	__asm        mov    maxobjy, 0;
// LINE 2982:
_T2b4:
	__asm        cmp    stobj, 0;
	__asm        je     _T318;
// LINE 2984:
	__asm        mov    eax, stobj;
	__asm        mov    eax, [eax+8];
	__asm        mov    flags, eax;
// LINE 2985:
	__asm        push   0;
	__asm        push   0;
	__asm        mov    eax, RopeDim;
	__asm        push   eax;
	__asm        mov    eax, RopeDim;
	__asm        push   eax;
	__asm        lea    eax, flags;
	__asm        push   eax;
	__asm        mov    eax, normz;
	__asm        push   eax;
	__asm        mov    eax, normy;
	__asm        push   eax;
	__asm        mov    eax, normx;
	__asm        push   eax;
	__asm        mov    eax, stobj;
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        call   VRGetObjAlt2;
	__asm        add    esp, 0x24;
	__asm        mov    objy, eax;
// LINE 2986:
	__asm        mov    eax, objy;
	__asm        cmp    maxobjy, eax;
	__asm        jge    _T30b;
// LINE 2987:
	__asm        mov    eax, objy;
	__asm        mov    maxobjy, eax;
// LINE 2988:
_T30b:
	__asm        mov    eax, stobj;
	__asm        mov    eax, [eax];
	__asm        mov    stobj, eax;
// LINE 2989:
	__asm        jmp    _T2b4;
// LINE 2992:
_T318:
	__asm        mov    eax, gralt;
	__asm        add    eax, maxobjy;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xB8];
	__asm        sub    eax, [ecx+0x1C];
	__asm        mov    alt, eax;
// LINE 2994:
	__asm        mov    eax, cptr;
	__asm        mov    eax, [eax+0x10];
	__asm        mov    dyobj, eax;
// LINE 2995:
	__asm        mov    objy, 0;
// LINE 2996:
	__asm        mov    maxobjy, 0;
// LINE 2997:
_T344:
	__asm        cmp    dyobj, 0;
	__asm        je     _T40f;
// LINE 3000:
	__asm        mov    eax, G_uheli;
	__asm        mov    ecx, dyobj;
	__asm        cmp    [eax+0xA4], ecx;
	__asm        jne    _T367;
// LINE 3002:
	__asm        jmp    _T3d4;
// LINE 3005:
_T367:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 8;
	__asm        je     _T37b;
// LINE 3007:
	__asm        jmp    _T3d4;
// LINE 3009:
_T37b:
	__asm        mov    eax, ploc.x;
	__asm        mov    ecx, dyobj;
	__asm        sub    eax, [ecx+0x18];
	__asm        mov    oloc.x, eax;
// LINE 3010:
	__asm        mov    eax, ploc.y;
	__asm        mov    ecx, dyobj;
	__asm        sub    eax, [ecx+0x1C];
	__asm        mov    oloc.y, eax;
// LINE 3011:
	__asm        mov    eax, ploc.z;
	__asm        mov    ecx, dyobj;
	__asm        sub    eax, [ecx+0x20];
	__asm        mov    oloc.z, eax;
// LINE 3016:
	__asm        mov    eax, RopeDim;
	__asm        push   eax;
	__asm        lea    eax, oloc.x;
	__asm        push   eax;
	__asm        mov    eax, dyobj;
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   VRGetDyObjAlt;
	__asm        add    esp, 0x10;
	__asm        mov    objy, eax;
// LINE 3017:
	__asm        mov    eax, objy;
	__asm        cmp    maxobjy, eax;
	__asm        jge    _T3d4;
// LINE 3018:
	__asm        mov    eax, objy;
	__asm        mov    maxobjy, eax;
// LINE 3022:
next_dyobj:
_T3d4:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 4;
	__asm        je     _T402;
// LINE 3024:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 3026:
	__asm        jmp    _T40a;
// LINE 3027:
_T402:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 3028:
_T40a:
	__asm        jmp    _T344;
// LINE 3030:
_T40f:
	__asm        mov    eax, maxobjy;
	__asm        add    alt, eax;
// LINE 3032:
	__asm        mov    eax, vert;
	__asm        mov    ecx, alt;
	__asm        cmp    [eax+4], ecx;
	__asm        jge    _T492;
// LINE 3034:
	__asm        mov    eax, alt;
	__asm        mov    ecx, vert;
	__asm        mov    [ecx+4], eax;
// LINE 3035:
	__asm        mov    eax, absdx;
	__asm        cmp    absvectorx, eax;
	__asm        jle    _T44a;
// LINE 3036:
	__asm        xor    eax, eax;
	__asm        sub    eax, vectorx;
	__asm        neg    eax;
	__asm        mov    ecx, vert;
	__asm        sub    [ecx], eax;
// LINE 3037:
	__asm        jmp    _T45c;
// LINE 3038:
_T44a:
	__asm        xor    eax, eax;
	__asm        mov    ecx, hd;
	__asm        sub    eax, [ecx+0x130];
	__asm        neg    eax;
	__asm        mov    ecx, vert;
	__asm        sub    [ecx], eax;
// LINE 3040:
_T45c:
	__asm        mov    eax, absvectorz;
	__asm        cmp    absdz, eax;
	__asm        jge    _T47a;
// LINE 3041:
	__asm        xor    eax, eax;
	__asm        sub    eax, vectorz;
	__asm        neg    eax;
	__asm        mov    ecx, vert;
	__asm        sub    [ecx+8], eax;
// LINE 3042:
	__asm        jmp    _T48d;
// LINE 3043:
_T47a:
	__asm        xor    eax, eax;
	__asm        mov    ecx, hd;
	__asm        sub    eax, [ecx+0x134];
	__asm        neg    eax;
	__asm        mov    ecx, vert;
	__asm        sub    [ecx+8], eax;
// LINE 3045:
_T48d:
	__asm        jmp    _T4ab;
// LINE 3047:
_T492:
	__asm        xor    eax, eax;
	__asm        sub    eax, vectorx;
	__asm        neg    eax;
	__asm        mov    ecx, vert;
	__asm        sub    [ecx], eax;
// LINE 3048:
	__asm        xor    eax, eax;
	__asm        sub    eax, vectorz;
	__asm        neg    eax;
	__asm        mov    ecx, vert;
	__asm        sub    [ecx+8], eax;
// LINE 3053:
_T4ab:
	__asm        mov    eax, vert;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, pvert;
	__asm        sub    eax, [ecx];
	__asm        mov    vec.x, eax;
// LINE 3054:
	__asm        mov    eax, vert;
	__asm        mov    eax, [eax+4];
	__asm        mov    ecx, pvert;
	__asm        sub    eax, [ecx+4];
	__asm        mov    vec.y, eax;
// LINE 3055:
	__asm        mov    eax, vert;
	__asm        mov    eax, [eax+8];
	__asm        mov    ecx, pvert;
	__asm        sub    eax, [ecx+8];
	__asm        mov    vec.z, eax;
// LINE 3056:
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        call   MTNormalize;
	__asm        add    esp, 4;
// LINE 3057:
	__asm        mov    eax, vec.x;
	__asm        shl    eax, 2;
	__asm        mov    ecx, pvert;
	__asm        add    eax, [ecx];
	__asm        mov    ecx, vert;
	__asm        mov    [ecx], eax;
// LINE 3058:
	__asm        mov    eax, vec.y;
	__asm        shl    eax, 2;
	__asm        mov    ecx, pvert;
	__asm        add    eax, [ecx+4];
	__asm        mov    ecx, vert;
	__asm        mov    [ecx+4], eax;
// LINE 3059:
	__asm        mov    eax, vec.z;
	__asm        shl    eax, 2;
	__asm        mov    ecx, pvert;
	__asm        add    eax, [ecx+8];
	__asm        mov    ecx, vert;
	__asm        mov    [ecx+8], eax;
// LINE 3061:
	__asm        jmp    _T13d;
// LINE 3063:
_T51b:
}

// FUNCTION: COPTER_D 0x004f512e
void S3DrawWater(struct VRBlit* blit) {
// LINE 3319:
}

// FUNCTION: COPTER_D 0x004f5139
int32_t GetCopterTerAlt(struct _HELI_DATA* hd) {
	int32_t alt;

// LINE 3327:
	__asm        mov    eax, hd;
	__asm        add    eax, 0x13C;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x20];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x18];
	__asm        push   eax;
	__asm        call   S3TerrPrecisionAlt;
	__asm        add    esp, 0xC;
	__asm        mov    alt, eax;
// LINE 3329:
	__asm        mov    eax, alt;
	__asm        jmp    near ptr 0x004F5178;
// LINE 3331:
}

// FUNCTION: COPTER_D 0x004f517d
int32_t GetCopterBldAlt(struct _HELI_DATA* hd) {
	int32_t normy;
	int32_t normx;
	struct _CELL_INFO* cptr;
	int32_t alt;
	int32_t objy;
	struct Point3d vec;
	struct _STOBJ_INST* stobj;
	int32_t maxobjy;
	int32_t landable;
	int32_t normz;
	int32_t flags;

// LINE 3345:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1C];
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x18];
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        mov    cptr, eax;
// LINE 3347:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x18];
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+2];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    normx, eax;
// LINE 3348:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x20];
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+6];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    normz, eax;
// LINE 3349:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x1C];
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+4];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    normy, eax;
// LINE 3351:
	__asm        mov    objy, 0;
// LINE 3352:
	__asm        mov    maxobjy, 0;
// LINE 3353:
	__asm        mov    landable, 0;
// LINE 3354:
	__asm        mov    eax, cptr;
	__asm        mov    eax, [eax+0xC];
	__asm        mov    stobj, eax;
// LINE 3355:
_T9c:
	__asm        cmp    stobj, 0;
	__asm        je     _T146;
// LINE 3357:
	__asm        mov    eax, stobj;
	__asm        mov    eax, [eax+8];
	__asm        mov    flags, eax;
// LINE 3363:
	__asm        lea    eax, landable;
	__asm        push   eax;
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x14];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x10];
	__asm        push   eax;
	__asm        lea    eax, flags;
	__asm        push   eax;
	__asm        mov    eax, normz;
	__asm        push   eax;
	__asm        mov    eax, normy;
	__asm        push   eax;
	__asm        mov    eax, normx;
	__asm        push   eax;
	__asm        mov    eax, stobj;
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        call   VRGetObjAlt2;
	__asm        add    esp, 0x24;
	__asm        mov    objy, eax;
// LINE 3364:
	__asm        mov    eax, objy;
	__asm        cmp    maxobjy, eax;
	__asm        jge    _T139;
// LINE 3366:
	__asm        mov    eax, flags;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x164], eax;
// LINE 3367:
	__asm        mov    eax, objy;
	__asm        mov    maxobjy, eax;
// LINE 3368:
	__asm        lea    eax, vec.x;
	__asm        mov    ecx, hd;
	__asm        add    ecx, 0x158;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 3369:
	__asm        mov    eax, landable;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x13C], eax;
// LINE 3371:
_T139:
	__asm        mov    eax, stobj;
	__asm        mov    eax, [eax];
	__asm        mov    stobj, eax;
// LINE 3372:
	__asm        jmp    _T9c;
// LINE 3377:
_T146:
	__asm        cmp    maxobjy, 0;
	__asm        jne    _T17c;
// LINE 3378:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x20];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x18];
	__asm        push   eax;
	__asm        call   S3TerrPrecisionAlt;
	__asm        add    esp, 0xC;
	__asm        mov    alt, eax;
// LINE 3379:
	__asm        jmp    _T18c;
// LINE 3380:
_T17c:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+4];
	__asm        shl    eax, 0x10;
	__asm        add    eax, maxobjy;
	__asm        mov    alt, eax;
// LINE 3382:
_T18c:
	__asm        mov    eax, alt;
	__asm        jmp    near ptr 0x004F5311;
// LINE 3383:
}

// FUNCTION: COPTER_D 0x004f5316
void S3HeliTestCopter(struct _HELI_DATA* hd) {
	int32_t randx;
	long y;
	long x;
	int32_t randz;

// LINE 3403:
	__asm        cmp    hd, 0;
	__asm        jne    _T18;
// LINE 3404:
	__asm        jmp    _T39e;
// LINE 3406:
_T18:
	__asm        cmp    S_avoiding, 0;
	__asm        je     _T30;
// LINE 3410:
	__asm        dec    S_avoiding;
// LINE 3412:
	__asm        jmp    _T39e;
// LINE 3413:
_T30:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 1;
	__asm        je     _T4a;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 2;
	__asm        jne    _T8a;
_T4a:
	__asm        push   8;
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliCollideTest;
	__asm        add    esp, 8;
	__asm        cmp    eax, 1;
	__asm        jne    _T8a;
// LINE 3416:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x11C], 0xFED40000;
// LINE 3417:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x118], 0xFA0000;
// LINE 3418:
	__asm        mov    S_avoiding, 8;
// LINE 3420:
	__asm        jmp    _T39e;
// LINE 3421:
_T8a:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 3;
	__asm        je     _Tb1;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 2;
	__asm        je     _Tb1;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jne    _T1a0;
// LINE 3423:
_Tb1:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1BC], 0;
// LINE 3424:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1AC], 0x11;
	__asm        jge    _Te0;
// LINE 3426:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 1;
// LINE 3428:
	__asm        jmp    _Ted;
// LINE 3430:
_Te0:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 0;
// LINE 3432:
_Ted:
	__asm        push   0x6BF1C0;
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliLand;
	__asm        add    esp, 8;
	__asm        cmp    eax, 1;
	__asm        jne    _T19b;
// LINE 3434:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+4], 4;
// LINE 3437:
	__asm        call   rand;
	__asm        mov    ecx, 0x1F40;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    eax, edx;
	__asm        neg    eax;
	__asm        mov    randx, eax;
// LINE 3438:
	__asm        call   rand;
	__asm        mov    ecx, 0x1F40;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    randz, edx;
// LINE 3441:
	__asm        mov    eax, randx;
	__asm        shl    eax, 0x10;
	__asm        mov    G_testloc.x, eax;
// LINE 3442:
	__asm        mov    eax, randz;
	__asm        shl    eax, 0x10;
	__asm        mov    G_testloc.z, eax;
// LINE 3443:
	__asm        mov    eax, G_testloc.x;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    x, eax;
// LINE 3444:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, G_testloc.z;
	__asm        sar    eax, 0x16;
	__asm        mov    y, eax;
// LINE 3445:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        push   eax;
	__asm        call   S3HeliHighestBuildAlt;
	__asm        add    esp, 4;
	__asm        mov    S_targalt, eax;
// LINE 3448:
_T19b:
	__asm        jmp    _T39e;
_T1a0:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 4;
	__asm        jne    _T20d;
// LINE 3450:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x1AC], 3;
	__asm        jle    _T1cf;
// LINE 3452:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 0xFFFFFFFF;
// LINE 3454:
	__asm        jmp    _T1dc;
// LINE 3456:
_T1cf:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1B8], 0;
// LINE 3458:
_T1dc:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1BC], 0;
// LINE 3459:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliTakeOff;
	__asm        add    esp, 4;
	__asm        cmp    eax, 1;
	__asm        jne    _T208;
// LINE 3461:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+4], 1;
// LINE 3464:
_T208:
	__asm        jmp    _T39e;
// LINE 3467:
_T20d:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jne    _T224;
// LINE 3468:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+4], 4;
// LINE 3471:
_T224:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x11C], 0x4B0000;
// LINE 3472:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x118], 0;
// LINE 3473:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x114], 0;
// LINE 3476:
	__asm        mov    eax, hd;
	__asm        mov    ecx, S_targalt;
	__asm        add    ecx, 0xB40000;
	__asm        cmp    [eax+0x138], ecx;
	__asm        jle    _T275;
// LINE 3477:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 0xFFFFFFFF;
// LINE 3478:
	__asm        jmp    _T2a9;
_T275:
	__asm        mov    eax, hd;
	__asm        mov    ecx, S_targalt;
	__asm        add    ecx, 0x960000;
	__asm        cmp    [eax+0x138], ecx;
	__asm        jge    _T29f;
// LINE 3479:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 1;
// LINE 3480:
	__asm        jmp    _T2a9;
// LINE 3481:
_T29f:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 3483:
_T2a9:
	__asm        push   0x6BF1C0;
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliHeadToLocXZ;
	__asm        add    esp, 8;
	__asm        cmp    eax, 1;
	__asm        jne    _T34d;
// LINE 3486:
	__asm        call   rand;
	__asm        mov    ecx, 0x1F40;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    eax, edx;
	__asm        neg    eax;
	__asm        mov    randx, eax;
// LINE 3487:
	__asm        call   rand;
	__asm        mov    ecx, 0x1F40;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    randz, edx;
// LINE 3490:
	__asm        mov    eax, randx;
	__asm        shl    eax, 0x10;
	__asm        mov    G_testloc.x, eax;
// LINE 3491:
	__asm        mov    eax, randz;
	__asm        shl    eax, 0x10;
	__asm        mov    G_testloc.z, eax;
// LINE 3492:
	__asm        mov    eax, G_testloc.x;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    x, eax;
// LINE 3493:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, G_testloc.z;
	__asm        sar    eax, 0x16;
	__asm        mov    y, eax;
// LINE 3494:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        push   eax;
	__asm        call   S3HeliHighestBuildAlt;
	__asm        add    esp, 4;
	__asm        mov    S_targalt, eax;
// LINE 3510:
_T34d:
	__asm        mov    eax, S_test_frames;
	__asm        mov    [ebp-0x14], eax;
	__asm        inc    S_test_frames;
	__asm        cmp    dword ptr [ebp-0x14], 0x32;
	__asm        jge    _T377;
// LINE 3512:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1BC], 1;
// LINE 3514:
	__asm        jmp    _T39e;
// LINE 3516:
_T377:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x1BC], 0;
// LINE 3517:
	__asm        cmp    S_test_frames, 0x96;
	__asm        jle    _T39e;

	__asm        mov    S_test_frames, 0;
// LINE 3520:
_T39e:
}

// FUNCTION: COPTER_D 0x004f56b9
int32_t S3HeliLand(struct _HELI_DATA* hd, struct Point3d* loc) {
// LINE 3537:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x118], 0;
// LINE 3538:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x114], 0;
// LINE 3542:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 2;
	__asm        jne    _Tee;
// LINE 3546:
	__asm        mov    eax, loc;
	__asm        mov    eax, [eax+4];
	__asm        add    eax, 0x960000;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        cmp    eax, [ecx+0x1C];
	__asm        jge    _T66;
// LINE 3548:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 0xFFFFFFFF;
// LINE 3549:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x11C], 0x140000;
// LINE 3551:
	__asm        jmp    _Tb7;
_T66:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    ecx, loc;
	__asm        mov    ecx, [ecx+4];
	__asm        add    ecx, 0x640000;
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jge    _Ta0;
// LINE 3553:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 1;
// LINE 3554:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x11C], 0x140000;
// LINE 3556:
	__asm        jmp    _Tb7;
// LINE 3558:
_Ta0:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 3559:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x11C], 0x4B0000;
// LINE 3561:
_Tb7:
	__asm        mov    eax, loc;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliHeadToLocXZ;
	__asm        add    esp, 8;
	__asm        cmp    eax, 1;
	__asm        jne    _Te7;
// LINE 3563:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+4], 3;
// LINE 3564:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x128], 0;
// LINE 3567:
_Te7:
	__asm        xor    eax, eax;
	__asm        jmp    _T142;
// LINE 3571:
_Tee:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x11C], 0;
// LINE 3572:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 3574:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jne    _T131;
// LINE 3577:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x148], 0x14;
	__asm        jge    _T12c;
// LINE 3578:
	__asm        mov    eax, 1;
	__asm        jmp    _T142;
// LINE 3580:
_T12c:
	__asm        jmp    _T13b;
// LINE 3582:
_T131:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 0xFFFFFFFF;
// LINE 3585:
_T13b:
	__asm        xor    eax, eax;
	__asm        jmp    _T142;
// LINE 3586:
_T142:
}

// FUNCTION: COPTER_D 0x004f5800
int32_t S3HeliTakeOff(struct _HELI_DATA* hd) {
	int32_t alt;

// LINE 3602:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x118], 0;
// LINE 3603:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x114], 0;
// LINE 3604:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x11C], 0;
// LINE 3607:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 1;
// LINE 3609:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jne    _T4e;
// LINE 3611:
	__asm        xor    eax, eax;
	__asm        jmp    _T93;
// LINE 3615:
_T4e:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   GetCopterBldAlt;
	__asm        add    esp, 4;
	__asm        mov    alt, eax;
// LINE 3616:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    ecx, alt;
	__asm        add    ecx, 0x960000;
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jge    _T7f;
// LINE 3619:
	__asm        xor    eax, eax;
	__asm        jmp    _T93;
// LINE 3622:
_T7f:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 3623:
	__asm        mov    eax, 1;
	__asm        jmp    _T93;
// LINE 3624:
_T93:
}

// FUNCTION: COPTER_D 0x004f5898
void S3HeliHeadsUp() {
// LINE 3638:
}

// FUNCTION: COPTER_D 0x004f58a3
int32_t S3HeliGetDeflection(struct _HELI_DATA* hd, struct Point3d* vector, int32_t * dist, int32_t * alt) {
	int32_t deltax;
	struct _CELL_INFO* cptr;
	struct _CELL_INFO* lcptr;
	long y;
	long i;
	int32_t fz;
	long x;
	int32_t maxradius;
	int32_t fx;
	int32_t deflectangle;
	int32_t deltaz;

// LINE 3667:
	__asm        mov    eax, vector;
	__asm        mov    eax, [eax];
	__asm        shl    eax, 2;
	__asm        mov    deltax, eax;
// LINE 3668:
	__asm        mov    eax, vector;
	__asm        mov    eax, [eax+8];
	__asm        shl    eax, 2;
	__asm        mov    deltaz, eax;
// LINE 3671:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x18];
	__asm        mov    ecx, deltax;
	__asm        lea    eax, [eax+ecx*2];
	__asm        mov    fx, eax;
// LINE 3672:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x20];
	__asm        mov    ecx, deltaz;
	__asm        lea    eax, [eax+ecx*2];
	__asm        mov    fz, eax;
// LINE 3675:
	__asm        mov    lcptr, 0;
// LINE 3680:
	__asm        mov    i, 0;
	__asm        jmp    _T6c;
_T5d:
	__asm        inc    i;
	__asm        mov    eax, deltax;
	__asm        add    fx, eax;
	__asm        mov    eax, deltaz;
	__asm        add    fz, eax;
_T6c:
	__asm        cmp    i, 0x50;
	__asm        jge    _Tf2;
// LINE 3683:
	__asm        mov    eax, fx;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    x, eax;
// LINE 3684:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, fz;
	__asm        sar    eax, 0x16;
	__asm        mov    y, eax;
// LINE 3685:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        mov    cptr, eax;
// LINE 3686:
	__asm        mov    eax, cptr;
	__asm        cmp    lcptr, eax;
	__asm        jne    _Tc1;
// LINE 3687:
	__asm        jmp    _T5d;
// LINE 3688:
_Tc1:
	__asm        mov    eax, cptr;
	__asm        mov    lcptr, eax;
// LINE 3693:
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3HeliHighestBuildAlt;
	__asm        add    esp, 4;
	__asm        mov    maxradius, eax;
// LINE 3694:
	__asm        mov    eax, hd;
	__asm        mov    ecx, maxradius;
	__asm        cmp    [eax+0x138], ecx;
	__asm        jge    _Ted;
// LINE 3695:
	__asm        jmp    _Tf2;
// LINE 3696:
_Ted:
	__asm        jmp    _T5d;
// LINE 3698:
_Tf2:
	__asm        mov    eax, maxradius;
	__asm        mov    ecx, alt;
	__asm        mov    [ecx], eax;
// LINE 3701:
	__asm        cmp    i, 0x50;
	__asm        jne    _T10b;
// LINE 3702:
	__asm        xor    eax, eax;
	__asm        jmp    _T164;
// LINE 3706:
_T10b:
	__asm        mov    eax, i;
	__asm        inc    eax;
	__asm        shl    eax, 0x12;
	__asm        mov    ecx, dist;
	__asm        mov    [ecx], eax;
// LINE 3707:
	__asm        mov    eax, dist;
	__asm        cmp    dword ptr [eax], 0x1400000;
	__asm        jl     _T12d;
// LINE 3708:
	__asm        xor    eax, eax;
	__asm        jmp    _T164;
// LINE 3710:
_T12d:
	__asm        mov    ebx, 0x10000;
	__asm        push   0x1400000;
	__asm        mov    eax, dist;
	__asm        mov    eax, [eax];
	__asm        push   eax;
	__asm        call   0x004D19DF;
	__asm        add    esp, 8;
	__asm        sub    ebx, eax;
	__asm        mov    deflectangle, ebx;
// LINE 3711:
	__asm        mov    eax, deflectangle;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [eax+eax*4];
	__asm        shl    eax, 3;
	__asm        lea    eax, [eax+eax*8];
	__asm        mov    deflectangle, eax;
// LINE 3713:
	__asm        mov    eax, deflectangle;
	__asm        jmp    _T164;
// LINE 3715:
_T164:
}

// FUNCTION: COPTER_D 0x004f5a0c
int32_t S3HeliHighestBuildAlt(struct _CELL_INFO* cptr) {
	int32_t maxradius;
	struct _STOBJ_INST* stobj;
	struct VRObjInfo oinfo;

// LINE 3733:
	__asm        mov    eax, cptr;
	__asm        mov    eax, [eax+0xC];
	__asm        mov    stobj, eax;
// LINE 3734:
	__asm        mov    maxradius, 0;
// LINE 3735:
_T19:
	__asm        cmp    stobj, 0;
	__asm        je     _T65;
// LINE 3737:
	__asm        mov    eax, stobj;
	__asm        test   dword ptr [eax+8], 0x1A4;
	__asm        je     _T58;
// LINE 3739:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, stobj;
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 3740:
	__asm        mov    eax, maxradius;
	__asm        cmp    oinfo.Radius, eax;
	__asm        jle    _T58;
// LINE 3741:
	__asm        mov    eax, oinfo.Radius;
	__asm        mov    maxradius, eax;
// LINE 3744:
_T58:
	__asm        mov    eax, stobj;
	__asm        mov    eax, [eax];
	__asm        mov    stobj, eax;
// LINE 3745:
	__asm        jmp    _T19;
// LINE 3747:
_T65:
	__asm        mov    eax, maxradius;
	__asm        add    eax, eax;
	__asm        jmp    near ptr 0x004F5A7B;
// LINE 3748:
}

// FUNCTION: COPTER_D 0x004f5a80
void S3HeliSwitchType(struct _HELI_DATA* hd) {
// LINE 3760:
	__asm        jmp    near ptr 0x004F5A8B;
// LINE 3761:
}

// FUNCTION: COPTER_D 0x004f5a90
struct _HELI_DATA* S3HeliGetDataByDyObj(struct _DYOBJ_INST* dyheli) {
	long heliidx;

// LINE 3775:
	__asm        mov    heliidx, 0;
	__asm        jmp    _T18;
_T15:
	__asm        inc    heliidx;
_T18:
	__asm        cmp    heliidx, 0xA;
	__asm        jge    _T60;
// LINE 3777:
	__asm        mov    eax, heliidx;
	__asm        cmp    G_helis[0][eax*4], 0;
	__asm        je     _T5b;
// LINE 3779:
	__asm        mov    eax, heliidx;
	__asm        mov    eax, G_helis[0][eax*4];
	__asm        mov    ecx, dyheli;
	__asm        cmp    [eax+0xA4], ecx;
	__asm        jne    _T5b;
// LINE 3780:
	__asm        mov    eax, heliidx;
	__asm        mov    eax, G_helis[0][eax*4];
	__asm        jmp    _T67;
// LINE 3782:
_T5b:
	__asm        jmp    _T15;
// LINE 3784:
_T60:
	__asm        xor    eax, eax;
	__asm        jmp    _T67;
// LINE 3785:
_T67:
}

// FUNCTION: COPTER_D 0x004f5afc
void S3HeliNextFrameDriver() {
	long heliidx;

// LINE 3800:
	__asm        mov    heliidx, 0;
	__asm        jmp    _T18;
_T15:
	__asm        inc    heliidx;
_T18:
	__asm        cmp    heliidx, 0xA;
	__asm        jge    _T64;
// LINE 3802:
	__asm        mov    eax, heliidx;
	__asm        cmp    G_helis[0][eax*4], 0;
	__asm        je     _T5f;
// LINE 3804:
	__asm        mov    eax, heliidx;
	__asm        mov    eax, G_helis[0][eax*4];
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _T4c;
// LINE 3805:
	__asm        jmp    _T15;
// LINE 3810:
_T4c:
	__asm        mov    eax, heliidx;
	__asm        mov    eax, G_helis[0][eax*4];
	__asm        push   eax;
	__asm        call   S3HeliNextFrame;
	__asm        add    esp, 4;
// LINE 3812:
_T5f:
	__asm        jmp    _T15;
// LINE 3815:
_T64:
	__asm        call   S3HeliSoundDriver;
// LINE 3817:
}

// FUNCTION: COPTER_D 0x004f5b6a
void S3HeliSoundDriver() {
	int32_t closest;
	int32_t vol_adj;
	struct Point3d viewvect;
	struct _HELI_DATA* hd;
	int32_t dist;
	long heliidx;
	struct _HELI_DATA* closehd;

// LINE 3841:
	__asm        mov    eax, S_sound_frames;
	__asm        mov    [ebp-0x28], eax;
	__asm        inc    S_sound_frames;
	__asm        cmp    dword ptr [ebp-0x28], 5;
	__asm        jle    _T30;
// LINE 3843:
	__asm        mov    S_sound_frames, 0;
// LINE 3845:
	__asm        jmp    _T35;
// LINE 3847:
_T30:
	__asm        jmp    _T2f8;
// LINE 3852:
_T35:
	__asm        cmp    G_camera_mode, 3;
	__asm        je     _T4f;
// LINE 3854:
	__asm        mov    eax, G_uheli;
	__asm        mov    hd, eax;
// LINE 3856:
	__asm        jmp    _T133;
// LINE 3859:
_T4f:
	__asm        mov    closest, 0x7800000;
// LINE 3860:
	__asm        mov    closehd, 0;
// LINE 3862:
	__asm        mov    heliidx, 0;
	__asm        jmp    _T6c;
_T69:
	__asm        inc    heliidx;
_T6c:
	__asm        cmp    heliidx, 0xA;
	__asm        jge    _T10f;
// LINE 3864:
	__asm        mov    eax, heliidx;
	__asm        cmp    G_helis[0][eax*4], 0;
	__asm        je     _T10a;
// LINE 3866:
	__asm        mov    eax, heliidx;
	__asm        mov    eax, G_helis[0][eax*4];
	__asm        mov    hd, eax;
// LINE 3867:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x148], 0;
	__asm        je     _T10a;
// LINE 3869:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x18];
	__asm        sub    eax, ViewState.world_pos.x;
	__asm        mov    viewvect.x, eax;
// LINE 3870:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x1C];
	__asm        sub    eax, ViewState.world_pos.y;
	__asm        mov    viewvect.y, eax;
// LINE 3871:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x20];
	__asm        sub    eax, ViewState.world_pos.z;
	__asm        mov    viewvect.z, eax;
// LINE 3872:
	__asm        lea    eax, viewvect.x;
	__asm        push   eax;
	__asm        call   MTMagnitude;
	__asm        add    esp, 4;
	__asm        mov    dist, eax;
// LINE 3873:
	__asm        mov    eax, dist;
	__asm        cmp    closest, eax;
	__asm        jle    _T10a;
// LINE 3875:
	__asm        mov    eax, dist;
	__asm        mov    closest, eax;
// LINE 3876:
	__asm        mov    eax, hd;
	__asm        mov    closehd, eax;
// LINE 3880:
_T10a:
	__asm        jmp    _T69;
// LINE 3882:
_T10f:
	__asm        cmp    closehd, 0;
	__asm        jne    _T12d;
// LINE 3884:
	__asm        push   0;
	__asm        call   S3DSStopPlay;
	__asm        add    esp, 4;
// LINE 3885:
	__asm        jmp    _T2f8;
// LINE 3887:
	__asm        jmp    _T133;
// LINE 3889:
_T12d:
	__asm        mov    eax, closehd;
	__asm        mov    hd, eax;
// LINE 3893:
_T133:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        je     _T247;
// LINE 3895:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x18];
	__asm        sub    eax, ViewState.world_pos.x;
	__asm        mov    viewvect.x, eax;
// LINE 3896:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x1C];
	__asm        sub    eax, ViewState.world_pos.y;
	__asm        mov    viewvect.y, eax;
// LINE 3897:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x20];
	__asm        sub    eax, ViewState.world_pos.z;
	__asm        mov    viewvect.z, eax;
// LINE 3898:
	__asm        lea    eax, viewvect.x;
	__asm        push   eax;
	__asm        call   MTMagnitude;
	__asm        add    esp, 4;
	__asm        mov    dist, eax;
// LINE 3901:
	__asm        cmp    dist, 0x7800000;
	__asm        jge    _T1be;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x148], 0x96;
	__asm        jl     _T1be;

	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x320], 0;
	__asm        jg     _T1cd;
// LINE 3903:
_T1be:
	__asm        push   0;
	__asm        call   S3DSStopPlay;
	__asm        add    esp, 4;
// LINE 3904:
	__asm        jmp    _T2f8;
// LINE 3909:
_T1cd:
	__asm        push   0;
	__asm        call   S3SoundIsPlaying;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T1f8;
// LINE 3911:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   0;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 3914:
_T1f8:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xDC];
	__asm        sar    eax, 0xC;
	__asm        push   eax;
	__asm        push   0;
	__asm        call   S3SoundAdjFreq;
	__asm        add    esp, 8;
// LINE 3919:
	__asm        push   0xF0600000;
	__asm        push   0x7800000;
	__asm        mov    eax, dist;
	__asm        push   eax;
	__asm        call   0x004D19DF;
	__asm        add    esp, 8;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sar    eax, 0x10;
	__asm        mov    vol_adj, eax;
// LINE 3921:
	__asm        mov    eax, vol_adj;
	__asm        push   eax;
	__asm        push   0;
	__asm        call   S3SoundAdjVol;
	__asm        add    esp, 8;
// LINE 3924:
	__asm        jmp    _T2f3;
// LINE 3927:
_T247:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x148], 0xFA;
	__asm        jge    _T269;
// LINE 3929:
	__asm        push   0;
	__asm        call   S3DSStopPlay;
	__asm        add    esp, 4;
// LINE 3930:
	__asm        jmp    _T2f8;
// LINE 3935:
_T269:
	__asm        push   0;
	__asm        call   S3SoundIsPlaying;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T2ae;
// LINE 3937:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x320], 0;
	__asm        jle    _T2a9;
// LINE 3938:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   0;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 3939:
	__asm        jmp    _T2ae;
// LINE 3940:
_T2a9:
	__asm        jmp    _T2f8;
// LINE 3944:
_T2ae:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x148];
	__asm        sub    eax, 0x168;
	__asm        mov    vol_adj, eax;
// LINE 3945:
	__asm        mov    eax, vol_adj;
	__asm        shl    eax, 2;
	__asm        lea    eax, [eax+eax*2];
	__asm        lea    eax, [eax+eax*4];
	__asm        push   eax;
	__asm        push   0;
	__asm        call   S3SoundAdjFreq;
	__asm        add    esp, 8;
// LINE 3946:
	__asm        mov    eax, vol_adj;
	__asm        cdq;
	__asm        and    edx, 3;
	__asm        add    eax, edx;
	__asm        sar    eax, 2;
	__asm        mov    vol_adj, eax;
// LINE 3947:
	__asm        mov    eax, vol_adj;
	__asm        push   eax;
	__asm        push   0;
	__asm        call   S3SoundAdjVol;
	__asm        add    esp, 8;
// LINE 3952:
_T2f3:
	__asm        jmp    _T2f8;
// LINE 3953:
_T2f8:
}

// FUNCTION: COPTER_D 0x004f5e67
void S3HeliSetSpotlite(struct _HELI_DATA* hd, int32_t maxobjy, int32_t alt, int32_t color) {
	struct VRview pos;
	struct _CELL_INFO* cptr;
	struct _CELL_INFO* ncptr;
	struct Point3d loc;
	long i;
	long spotlevel;
	int32_t dist;
	struct Point3d vstep;
	int32_t totdist;
	struct Point3d svec;
	int32_t scale;

// LINE 3979:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        jne    _T1e;
// LINE 3980:
	__asm        jmp    _T4b5;
// LINE 3983:
_T1e:
	__asm        mov    color, 1;
	__asm        mov    eax, color;
	__asm        mov    maxobjy, eax;
	__asm        mov    eax, maxobjy;
	__asm        mov    alt, eax;
// LINE 3985:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 3988:
	__asm        mov    eax, hd;
	__asm        add    eax, 0x100;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        call   MTCreateDOF4x4;
	__asm        add    esp, 8;
// LINE 3989:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        lea    eax, svec.x;
	__asm        push   eax;
	__asm        push   0x6071E0;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 3991:
	__asm        mov    eax, svec.x;
	__asm        shl    eax, 5;
	__asm        mov    vstep.x, eax;
// LINE 3992:
	__asm        mov    eax, svec.y;
	__asm        shl    eax, 5;
	__asm        mov    vstep.y, eax;
// LINE 3993:
	__asm        mov    eax, svec.z;
	__asm        shl    eax, 5;
	__asm        mov    vstep.z, eax;
// LINE 3996:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 3998:
	__asm        mov    totdist, 0;
// LINE 4002:
	__asm        mov    i, 0;
	__asm        jmp    _Td4;
_Td1:
	__asm        inc    i;
_Td4:
	__asm        cmp    i, 0x10;
	__asm        jge    _T1ce;
// LINE 4004:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, loc.z;
	__asm        shr    eax, 0x16;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, loc.x;
	__asm        add    ecx, 0x20000000;
	__asm        shr    ecx, 0x16;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        mov    cptr, eax;
// LINE 4005:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, loc.z;
	__asm        add    eax, vstep.z;
	__asm        shr    eax, 0x16;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, loc.x;
	__asm        add    ecx, vstep.x;
	__asm        add    ecx, 0x20000000;
	__asm        shr    ecx, 0x16;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        mov    ncptr, eax;
// LINE 4008:
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        push   0x200000;
	__asm        lea    eax, svec.x;
	__asm        push   eax;
	__asm        lea    eax, loc.x;
	__asm        push   eax;
	__asm        call   S3HeliSpotDistance;
	__asm        add    esp, 0x10;
	__asm        mov    dist, eax;
// LINE 4010:
	__asm        cmp    dist, 0;
	__asm        jle    _T173;
// LINE 4012:
	__asm        mov    eax, dist;
	__asm        add    totdist, eax;
// LINE 4014:
	__asm        jmp    _T1ce;
// LINE 4017:
_T173:
	__asm        mov    eax, cptr;
	__asm        cmp    ncptr, eax;
	__asm        je     _T19b;
// LINE 4018:
	__asm        mov    eax, ncptr;
	__asm        push   eax;
	__asm        push   0x200000;
	__asm        lea    eax, svec.x;
	__asm        push   eax;
	__asm        lea    eax, loc.x;
	__asm        push   eax;
	__asm        call   S3HeliSpotDistance;
	__asm        add    esp, 0x10;
	__asm        mov    dist, eax;
// LINE 4019:
_T19b:
	__asm        cmp    dist, 0;
	__asm        jle    _T1b0;
// LINE 4021:
	__asm        mov    eax, dist;
	__asm        add    totdist, eax;
// LINE 4023:
	__asm        jmp    _T1ce;
// LINE 4027:
_T1b0:
	__asm        mov    eax, vstep.x;
	__asm        add    loc.x, eax;
// LINE 4028:
	__asm        mov    eax, vstep.y;
	__asm        add    loc.y, eax;
// LINE 4029:
	__asm        mov    eax, vstep.z;
	__asm        add    loc.z, eax;
// LINE 4030:
	__asm        add    totdist, 0x200000;
// LINE 4032:
	__asm        jmp    _Td1;
// LINE 4036:
_T1ce:
	__asm        cmp    totdist, 0x2000000;
	__asm        jl     _T1e2;
// LINE 4040:
	__asm        mov    totdist, 0x1FF0000;
// LINE 4044:
_T1e2:
	__asm        mov    eax, S_spotdist;
	__asm        mov    ecx, eax;
	__asm        shl    eax, 3;
	__asm        sub    eax, ecx;
	__asm        add    eax, totdist;
	__asm        sar    eax, 3;
	__asm        mov    S_spotdist, eax;
// LINE 4047:
	__asm        cmp    S_spotdist, 0x800000;
	__asm        jg     _T215;
// LINE 4049:
	__asm        mov    spotlevel, 0;
// LINE 4051:
	__asm        jmp    _T254;
_T215:
	__asm        cmp    S_spotdist, 0x1000000;
	__asm        jg     _T231;
// LINE 4053:
	__asm        mov    spotlevel, 1;
// LINE 4055:
	__asm        jmp    _T254;
_T231:
	__asm        cmp    S_spotdist, 0x1800000;
	__asm        jg     _T24d;
// LINE 4057:
	__asm        mov    spotlevel, 2;
// LINE 4059:
	__asm        jmp    _T254;
// LINE 4061:
_T24d:
	__asm        mov    spotlevel, 3;
// LINE 4065:
_T254:
	__asm        mov    eax, hd;
	__asm        mov    ecx, spotlevel;
	__asm        cmp    [eax+0x140], ecx;
	__asm        je     _T31d;
// LINE 4071:
// Block start:
	struct VRFaceInfo finfo;
	int32_t face;
	struct VRObjInfo oinfo;
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 4072:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D85CD;
	__asm        add    esp, 4;
	__asm        mov    face, eax;
// LINE 4073:
	__asm        mov    i, 0;
	__asm        jmp    _T2ac;
_T2a9:
	__asm        inc    i;
_T2ac:
	__asm        mov    eax, i;
	__asm        cmp    oinfo.Faces, eax;
	__asm        jle    _T311;
// LINE 4075:
	__asm        lea    eax, finfo.Face;
	__asm        push   eax;
	__asm        mov    eax, face;
	__asm        push   eax;
	__asm        call   0x004D6905;
	__asm        add    esp, 8;
// LINE 4076:
	__asm        mov    eax, spotlevel;
	__asm        mov    eax, S_spotlevels[0][eax*4];
	__asm        mov    finfo.Bitmap, eax;
// LINE 4077:
	__asm        lea    eax, finfo.Face;
	__asm        push   eax;
	__asm        mov    eax, face;
	__asm        push   eax;
	__asm        call   0x004D6941;
	__asm        add    esp, 8;
// LINE 4078:
	__asm        mov    eax, face;
	__asm        push   eax;
	__asm        call   0x004D85F8;
	__asm        add    esp, 4;
	__asm        mov    face, eax;
// LINE 4079:
	__asm        jmp    _T2a9;
// LINE 4081:
_T311:
	__asm        mov    eax, spotlevel;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x140], eax;
// LINE 4085:
// Block end:
_T31d:
	__asm        mov    eax, S_spotdist;
	__asm        push   eax;
	__asm        mov    eax, svec.x;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    ecx, [ecx+0x18];
	__asm        add    ecx, eax;
	__asm        mov    pos.loc.x, ecx;
// LINE 4086:
	__asm        mov    eax, S_spotdist;
	__asm        push   eax;
	__asm        mov    eax, svec.z;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    ecx, [ecx+0x20];
	__asm        add    ecx, eax;
	__asm        mov    pos.loc.z, ecx;
// LINE 4087:
	__asm        mov    eax, S_spotdist;
	__asm        push   eax;
	__asm        mov    eax, svec.y;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    ecx, [ecx+0x1C];
	__asm        add    ecx, eax;
	__asm        mov    pos.loc.y, ecx;
// LINE 4089:
	__asm        lea    eax, pos.loc.x;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC0];
	__asm        add    ecx, 0x18;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4092:
	__asm        push   0x2000000;
	__asm        mov    eax, S_spotdist;
	__asm        push   eax;
	__asm        call   0x004D19DF;
	__asm        add    esp, 8;
	__asm        mov    scale, eax;
// LINE 4093:
	__asm        mov    eax, scale;
	__asm        lea    eax, [eax+eax*4];
	__asm        add    eax, eax;
	__asm        mov    scale, eax;
// LINE 4094:
	__asm        cmp    scale, 0x4CCC;
	__asm        jge    _T3e6;

	__asm        mov    scale, 0x4CCC;
// LINE 4095:
_T3e6:
	__asm        mov    eax, scale;
	__asm        mov    pos.scale.z, eax;
	__asm        mov    eax, pos.scale.z;
	__asm        mov    pos.scale.y, eax;
	__asm        mov    eax, pos.scale.y;
	__asm        mov    pos.scale.x, eax;
// LINE 4096:
	__asm        mov    eax, hd;
	__asm        mov    esi, [eax+0xC0];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 4102:
	__asm        push   1;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 4105:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+0x18];
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    S_spotloc.x, eax;
// LINE 4106:
	__asm        mov    eax, 0x20000000;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xC0];
	__asm        sub    eax, [ecx+0x20];
	__asm        sar    eax, 0x16;
	__asm        mov    S_spotloc.y, eax;
// LINE 4109:
	__asm        mov    eax, spotlevel;
	__asm        push   eax;
	__asm        push   0xFFFFFFFF;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        push   eax;
	__asm        push   0x6BF1B8;
	__asm        push   1;
	__asm        call   S3HeliHitSpiral;
	__asm        add    esp, 0x14;
// LINE 4112:
	__asm        cmp    G_camera_mode, 3;
	__asm        jne    _T4b5;
// LINE 4114:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 4115:
	__asm        jmp    _T4b5;
// LINE 4118:
_T4b5:
}

// FUNCTION: COPTER_D 0x004f6321
void S3HeliGetSpotLoc(struct Point2d* loc) {
// LINE 4130:
	__asm        mov    eax, S_spotloc.x;
	__asm        mov    ecx, loc;
	__asm        mov    [ecx], eax;
// LINE 4131:
	__asm        mov    eax, S_spotloc.y;
	__asm        mov    ecx, loc;
	__asm        mov    [ecx+4], eax;
// LINE 4132:
}

// FUNCTION: COPTER_D 0x004f6341
int32_t S3HeliSpotDistance(struct Point3d* spotloc, struct Point3d* spotvec, int32_t dist, struct _CELL_INFO* cptr) {
	int32_t newdist;
	struct Point3d oloc;
	struct Point3d center;
	struct _STOBJ_INST* stobj;
	struct Point3d cloc;
	struct VRObjInfo oinfo;

// LINE 4152:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+2];
	__asm        shl    eax, 0x10;
	__asm        mov    cloc.x, eax;
// LINE 4153:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+4];
	__asm        shl    eax, 0x10;
	__asm        mov    cloc.y, eax;
// LINE 4154:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+6];
	__asm        shl    eax, 0x10;
	__asm        mov    cloc.z, eax;
// LINE 4156:
	__asm        mov    eax, cptr;
	__asm        mov    eax, [eax+0xC];
	__asm        mov    stobj, eax;
// LINE 4158:
_T39:
	__asm        cmp    stobj, 0;
	__asm        je     _Tfd;
// LINE 4161:
	__asm        lea    eax, oinfo.Faces;
	__asm        push   eax;
	__asm        mov    eax, stobj;
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        call   0x004D8859;
	__asm        add    esp, 8;
// LINE 4162:
	__asm        lea    eax, center.x;
	__asm        push   eax;
	__asm        mov    eax, stobj;
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        call   0x004D88C3;
	__asm        add    esp, 8;
// LINE 4165:
	__asm        lea    eax, cloc.x;
	__asm        lea    ecx, oloc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4166:
	__asm        mov    eax, center.x;
	__asm        add    oloc.x, eax;
// LINE 4167:
	__asm        mov    eax, center.y;
	__asm        add    oloc.y, eax;
// LINE 4168:
	__asm        mov    eax, center.z;
	__asm        add    oloc.z, eax;
// LINE 4174:
	__asm        mov    eax, oinfo.Radius;
	__asm        push   eax;
	__asm        lea    eax, oloc.x;
	__asm        push   eax;
	__asm        mov    eax, dist;
	__asm        push   eax;
	__asm        mov    eax, spotvec;
	__asm        push   eax;
	__asm        mov    eax, spotloc;
	__asm        push   eax;
	__asm        call   S3MissileSphereHit;
	__asm        add    esp, 0x14;
	__asm        mov    newdist, eax;
// LINE 4178:
	__asm        cmp    newdist, 0;
	__asm        jle    _Tde;
// LINE 4185:
	__asm        push   0;
	__asm        mov    eax, stobj;
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        lea    eax, cloc.x;
	__asm        push   eax;
	__asm        mov    eax, dist;
	__asm        push   eax;
	__asm        mov    eax, spotvec;
	__asm        push   eax;
	__asm        mov    eax, spotloc;
	__asm        push   eax;
	__asm        call   VRStObjPolyHit;
	__asm        add    esp, 0x18;
	__asm        mov    newdist, eax;
// LINE 4188:
_Tde:
	__asm        cmp    newdist, 0;
	__asm        jle    _Tf0;
// LINE 4191:
	__asm        mov    eax, newdist;
	__asm        jmp    _T131;
// LINE 4196:
_Tf0:
	__asm        mov    eax, stobj;
	__asm        mov    eax, [eax];
	__asm        mov    stobj, eax;
// LINE 4197:
	__asm        jmp    _T39;
// LINE 4203:
_Tfd:
	__asm        lea    eax, cloc.x;
	__asm        push   eax;
	__asm        mov    eax, dist;
	__asm        push   eax;
	__asm        mov    eax, spotvec;
	__asm        push   eax;
	__asm        mov    eax, spotloc;
	__asm        push   eax;
	__asm        call   S3MissileGroundHit;
	__asm        add    esp, 0x10;
	__asm        mov    newdist, eax;
// LINE 4204:
	__asm        cmp    newdist, 0;
	__asm        jle    _T12a;
// LINE 4206:
	__asm        mov    eax, newdist;
	__asm        jmp    _T131;
// LINE 4209:
_T12a:
	__asm        xor    eax, eax;
	__asm        jmp    _T131;
// LINE 4210:
_T131:
}

// FUNCTION: COPTER_D 0x004f6477
void S3HeliRotateSpotLite(int32_t rotx, int32_t roty) {
// LINE 4254:
	__asm        mov    eax, rotx;
	__asm        add    G_SpotLiteXRotation, eax;
// LINE 4255:
	__asm        cmp    G_SpotLiteXRotation, 0x1F40000;
	__asm        jle    _T2e;
// LINE 4256:
	__asm        mov    G_SpotLiteXRotation, 0x1F40000;
// LINE 4257:
	__asm        jmp    _T48;
_T2e:
	__asm        cmp    G_SpotLiteXRotation, 0xFE0C0000;
	__asm        jge    _T48;
// LINE 4258:
	__asm        mov    G_SpotLiteXRotation, 0xFE0C0000;
// LINE 4260:
_T48:
	__asm        mov    eax, roty;
	__asm        add    G_SpotLiteYRotation, eax;
// LINE 4261:
	__asm        cmp    G_SpotLiteYRotation, 0x1F40000;
	__asm        jle    _T70;
// LINE 4262:
	__asm        mov    G_SpotLiteYRotation, 0x1F40000;
// LINE 4263:
	__asm        jmp    _T8a;
_T70:
	__asm        cmp    G_SpotLiteYRotation, 0xFE0C0000;
	__asm        jge    _T8a;
// LINE 4264:
	__asm        mov    G_SpotLiteYRotation, 0xFE0C0000;
// LINE 4266:
_T8a:
	__asm        push   0x607218;
	__asm        call   0x004D1FF1;
	__asm        add    esp, 4;
// LINE 4267:
	__asm        push   0x607218;
	__asm        mov    eax, G_SpotLiteXRotation;
	__asm        sub    eax, 0x1680000;
	__asm        push   eax;
	__asm        call   0x004D2004;
	__asm        add    esp, 8;
// LINE 4268:
	__asm        push   0x607218;
	__asm        mov    eax, G_SpotLiteYRotation;
	__asm        push   eax;
	__asm        call   0x004D201C;
	__asm        add    esp, 8;
// LINE 4269:
	__asm        push   0x607218;
	__asm        push   0x6071E0;
	__asm        push   0x59B518;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 4270:
}

// FUNCTION: COPTER_D 0x004f6555
void S3HeliTurbulence(struct _HELI_DATA* hd) {
	int32_t tfactor;
	int32_t ffactor;
	int32_t pitch;
	struct _HELI_TYPE_DATA* htd;
	int32_t firealt;
	int32_t yaw;
	struct _CELL_INFO* cptr;
	int32_t i;
	struct Point3d loc;
	int32_t slide;

// LINE 4292:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 4294:
	__asm        mov    G_camera_targ2firey, 0;
// LINE 4298:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x18];
	__asm        add    eax, 0x20000000;
	__asm        shr    eax, 0x16;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, 0x20000000;
	__asm        mov    edx, hd;
	__asm        mov    edx, [edx+0xA4];
	__asm        sub    ecx, [edx+0x20];
	__asm        shr    ecx, 0x16;
	__asm        and    ecx, 0xFF;
	__asm        mov    eax, G_omap[0][0][eax+ecx*4];
	__asm        mov    cptr, eax;
// LINE 4301:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x18];
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+2];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    loc.x, eax;
// LINE 4302:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x1C];
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+4];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    loc.y, eax;
// LINE 4303:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x20];
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+6];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    loc.z, eax;
// LINE 4306:
	__asm        lea    eax, loc.x;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3FireGetAltitude;
	__asm        add    esp, 8;
	__asm        mov    firealt, eax;
// LINE 4307:
	__asm        cmp    firealt, 0;
	__asm        je     _Tf9;

	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _Tf9;
// LINE 4309:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax+0x1C];
	__asm        sub    eax, firealt;
	__asm        mov    G_camera_targ2firey, eax;
// LINE 4313:
_Tf9:
	__asm        mov    eax, htd;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xD0];
	__asm        cmp    [eax+0x4C], ecx;
	__asm        jne    _T16a;

	__asm        cmp    firealt, 0;
	__asm        je     _T125;

	__asm        cmp    firealt, 0xFA0000;
	__asm        jle    _T16a;
// LINE 4322:
_T125:
	__asm        mov    tfactor, 3;
// LINE 4323:
	__asm        lea    edi, S_turbslide[1];
	__asm        lea    esi, S_turbslide[2];
	__asm        mov    ecx, 8;
	__asm        rep movsd;
// LINE 4324:
	__asm        lea    edi, S_turbpitch[1];
	__asm        lea    esi, S_turbpitch[2];
	__asm        mov    ecx, 8;
	__asm        rep movsd;
// LINE 4325:
	__asm        lea    edi, S_turbyaw[1];
	__asm        lea    esi, S_turbyaw[2];
	__asm        mov    ecx, 8;
	__asm        rep movsd;
// LINE 4326:
	__asm        jmp    _T27c;
// LINE 4330:
_T16a:
	__asm        lea    edi, S_turbslide[1];
	__asm        lea    esi, S_turbslide[2];
	__asm        mov    ecx, 8;
	__asm        rep movsd;
// LINE 4331:
	__asm        lea    edi, S_turbpitch[1];
	__asm        lea    esi, S_turbpitch[2];
	__asm        mov    ecx, 8;
	__asm        rep movsd;
// LINE 4332:
	__asm        lea    edi, S_turbyaw[1];
	__asm        lea    esi, S_turbyaw[2];
	__asm        mov    ecx, 8;
	__asm        rep movsd;
// LINE 4338:
	__asm        mov    ffactor, 0;
// LINE 4339:
	__asm        cmp    firealt, 0;
	__asm        je     _T24c;
// LINE 4342:
	__asm        mov    eax, S_htwk_firedmg_alt_min;
	__asm        cmp    firealt, eax;
	__asm        jl     _T216;

	__asm        mov    eax, S_htwk_firedmg_alt_max;
	__asm        cmp    firealt, eax;
	__asm        jg     _T216;

	__asm        cmp    G_CheatCodes[1], 0;
	__asm        jne    _T216;
// LINE 4344:
	__asm        xor    eax, eax;
	__asm        mov    ecx, S_htwk_firedmg_alt_max;
	__asm        sar    ecx, 0x10;
	__asm        mov    edx, firealt;
	__asm        sar    edx, 0x10;
	__asm        sub    ecx, edx;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0xD0], eax;
// LINE 4346:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   0x10;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 4353:
_T216:
	__asm        cmp    firealt, 0xFFD00000;
	__asm        jl     _T245;

	__asm        cmp    firealt, 0xFA0000;
	__asm        jg     _T245;
// LINE 4355:
	__asm        mov    eax, 0xFA;
	__asm        mov    ecx, firealt;
	__asm        sar    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    ffactor, eax;
// LINE 4357:
	__asm        jmp    _T24c;
// LINE 4359:
_T245:
	__asm        mov    ffactor, 0;
// LINE 4364:
_T24c:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x4C];
	__asm        mov    ecx, hd;
	__asm        sub    eax, [ecx+0xD0];
	__asm        mov    ecx, 0x14;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    ecx, ffactor;
	__asm        add    ecx, eax;
	__asm        mov    tfactor, ecx;
// LINE 4366:
	__asm        cmp    tfactor, 0;
	__asm        jg     _T27c;

	__asm        mov    tfactor, 1;
// LINE 4369:
calc_turbulence:
_T27c:
	__asm        call   rand;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   tfactor;
	__asm        mov    slide, edx;
// LINE 4370:
	__asm        call   rand;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        and    eax, 1;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        je     _T2ad;
// LINE 4371:
	__asm        mov    eax, slide;
	__asm        neg    eax;
	__asm        mov    slide, eax;
// LINE 4372:
_T2ad:
	__asm        call   rand;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   tfactor;
	__asm        mov    pitch, edx;
// LINE 4373:
	__asm        call   rand;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        and    eax, 1;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        je     _T2de;
// LINE 4374:
	__asm        mov    eax, pitch;
	__asm        neg    eax;
	__asm        mov    pitch, eax;
// LINE 4375:
_T2de:
	__asm        call   rand;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   tfactor;
	__asm        mov    yaw, edx;
// LINE 4376:
	__asm        call   rand;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        and    eax, 1;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        je     _T30f;
// LINE 4377:
	__asm        mov    eax, yaw;
	__asm        neg    eax;
	__asm        mov    yaw, eax;
// LINE 4380:
_T30f:
	__asm        mov    eax, slide;
	__asm        shl    eax, 0x10;
	__asm        mov    S_turbslide[9], eax;
// LINE 4381:
	__asm        mov    eax, yaw;
	__asm        shl    eax, 0x10;
	__asm        mov    S_turbyaw[9], eax;
// LINE 4382:
	__asm        mov    eax, pitch;
	__asm        shl    eax, 0x10;
	__asm        mov    S_turbpitch[9], eax;
// LINE 4385:
	__asm        mov    yaw, 0;
	__asm        mov    eax, yaw;
	__asm        mov    pitch, eax;
	__asm        mov    eax, pitch;
	__asm        mov    slide, eax;
// LINE 4386:
	__asm        mov    i, 1;
	__asm        jmp    _T352;
_T34f:
	__asm        inc    i;
_T352:
	__asm        cmp    i, 0xA;
	__asm        jge    _T388;
// LINE 4388:
	__asm        mov    eax, i;
	__asm        mov    eax, S_turbslide[eax*4];
	__asm        add    slide, eax;
// LINE 4389:
	__asm        mov    eax, i;
	__asm        mov    eax, S_turbyaw[eax*4];
	__asm        add    yaw, eax;
// LINE 4390:
	__asm        mov    eax, i;
	__asm        mov    eax, S_turbpitch[eax*4];
	__asm        add    pitch, eax;
// LINE 4391:
	__asm        jmp    _T34f;
// LINE 4394:
_T388:
	__asm        mov    ecx, 9;
	__asm        mov    eax, slide;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    S_turbslide[0], eax;
// LINE 4395:
	__asm        mov    ecx, 9;
	__asm        mov    eax, yaw;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    S_turbyaw[0], eax;
// LINE 4396:
	__asm        mov    ecx, 9;
	__asm        mov    eax, pitch;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    S_turbpitch[0], eax;
// LINE 4398:
}

// FUNCTION: COPTER_D 0x004f6912
void S3HeliSmokeTrail(struct _HELI_DATA* hd) {
	struct _HELI_TYPE_DATA* htd;
	struct _CELL_INFO* cptr;
	struct Point3d loc;
	struct Point3d vec;
	int32_t mat[4][4];
	int32_t speed;
	long scale;

// LINE 4417:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 4419:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1C];
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x18];
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        mov    cptr, eax;
// LINE 4423:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 5;
	__asm        jne    _T38a;
// LINE 4425:
	__asm        xor    eax, eax;
	__asm        sub    eax, G_AvLoopTime;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0x16C], eax;
// LINE 4426:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x16C], 0;
	__asm        jge    _T81;
// LINE 4427:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x16C], 0x11999;
// LINE 4429:
_T81:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x16C], 0x10000;
	__asm        jle    _Tb4;
// LINE 4430:
	__asm        push   5;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionSmokeStart;
	__asm        add    esp, 0xC;
// LINE 4431:
	__asm        jmp    _T148;
_Tb4:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x16C], 0xE666;
	__asm        jle    _Te7;
// LINE 4432:
	__asm        push   4;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionSmokeStart;
	__asm        add    esp, 0xC;
// LINE 4433:
	__asm        jmp    _T148;
_Te7:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x16C], 0x1999;
	__asm        jge    _T11a;
// LINE 4434:
	__asm        push   2;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionSmokeStart;
	__asm        add    esp, 0xC;
// LINE 4435:
	__asm        jmp    _T148;
_T11a:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x16C], 0x3333;
	__asm        jge    _T148;
// LINE 4436:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionSmokeStart;
	__asm        add    esp, 0xC;
// LINE 4439:
_T148:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x168];
	__asm        cmp    dword ptr [eax+8], 0;
	__asm        jge    _T385;

	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x168];
	__asm        cmp    dword ptr [eax+0x38], 1;
	__asm        jne    _T385;
// LINE 4441:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4443:
	__asm        call   rand;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        and    eax, 3;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        inc    eax;
	__asm        mov    scale, eax;
// LINE 4445:
	__asm        cmp    G_camera_mode, 1;
	__asm        jne    _T1f0;
// LINE 4447:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        push   0x59B518;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 4448:
	__asm        mov    eax, vec.x;
	__asm        shl    eax, 4;
	__asm        add    loc.x, eax;
// LINE 4449:
	__asm        mov    eax, vec.y;
	__asm        shl    eax, 4;
	__asm        add    loc.y, eax;
// LINE 4450:
	__asm        mov    eax, vec.z;
	__asm        shl    eax, 4;
	__asm        add    loc.z, eax;
// LINE 4452:
	__asm        jmp    _T247;
// LINE 4454:
_T1f0:
	__asm        mov    ebx, 0xA;
	__asm        call   rand;
	__asm        mov    ecx, 0x14;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        sub    ebx, edx;
	__asm        shl    ebx, 0x10;
	__asm        add    loc.x, ebx;
// LINE 4455:
	__asm        mov    ebx, 0xA;
	__asm        call   rand;
	__asm        mov    ecx, 0x14;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        sub    ebx, edx;
	__asm        shl    ebx, 0x10;
	__asm        add    loc.y, ebx;
// LINE 4456:
	__asm        mov    ebx, 0xA;
	__asm        call   rand;
	__asm        mov    ecx, 0x14;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        sub    ebx, edx;
	__asm        shl    ebx, 0x10;
	__asm        add    loc.z, ebx;
// LINE 4459:
_T247:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x168];
	__asm        mov    dword ptr [eax+8], 0xCCCC;
// LINE 4461:
	__asm        call   rand;
	__asm        mov    ecx, 6;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        test   edx, edx;
	__asm        jne    _T320;
// LINE 4463:
	__asm        call   rand;
	__asm        mov    ecx, 0x64;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    eax, edx;
	__asm        shl    eax, 0x10;
	__asm        add    eax, 0x320000;
	__asm        mov    speed, eax;
// LINE 4464:
	__asm        lea    eax, mat[0][0];
	__asm        push   eax;
	__asm        call   0x004D1FF1;
	__asm        add    esp, 4;
// LINE 4465:
	__asm        lea    eax, mat[0][0];
	__asm        push   eax;
	__asm        call   rand;
	__asm        mov    ecx, 0xE10;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    eax, edx;
	__asm        shl    eax, 0x10;
	__asm        push   eax;
	__asm        call   0x004D201C;
	__asm        add    esp, 8;
// LINE 4466:
	__asm        lea    eax, mat[0][0];
	__asm        push   eax;
	__asm        call   rand;
	__asm        mov    ecx, 0xC8;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        lea    eax, [edx+0x28A];
	__asm        shl    eax, 0x10;
	__asm        push   eax;
	__asm        call   0x004D2004;
	__asm        add    esp, 8;
// LINE 4467:
	__asm        lea    eax, mat[0][0];
	__asm        push   eax;
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        push   0x59B518;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 4478:
	__asm        push   0xFFFFFFFF;
	__asm        mov    eax, speed;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        push   eax;
	__asm        push   3;
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        lea    eax, loc.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   4;
	__asm        call   S3MissileStart;
	__asm        add    esp, 0x20;
// LINE 4485:
_T320:
	__asm        push   0xFFFFFFFF;
	__asm        mov    eax, scale;
	__asm        push   eax;
	__asm        mov    eax, loc.z;
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+6];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        push   eax;
	__asm        mov    eax, loc.y;
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+4];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        push   eax;
	__asm        mov    eax, loc.x;
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+2];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionStart;
	__asm        add    esp, 0x18;
// LINE 4487:
	__asm        cmp    scale, 0;
	__asm        jle    _T385;
// LINE 4490:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   4;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 4494:
_T385:
	__asm        jmp    _T457;
// LINE 4498:
_T38a:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 6;
	__asm        jne    _T39c;
// LINE 4500:
	__asm        jmp    _T457;
// LINE 4504:
_T39c:
	__asm        mov    eax, hd;
	__asm        mov    ecx, htd;
	__asm        mov    ecx, [ecx+0x4C];
	__asm        cmp    [eax+0xD0], ecx;
	__asm        jl     _T3b6;
// LINE 4506:
	__asm        jmp    _T457;
// LINE 4509:
_T3b6:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jne    _T3c8;
// LINE 4510:
	__asm        jmp    _T457;
// LINE 4516:
_T3c8:
	__asm        mov    eax, hd;
	__asm        inc    dword ptr [eax+0xD4];
// LINE 4517:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0xD4], 7;
	__asm        jle    _T43c;
// LINE 4519:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xD0];
	__asm        sar    eax, 3;
	__asm        add    eax, 7;
	__asm        mov    ecx, hd;
	__asm        cmp    eax, [ecx+0xD4];
	__asm        jg     _T437;
// LINE 4522:
	__asm        push   0xE;
	__asm        call   S3SoundIsPlaying;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T42a;
// LINE 4523:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   0xE;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 4525:
_T42a:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xD4], 0;
// LINE 4527:
_T437:
	__asm        jmp    _T457;
// LINE 4530:
_T43c:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionSmokeStart;
	__asm        add    esp, 0xC;
// LINE 4532:
_T457:
}

// FUNCTION: COPTER_D 0x004f6d6e
void S3HeliReset() {
// LINE 4544:
	__asm        mov    edi, 0x5B4940;
	__asm        xor    eax, eax;
	__asm        mov    ecx, 0xA;
	__asm        rep stosd;
// LINE 4545:
}

// FUNCTION: COPTER_D 0x004f6d87
void S3HeliTweakInit() {
	int32_t * pvals[14];
	struct _HELI_TYPE_DATA* htd;

// LINE 4560:
	__asm        mov    htd, 0x5B4978;
// LINE 4562:
	__asm        mov    eax, htd;
	__asm        add    eax, 0xC;
	__asm        mov    pvals[0], eax;
// LINE 4563:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x10;
	__asm        mov    pvals[1], eax;
// LINE 4564:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x14;
	__asm        mov    pvals[2], eax;
// LINE 4565:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x1C;
	__asm        mov    pvals[3], eax;
// LINE 4566:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x20;
	__asm        mov    pvals[4], eax;
// LINE 4567:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x24;
	__asm        mov    pvals[5], eax;
// LINE 4568:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x28;
	__asm        mov    pvals[6], eax;
// LINE 4569:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x2C;
	__asm        mov    pvals[7], eax;
// LINE 4570:
	__asm        mov    eax, htd;
	__asm        add    eax, 8;
	__asm        mov    pvals[8], eax;
// LINE 4571:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x18;
	__asm        mov    pvals[9], eax;
// LINE 4572:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x44;
	__asm        mov    pvals[10], eax;
// LINE 4573:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x48;
	__asm        mov    pvals[11], eax;
// LINE 4574:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x4C;
	__asm        mov    pvals[12], eax;
// LINE 4575:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x40;
	__asm        mov    pvals[13], eax;
// LINE 4577:
	__asm        push   0x5B4CC4;
	__asm        push   0xE;
	__asm        lea    eax, pvals[0];
	__asm        push   eax;
	__asm        call   TWKEnQueue;
	__asm        add    esp, 0xC;
// LINE 4579:
	__asm        mov    eax, 0x5B4978;
	__asm        add    eax, 0x58;
	__asm        mov    htd, eax;
// LINE 4581:
	__asm        mov    eax, htd;
	__asm        add    eax, 0xC;
	__asm        mov    pvals[0], eax;
// LINE 4582:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x10;
	__asm        mov    pvals[1], eax;
// LINE 4583:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x14;
	__asm        mov    pvals[2], eax;
// LINE 4584:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x1C;
	__asm        mov    pvals[3], eax;
// LINE 4585:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x20;
	__asm        mov    pvals[4], eax;
// LINE 4586:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x24;
	__asm        mov    pvals[5], eax;
// LINE 4587:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x28;
	__asm        mov    pvals[6], eax;
// LINE 4588:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x2C;
	__asm        mov    pvals[7], eax;
// LINE 4589:
	__asm        mov    eax, htd;
	__asm        add    eax, 8;
	__asm        mov    pvals[8], eax;
// LINE 4590:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x18;
	__asm        mov    pvals[9], eax;
// LINE 4591:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x44;
	__asm        mov    pvals[10], eax;
// LINE 4592:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x48;
	__asm        mov    pvals[11], eax;
// LINE 4593:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x4C;
	__asm        mov    pvals[12], eax;
// LINE 4594:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x40;
	__asm        mov    pvals[13], eax;
// LINE 4596:
	__asm        push   0x5B4CD0;
	__asm        push   0xE;
	__asm        lea    eax, pvals[0];
	__asm        push   eax;
	__asm        call   TWKEnQueue;
	__asm        add    esp, 0xC;
// LINE 4598:
	__asm        mov    eax, 0x5B4978;
	__asm        add    eax, 0xB0;
	__asm        mov    htd, eax;
// LINE 4600:
	__asm        mov    eax, htd;
	__asm        add    eax, 0xC;
	__asm        mov    pvals[0], eax;
// LINE 4601:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x10;
	__asm        mov    pvals[1], eax;
// LINE 4602:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x14;
	__asm        mov    pvals[2], eax;
// LINE 4603:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x1C;
	__asm        mov    pvals[3], eax;
// LINE 4604:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x20;
	__asm        mov    pvals[4], eax;
// LINE 4605:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x24;
	__asm        mov    pvals[5], eax;
// LINE 4606:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x28;
	__asm        mov    pvals[6], eax;
// LINE 4607:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x2C;
	__asm        mov    pvals[7], eax;
// LINE 4608:
	__asm        mov    eax, htd;
	__asm        add    eax, 8;
	__asm        mov    pvals[8], eax;
// LINE 4609:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x18;
	__asm        mov    pvals[9], eax;
// LINE 4610:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x44;
	__asm        mov    pvals[10], eax;
// LINE 4611:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x48;
	__asm        mov    pvals[11], eax;
// LINE 4612:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x4C;
	__asm        mov    pvals[12], eax;
// LINE 4613:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x40;
	__asm        mov    pvals[13], eax;
// LINE 4615:
	__asm        push   0x5B4CDC;
	__asm        push   0xE;
	__asm        lea    eax, pvals[0];
	__asm        push   eax;
	__asm        call   TWKEnQueue;
	__asm        add    esp, 0xC;
// LINE 4617:
	__asm        mov    eax, 0x5B4978;
	__asm        add    eax, 0x108;
	__asm        mov    htd, eax;
// LINE 4619:
	__asm        mov    eax, htd;
	__asm        add    eax, 0xC;
	__asm        mov    pvals[0], eax;
// LINE 4620:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x10;
	__asm        mov    pvals[1], eax;
// LINE 4621:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x14;
	__asm        mov    pvals[2], eax;
// LINE 4622:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x1C;
	__asm        mov    pvals[3], eax;
// LINE 4623:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x20;
	__asm        mov    pvals[4], eax;
// LINE 4624:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x24;
	__asm        mov    pvals[5], eax;
// LINE 4625:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x28;
	__asm        mov    pvals[6], eax;
// LINE 4626:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x2C;
	__asm        mov    pvals[7], eax;
// LINE 4627:
	__asm        mov    eax, htd;
	__asm        add    eax, 8;
	__asm        mov    pvals[8], eax;
// LINE 4628:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x18;
	__asm        mov    pvals[9], eax;
// LINE 4629:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x44;
	__asm        mov    pvals[10], eax;
// LINE 4630:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x48;
	__asm        mov    pvals[11], eax;
// LINE 4631:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x4C;
	__asm        mov    pvals[12], eax;
// LINE 4632:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x40;
	__asm        mov    pvals[13], eax;
// LINE 4634:
	__asm        push   0x5B4CE4;
	__asm        push   0xE;
	__asm        lea    eax, pvals[0];
	__asm        push   eax;
	__asm        call   TWKEnQueue;
	__asm        add    esp, 0xC;
// LINE 4636:
	__asm        mov    eax, 0x5B4978;
	__asm        add    eax, 0x160;
	__asm        mov    htd, eax;
// LINE 4638:
	__asm        mov    eax, htd;
	__asm        add    eax, 0xC;
	__asm        mov    pvals[0], eax;
// LINE 4639:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x10;
	__asm        mov    pvals[1], eax;
// LINE 4640:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x14;
	__asm        mov    pvals[2], eax;
// LINE 4641:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x1C;
	__asm        mov    pvals[3], eax;
// LINE 4642:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x20;
	__asm        mov    pvals[4], eax;
// LINE 4643:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x24;
	__asm        mov    pvals[5], eax;
// LINE 4644:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x28;
	__asm        mov    pvals[6], eax;
// LINE 4645:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x2C;
	__asm        mov    pvals[7], eax;
// LINE 4646:
	__asm        mov    eax, htd;
	__asm        add    eax, 8;
	__asm        mov    pvals[8], eax;
// LINE 4647:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x18;
	__asm        mov    pvals[9], eax;
// LINE 4648:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x44;
	__asm        mov    pvals[10], eax;
// LINE 4649:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x48;
	__asm        mov    pvals[11], eax;
// LINE 4650:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x4C;
	__asm        mov    pvals[12], eax;
// LINE 4651:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x40;
	__asm        mov    pvals[13], eax;
// LINE 4653:
	__asm        push   0x5B4CF0;
	__asm        push   0xE;
	__asm        lea    eax, pvals[0];
	__asm        push   eax;
	__asm        call   TWKEnQueue;
	__asm        add    esp, 0xC;
// LINE 4655:
	__asm        mov    eax, 0x5B4978;
	__asm        add    eax, 0x1B8;
	__asm        mov    htd, eax;
// LINE 4657:
	__asm        mov    eax, htd;
	__asm        add    eax, 0xC;
	__asm        mov    pvals[0], eax;
// LINE 4658:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x10;
	__asm        mov    pvals[1], eax;
// LINE 4659:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x14;
	__asm        mov    pvals[2], eax;
// LINE 4660:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x1C;
	__asm        mov    pvals[3], eax;
// LINE 4661:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x20;
	__asm        mov    pvals[4], eax;
// LINE 4662:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x24;
	__asm        mov    pvals[5], eax;
// LINE 4663:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x28;
	__asm        mov    pvals[6], eax;
// LINE 4664:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x2C;
	__asm        mov    pvals[7], eax;
// LINE 4665:
	__asm        mov    eax, htd;
	__asm        add    eax, 8;
	__asm        mov    pvals[8], eax;
// LINE 4666:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x18;
	__asm        mov    pvals[9], eax;
// LINE 4667:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x44;
	__asm        mov    pvals[10], eax;
// LINE 4668:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x48;
	__asm        mov    pvals[11], eax;
// LINE 4669:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x4C;
	__asm        mov    pvals[12], eax;
// LINE 4670:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x40;
	__asm        mov    pvals[13], eax;
// LINE 4672:
	__asm        push   0x5B4D00;
	__asm        push   0xE;
	__asm        lea    eax, pvals[0];
	__asm        push   eax;
	__asm        call   TWKEnQueue;
	__asm        add    esp, 0xC;
// LINE 4674:
	__asm        mov    eax, 0x5B4978;
	__asm        add    eax, 0x210;
	__asm        mov    htd, eax;
// LINE 4676:
	__asm        mov    eax, htd;
	__asm        add    eax, 0xC;
	__asm        mov    pvals[0], eax;
// LINE 4677:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x10;
	__asm        mov    pvals[1], eax;
// LINE 4678:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x14;
	__asm        mov    pvals[2], eax;
// LINE 4679:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x1C;
	__asm        mov    pvals[3], eax;
// LINE 4680:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x20;
	__asm        mov    pvals[4], eax;
// LINE 4681:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x24;
	__asm        mov    pvals[5], eax;
// LINE 4682:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x28;
	__asm        mov    pvals[6], eax;
// LINE 4683:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x2C;
	__asm        mov    pvals[7], eax;
// LINE 4684:
	__asm        mov    eax, htd;
	__asm        add    eax, 8;
	__asm        mov    pvals[8], eax;
// LINE 4685:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x18;
	__asm        mov    pvals[9], eax;
// LINE 4686:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x44;
	__asm        mov    pvals[10], eax;
// LINE 4687:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x48;
	__asm        mov    pvals[11], eax;
// LINE 4688:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x4C;
	__asm        mov    pvals[12], eax;
// LINE 4689:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x40;
	__asm        mov    pvals[13], eax;
// LINE 4691:
	__asm        push   0x5B4D08;
	__asm        push   0xE;
	__asm        lea    eax, pvals[0];
	__asm        push   eax;
	__asm        call   TWKEnQueue;
	__asm        add    esp, 0xC;
// LINE 4693:
	__asm        mov    eax, 0x5B4978;
	__asm        add    eax, 0x268;
	__asm        mov    htd, eax;
// LINE 4695:
	__asm        mov    eax, htd;
	__asm        add    eax, 0xC;
	__asm        mov    pvals[0], eax;
// LINE 4696:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x10;
	__asm        mov    pvals[1], eax;
// LINE 4697:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x14;
	__asm        mov    pvals[2], eax;
// LINE 4698:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x1C;
	__asm        mov    pvals[3], eax;
// LINE 4699:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x20;
	__asm        mov    pvals[4], eax;
// LINE 4700:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x24;
	__asm        mov    pvals[5], eax;
// LINE 4701:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x28;
	__asm        mov    pvals[6], eax;
// LINE 4702:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x2C;
	__asm        mov    pvals[7], eax;
// LINE 4703:
	__asm        mov    eax, htd;
	__asm        add    eax, 8;
	__asm        mov    pvals[8], eax;
// LINE 4704:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x18;
	__asm        mov    pvals[9], eax;
// LINE 4705:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x44;
	__asm        mov    pvals[10], eax;
// LINE 4706:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x48;
	__asm        mov    pvals[11], eax;
// LINE 4707:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x4C;
	__asm        mov    pvals[12], eax;
// LINE 4708:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x40;
	__asm        mov    pvals[13], eax;
// LINE 4710:
	__asm        push   0x5B4D10;
	__asm        push   0xE;
	__asm        lea    eax, pvals[0];
	__asm        push   eax;
	__asm        call   TWKEnQueue;
	__asm        add    esp, 0xC;
// LINE 4712:
	__asm        mov    eax, 0x5B4978;
	__asm        add    eax, 0x2C0;
	__asm        mov    htd, eax;
// LINE 4714:
	__asm        mov    eax, htd;
	__asm        add    eax, 0xC;
	__asm        mov    pvals[0], eax;
// LINE 4715:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x10;
	__asm        mov    pvals[1], eax;
// LINE 4716:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x14;
	__asm        mov    pvals[2], eax;
// LINE 4717:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x1C;
	__asm        mov    pvals[3], eax;
// LINE 4718:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x20;
	__asm        mov    pvals[4], eax;
// LINE 4719:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x24;
	__asm        mov    pvals[5], eax;
// LINE 4720:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x28;
	__asm        mov    pvals[6], eax;
// LINE 4721:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x2C;
	__asm        mov    pvals[7], eax;
// LINE 4722:
	__asm        mov    eax, htd;
	__asm        add    eax, 8;
	__asm        mov    pvals[8], eax;
// LINE 4723:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x18;
	__asm        mov    pvals[9], eax;
// LINE 4724:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x44;
	__asm        mov    pvals[10], eax;
// LINE 4725:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x48;
	__asm        mov    pvals[11], eax;
// LINE 4726:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x4C;
	__asm        mov    pvals[12], eax;
// LINE 4727:
	__asm        mov    eax, htd;
	__asm        add    eax, 0x40;
	__asm        mov    pvals[13], eax;
// LINE 4729:
	__asm        push   0x5B4D1C;
	__asm        push   0xE;
	__asm        lea    eax, pvals[0];
	__asm        push   eax;
	__asm        call   TWKEnQueue;
	__asm        add    esp, 0xC;
// LINE 4731:
	__asm        mov    pvals[0], 0x5B48C4;
// LINE 4732:
	__asm        mov    pvals[1], 0x5B48C8;
// LINE 4733:
	__asm        mov    pvals[2], 0x5B48CC;
// LINE 4734:
	__asm        mov    pvals[3], 0x5B48C0;
// LINE 4735:
	__asm        mov    pvals[4], 0x5B48D0;
// LINE 4737:
	__asm        push   0x5B4D24;
	__asm        push   5;
	__asm        lea    eax, pvals[0];
	__asm        push   eax;
	__asm        call   TWKEnQueue;
	__asm        add    esp, 0xC;
// LINE 4739:
	__asm        mov    pvals[0], 0x5B48D4;
// LINE 4740:
	__asm        mov    pvals[1], 0x5B48D8;
// LINE 4741:
	__asm        mov    pvals[2], 0x5B48DC;
// LINE 4742:
	__asm        mov    pvals[3], 0x5B48E0;
// LINE 4743:
	__asm        mov    pvals[4], 0x5B48E4;
// LINE 4744:
	__asm        mov    pvals[5], 0x5B48E8;
// LINE 4746:
	__asm        push   0x5B4D34;
	__asm        push   6;
	__asm        lea    eax, pvals[0];
	__asm        push   eax;
	__asm        call   TWKEnQueue;
	__asm        add    esp, 0xC;
// LINE 4748:
	__asm        mov    pvals[0], 0x5B48EC;
// LINE 4749:
	__asm        mov    pvals[1], 0x5B48F0;
// LINE 4750:
	__asm        mov    pvals[2], 0x5B48FC;
// LINE 4751:
	__asm        mov    pvals[3], 0x5B48F8;
// LINE 4753:
	__asm        push   0x5B4D44;
	__asm        push   4;
	__asm        lea    eax, pvals[0];
	__asm        push   eax;
	__asm        call   TWKEnQueue;
	__asm        add    esp, 0xC;
// LINE 4754:
}

// FUNCTION: COPTER_D 0x004f73bd
int32_t S3HeliGetRepairRate(struct _HELI_DATA* hd) {
	struct _HELI_TYPE_DATA* htd;

// LINE 4763:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 4764:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x50];
	__asm        jmp    near ptr 0x004F73E8;
// LINE 4765:
}

// FUNCTION: COPTER_D 0x004f73ed
int32_t S3HeliGetFuelRate(struct _HELI_DATA* hd) {
	struct _HELI_TYPE_DATA* htd;

// LINE 4771:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 4772:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x54];
	__asm        jmp    near ptr 0x004F7418;
// LINE 4773:
}

// FUNCTION: COPTER_D 0x004f741d
long S3GetFullRepairCost(struct _HELI_DATA* hd) {
	int32_t max_damage;
	int32_t current_damage;
	int32_t repair_rate;

// LINE 4784:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliGetRepairRate;
	__asm        add    esp, 4;
	__asm        mov    repair_rate, eax;
// LINE 4785:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xD0];
	__asm        mov    current_damage, eax;
// LINE 4786:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliGetMaximumDamage;
	__asm        add    esp, 4;
	__asm        mov    max_damage, eax;
// LINE 4787:
	__asm        mov    eax, repair_rate;
	__asm        push   eax;
	__asm        mov    eax, max_damage;
	__asm        sub    eax, current_damage;
	__asm        shl    eax, 0x10;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sar    eax, 0x10;
	__asm        jmp    near ptr 0x004F746E;
// LINE 4788:
}

// FUNCTION: COPTER_D 0x004f7473
void S3HeliPurchaseRepairs(struct _HELI_DATA* hd, long lPurchaseBucks) {
	int32_t max_damage;
	int32_t current_damage;
	int32_t repair_rate;

// LINE 4804:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliGetRepairRate;
	__asm        add    esp, 4;
	__asm        mov    repair_rate, eax;
// LINE 4805:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xD0];
	__asm        mov    current_damage, eax;
// LINE 4806:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliGetMaximumDamage;
	__asm        add    esp, 4;
	__asm        mov    max_damage, eax;
// LINE 4808:
	__asm        mov    eax, repair_rate;
	__asm        push   eax;
	__asm        mov    eax, lPurchaseBucks;
	__asm        shl    eax, 0x10;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sar    eax, 0x10;
	__asm        add    eax, current_damage;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xD0], eax;
// LINE 4809:
	__asm        mov    eax, hd;
	__asm        mov    ecx, max_damage;
	__asm        cmp    [eax+0xD0], ecx;
	__asm        jle    _T73;
// LINE 4810:
	__asm        mov    eax, max_damage;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xD0], eax;
// LINE 4811:
_T73:
}

// FUNCTION: COPTER_D 0x004f74eb
long S3GetFullRefuelCost(struct _HELI_DATA* hd) {
	int32_t max_fuel;
	int32_t current_fuel;
	int32_t fuel_purchase_rate;

// LINE 4824:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliGetFuelRate;
	__asm        add    esp, 4;
	__asm        mov    fuel_purchase_rate, eax;
// LINE 4825:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x320];
	__asm        mov    current_fuel, eax;
// LINE 4826:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliGetMaximumFuel;
	__asm        add    esp, 4;
	__asm        mov    max_fuel, eax;
// LINE 4827:
	__asm        mov    eax, fuel_purchase_rate;
	__asm        push   eax;
	__asm        mov    eax, max_fuel;
	__asm        sub    eax, current_fuel;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sar    eax, 0x10;
	__asm        jmp    near ptr 0x004F7539;
// LINE 4828:
}

// FUNCTION: COPTER_D 0x004f753e
void S3HeliPurchaseFuel(struct _HELI_DATA* hd, long lPurchaseBucks) {
	int32_t max_fuel;
	int32_t current_fuel;
	int32_t fuel_purchase_rate;

// LINE 4843:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliGetFuelRate;
	__asm        add    esp, 4;
	__asm        mov    fuel_purchase_rate, eax;
// LINE 4844:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x320];
	__asm        mov    current_fuel, eax;
// LINE 4845:
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliGetMaximumFuel;
	__asm        add    esp, 4;
	__asm        mov    max_fuel, eax;
// LINE 4847:
	__asm        mov    eax, fuel_purchase_rate;
	__asm        push   eax;
	__asm        mov    eax, lPurchaseBucks;
	__asm        shl    eax, 0x10;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, current_fuel;
	__asm        add    ecx, eax;
	__asm        mov    eax, hd;
	__asm        mov    [eax+0x320], ecx;
// LINE 4848:
	__asm        mov    eax, hd;
	__asm        mov    ecx, max_fuel;
	__asm        cmp    [eax+0x320], ecx;
	__asm        jle    _T72;
// LINE 4849:
	__asm        mov    eax, max_fuel;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x320], eax;
// LINE 4850:
_T72:
}

// FUNCTION: COPTER_D 0x004f75b5
int32_t S3HeliGetMaximumDamage(struct _HELI_DATA* hd) {
	struct _HELI_TYPE_DATA* htd;

// LINE 4858:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 4859:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x4C];
	__asm        jmp    near ptr 0x004F75E0;
// LINE 4860:
}

// FUNCTION: COPTER_D 0x004f75e5
int32_t S3HeliGetCurrentDamage(struct _HELI_DATA* hd) {
// LINE 4867:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xD0];
	__asm        jmp    near ptr 0x004F75F9;
// LINE 4868:
}

// FUNCTION: COPTER_D 0x004f75fe
int32_t S3HeliGetMaximumFuel(struct _HELI_DATA* hd) {
	struct _HELI_TYPE_DATA* htd;

// LINE 4875:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 4876:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x40];
	__asm        jmp    near ptr 0x004F7629;
// LINE 4877:
}

// FUNCTION: COPTER_D 0x004f762e
void S3HeliCommand(int32_t nCommand) {
// LINE 4889:
	__asm        cmp    nCommand, 3;
	__asm        jne    _Tc5;
// LINE 4891:
	__asm        mov    eax, G_uheli;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jne    _Tc0;
// LINE 4893:
	__asm        push   0;
	__asm        mov    eax, G_uheli;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   0x2B;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 4894:
	__asm        call   S3HeliUserExit;
// LINE 4895:
	__asm        mov    eax, G_uheli;
	__asm        mov    dword ptr [eax+8], 0;
// LINE 4896:
	__asm        mov    G_camera_mode, 3;
// LINE 4897:
	__asm        push   1;
	__asm        mov    eax, G_uheli;
	__asm        mov    eax, [eax+0xA8];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 4898:
	__asm        push   1;
	__asm        mov    eax, G_uheli;
	__asm        mov    eax, [eax+0xB4];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 4899:
	__asm        push   1;
	__asm        mov    eax, G_uheli;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D6970;
	__asm        add    esp, 8;
// LINE 4900:
	__asm        push   0;
	__asm        mov    eax, G_uheli;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   0x2C;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 4901:
	__asm        jmp    _T1e8;
// LINE 4904:
_Tc0:
	__asm        jmp    _T1e8;
_Tc5:
	__asm        cmp    nCommand, 0x15;
	__asm        jne    _T10f;
// LINE 4906:
	__asm        mov    eax, 0x20000000;
	__asm        mov    ecx, G_uheli;
	__asm        mov    ecx, [ecx+0xC0];
	__asm        sub    eax, [ecx+0x20];
	__asm        sar    eax, 0x16;
	__asm        push   eax;
	__asm        mov    eax, G_uheli;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+0x18];
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        push   eax;
	__asm        push   4;
	__asm        push   1;
	__asm        call   DispatchEmergencyVehicle;
	__asm        add    esp, 0x10;
// LINE 4908:
	__asm        jmp    _T1e8;
_T10f:
	__asm        cmp    nCommand, 0x16;
	__asm        jne    _T159;
// LINE 4910:
	__asm        mov    eax, 0x20000000;
	__asm        mov    ecx, G_uheli;
	__asm        mov    ecx, [ecx+0xC0];
	__asm        sub    eax, [ecx+0x20];
	__asm        sar    eax, 0x16;
	__asm        push   eax;
	__asm        mov    eax, G_uheli;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+0x18];
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        push   eax;
	__asm        push   4;
	__asm        push   2;
	__asm        call   DispatchEmergencyVehicle;
	__asm        add    esp, 0x10;
// LINE 4912:
	__asm        jmp    _T1e8;
_T159:
	__asm        cmp    nCommand, 0x17;
	__asm        jne    _T1a3;
// LINE 4914:
	__asm        mov    eax, 0x20000000;
	__asm        mov    ecx, G_uheli;
	__asm        mov    ecx, [ecx+0xC0];
	__asm        sub    eax, [ecx+0x20];
	__asm        sar    eax, 0x16;
	__asm        push   eax;
	__asm        mov    eax, G_uheli;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+0x18];
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        push   eax;
	__asm        push   4;
	__asm        push   4;
	__asm        call   DispatchEmergencyVehicle;
	__asm        add    esp, 0x10;
// LINE 4916:
	__asm        jmp    _T1e8;
_T1a3:
	__asm        cmp    nCommand, 0x18;
	__asm        jne    _T1e8;
// LINE 4918:
	__asm        mov    eax, 0x20000000;
	__asm        mov    ecx, G_uheli;
	__asm        mov    ecx, [ecx+0xC0];
	__asm        sub    eax, [ecx+0x20];
	__asm        sar    eax, 0x16;
	__asm        push   eax;
	__asm        mov    eax, G_uheli;
	__asm        mov    eax, [eax+0xC0];
	__asm        mov    eax, [eax+0x18];
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        push   eax;
	__asm        push   3;
	__asm        push   3;
	__asm        call   DispatchEmergencyVehicle;
	__asm        add    esp, 0x10;
// LINE 4928:
_T1e8:
}

// FUNCTION: COPTER_D 0x004f781b
void S3PlayMegaphoneMessage(int32_t nMessageType) {
	char szSoundFiles[4][12];

// LINE 4937:
	__asm        mov    eax, 0x5B4D5C;
	__asm        lea    ecx, szSoundFiles[0][0];
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    ax, [eax+8];
	__asm        mov    [ecx+8], ax;
	__asm        mov    reinterpret_cast<uint16_t>(szSoundFiles[0][10]), 0;
	__asm        mov    eax, 0x5B4D74;
	__asm        lea    ecx, szSoundFiles[1][0];
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    dx, [eax+8];
	__asm        mov    [ecx+8], dx;
	__asm        mov    al, [eax+0xA];
	__asm        mov    [ecx+0xA], al;
	__asm        mov    szSoundFiles[1][11], 0;
	__asm        mov    eax, 0x5B4D8C;
	__asm        lea    ecx, szSoundFiles[2][0];
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    ax, [eax+8];
	__asm        mov    [ecx+8], ax;
	__asm        mov    reinterpret_cast<uint16_t>(szSoundFiles[2][10]), 0;
	__asm        mov    eax, 0x5B4DA8;
	__asm        lea    ecx, szSoundFiles[3][0];
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4938:
	__asm        mov    eax, nMessageType;
	__asm        lea    eax, [eax+eax*2];
	__asm        lea    eax, [ebp+eax*4-0x30];
	__asm        push   eax;
	__asm        push   0xC;
	__asm        call   S3DSSetFile;
	__asm        add    esp, 8;
// LINE 4939:
	__asm        push   0;
	__asm        mov    eax, G_uheli;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   0xC;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 4943:
	__asm        mov    eax, nMessageType;
	__asm        push   eax;
	__asm        push   0xFFFFFFFF;
	__asm        mov    eax, G_uheli;
	__asm        mov    eax, [eax+0xA4];
	__asm        push   eax;
	__asm        mov    eax, G_uheli;
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   2;
	__asm        call   S3HeliHitSpiral;
	__asm        add    esp, 0x14;
// LINE 4944:
}

// FUNCTION: COPTER_D 0x004f78fa
int32_t S3HeliCrashed(struct _HELI_DATA* hd) {
	struct _CELL_INFO* cptr;
	struct tagUserPersonalInfo* up;
	struct Point3d loc;
	int32_t i;
	struct Point3d vec;
	int32_t mat[4][4];
	int32_t speed;
	struct Point2d* freepad;

// LINE 4967:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1C];
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x18];
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        mov    cptr, eax;
// LINE 4969:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4971:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _T9f;

	__asm        cmp    G_camera_mode, 1;
	__asm        jne    _T9f;
// LINE 4973:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x24;
	__asm        push   eax;
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        push   0x59B518;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 4974:
	__asm        mov    eax, vec.x;
	__asm        shl    eax, 4;
	__asm        add    loc.x, eax;
// LINE 4975:
	__asm        mov    eax, vec.y;
	__asm        shl    eax, 4;
	__asm        add    loc.y, eax;
// LINE 4976:
	__asm        mov    eax, vec.z;
	__asm        shl    eax, 4;
	__asm        add    loc.z, eax;
// LINE 4980:
_T9f:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x170];
	__asm        mov    [ebp-0x70], eax;
	__asm        jmp    _T4b8;
// LINE 4984:
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliUnlink;
	__asm        add    esp, 8;
// LINE 4985:
	__asm        mov    eax, hd;
	__asm        inc    dword ptr [eax+0x170];
// LINE 4986:
	__asm        jmp    _T4e0;
// LINE 4989:
	__asm        push   1;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionSmokeStart;
	__asm        add    esp, 0xC;
// LINE 4991:
	__asm        mov    i, 0;
	__asm        jmp    _Tf8;
_Tf5:
	__asm        inc    i;
_Tf8:
	__asm        cmp    i, 5;
	__asm        jge    _T1b8;
// LINE 4993:
	__asm        call   rand;
	__asm        mov    ecx, 0x64;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    eax, edx;
	__asm        shl    eax, 0x10;
	__asm        add    eax, 0x320000;
	__asm        mov    speed, eax;
// LINE 4994:
	__asm        lea    eax, mat[0][0];
	__asm        push   eax;
	__asm        call   0x004D1FF1;
	__asm        add    esp, 4;
// LINE 4995:
	__asm        lea    eax, mat[0][0];
	__asm        push   eax;
	__asm        call   rand;
	__asm        mov    ecx, 0xE10;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    eax, edx;
	__asm        shl    eax, 0x10;
	__asm        push   eax;
	__asm        call   0x004D201C;
	__asm        add    esp, 8;
// LINE 4996:
	__asm        lea    eax, mat[0][0];
	__asm        push   eax;
	__asm        call   rand;
	__asm        mov    ecx, 0xC8;
	__asm        movsx  eax, ax;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        lea    eax, [edx+0x28A];
	__asm        shl    eax, 0x10;
	__asm        push   eax;
	__asm        call   0x004D2004;
	__asm        add    esp, 8;
// LINE 4997:
	__asm        lea    eax, mat[0][0];
	__asm        push   eax;
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        push   0x59B518;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 5008:
	__asm        push   0xFFFFFFFF;
	__asm        mov    eax, speed;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        push   eax;
	__asm        push   3;
	__asm        lea    eax, vec.x;
	__asm        push   eax;
	__asm        lea    eax, loc.x;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   4;
	__asm        call   S3MissileStart;
	__asm        add    esp, 0x20;
// LINE 5009:
	__asm        jmp    _Tf5;
// LINE 5015:
_T1b8:
	__asm        push   0xFFFFFFFF;
	__asm        push   4;
	__asm        mov    eax, loc.z;
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+6];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        push   eax;
	__asm        mov    eax, loc.y;
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+4];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        push   eax;
	__asm        mov    eax, loc.x;
	__asm        mov    ecx, cptr;
	__asm        movsx  ecx, word ptr [ecx+2];
	__asm        shl    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionStart;
	__asm        add    esp, 0x18;
// LINE 5018:
	__asm        push   0;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        push   7;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 5022:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _T287;
// LINE 5024:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        mov    ecx, 0x607258;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 5025:
	__asm        add    S_sound_loc.x, 0x3200000;
// LINE 5027:
	__asm        push   0x26;
	__asm        call   S3SoundIsPlaying;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T26c;
// LINE 5029:
	__asm        push   1;
	__asm        push   0x607258;
	__asm        push   0x26;
	__asm        call   S3DSPlay;
	__asm        add    esp, 0xC;
// LINE 5032:
_T26c:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x16C], 0x30000;
// LINE 5033:
	__asm        mov    eax, hd;
	__asm        inc    dword ptr [eax+0x170];
// LINE 5035:
	__asm        jmp    _T294;
// LINE 5039:
_T287:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x170], 4;
// LINE 5042:
_T294:
	__asm        jmp    _T4e0;
// LINE 5045:
	__asm        xor    ebx, ebx;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        push   0x640000;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sub    ebx, eax;
	__asm        neg    ebx;
	__asm        sub    S_sound_loc.x, ebx;
// LINE 5046:
	__asm        push   0x607258;
	__asm        push   0x26;
	__asm        call   S3SoundSetPosition;
	__asm        add    esp, 8;
// LINE 5049:
	__asm        xor    eax, eax;
	__asm        sub    eax, G_AvLoopTime;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0x16C], eax;
// LINE 5050:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x16C], 0x10000;
	__asm        jle    _T304;
// LINE 5052:
	__asm        push   1;
	__asm        lea    eax, loc.x;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionSmokeStart;
	__asm        add    esp, 0xC;
// LINE 5054:
	__asm        jmp    _T316;
// LINE 5056:
_T304:
	__asm        push   4;
	__asm        lea    eax, loc.x;
	__asm        push   eax;
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3ExplosionSmokeStart;
	__asm        add    esp, 0xC;
// LINE 5059:
_T316:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x16C], 0;
	__asm        jge    _T33c;
// LINE 5061:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x16C], 0x80000;
// LINE 5062:
	__asm        mov    eax, hd;
	__asm        inc    dword ptr [eax+0x170];
// LINE 5064:
_T33c:
	__asm        jmp    _T4e0;
// LINE 5067:
	__asm        xor    ebx, ebx;
	__asm        mov    eax, G_AvLoopTime;
	__asm        push   eax;
	__asm        push   0x640000;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        sub    ebx, eax;
	__asm        neg    ebx;
	__asm        sub    S_sound_loc.x, ebx;
// LINE 5068:
	__asm        push   0x607258;
	__asm        push   0x26;
	__asm        call   S3SoundSetPosition;
	__asm        add    esp, 8;
// LINE 5071:
	__asm        xor    eax, eax;
	__asm        sub    eax, G_AvLoopTime;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0x16C], eax;
// LINE 5072:
	__asm        mov    eax, hd;
	__asm        cmp    dword ptr [eax+0x16C], 0;
	__asm        jge    _T3a8;
// LINE 5074:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0x16C], 0x80000;
// LINE 5075:
	__asm        mov    eax, hd;
	__asm        inc    dword ptr [eax+0x170];
// LINE 5077:
_T3a8:
	__asm        jmp    _T4e0;
// LINE 5080:
	__asm        mov    i, 0;
	__asm        jmp    _T3bc;
_T3b9:
	__asm        inc    i;
_T3bc:
	__asm        cmp    i, 0xA;
	__asm        jge    _T3f1;
// LINE 5082:
	__asm        mov    eax, i;
	__asm        mov    ecx, hd;
	__asm        cmp    G_helis[0][eax*4], ecx;
	__asm        jne    _T3ec;
// LINE 5084:
	__asm        mov    eax, i;
	__asm        mov    G_helis[0][eax*4], 0;
// LINE 5085:
	__asm        jmp    _T3f1;
// LINE 5087:
_T3ec:
	__asm        jmp    _T3b9;
// LINE 5089:
_T3f1:
	__asm        call   GetCurrentUserPersonalInfo;
	__asm        mov    up, eax;
// LINE 5090:
	__asm        mov    eax, 1;
	__asm        mov    edx, hd;
	__asm        mov    cl, [edx];
	__asm        shl    eax, cl;
	__asm        not    eax;
	__asm        mov    ecx, up;
	__asm        and    [ecx+0x44], eax;
// LINE 5092:
	__asm        mov    eax, hd;
	__asm        test   byte ptr [eax+8], 1;
	__asm        je     _T4a4;
// LINE 5095:
	__asm        push   0x26;
	__asm        call   S3DSStopPlay;
	__asm        add    esp, 4;
// LINE 5098:
	__asm        call   S3HeliGetFreePad;
	__asm        mov    freepad, eax;
// LINE 5102:
	__asm        mov    eax, freepad;
	__asm        mov    ecx, [eax];
	__asm        mov    eax, [eax+4];
	__asm        mov    edx, hd;
	__asm        add    edx, 0x18;
	__asm        mov    [edx], ecx;
	__asm        mov    [edx+4], eax;
// LINE 5103:
	__asm        mov    eax, freepad;
	__asm        mov    eax, [eax+4];
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, freepad;
	__asm        mov    ecx, [ecx];
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        mov    cptr, eax;
// LINE 5104:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+2];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+0x18], eax;
// LINE 5105:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+4];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+0x1C], eax;
// LINE 5106:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+6];
	__asm        shl    eax, 0x10;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0xA4];
	__asm        mov    [ecx+0x20], eax;
// LINE 5111:
_T4a4:
	__asm        mov    eax, 1;
	__asm        jmp    _T4e7;
// LINE 5112:
	__asm        jmp    _T4e0;
// LINE 5113:
	__asm        jmp    _T4e0;
_T4b8:
	__asm        cmp    dword ptr [ebp-0x70], 4;
	__asm        ja     _T4e0;

	__asm        mov    eax, [ebp-0x70];
	__asm        jmp    SwitchPointers5209542[0][eax*4];
// Switch pointers
// LINE 5115:
_T4e0:
	__asm        xor    eax, eax;
	__asm        jmp    _T4e7;
// LINE 5117:
_T4e7:
}

// FUNCTION: COPTER_D 0x004f7de6
int32_t S3HeliDyObjCollisionCheck(struct _HELI_DATA* hd) {
	struct _CELL_INFO* cptr;
	struct Point3d loc;
	struct _DYOBJ_INST* dyobj;
	int32_t ret_code;

// LINE 5131:
	__asm        mov    ret_code, 0;
// LINE 5134:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1C];
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x18];
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        mov    cptr, eax;
// LINE 5137:
	__asm        mov    eax, cptr;
	__asm        mov    eax, [eax+0x10];
	__asm        mov    dyobj, eax;
// LINE 5138:
_T3d:
	__asm        cmp    dyobj, 0;
	__asm        je     _T18a;
// LINE 5141:
	__asm        mov    eax, hd;
	__asm        mov    ecx, dyobj;
	__asm        cmp    [eax+0xA4], ecx;
	__asm        jne    _T5e;
// LINE 5143:
	__asm        jmp    _T14f;
// LINE 5148:
_T5e:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 0x20;
	__asm        je     _T72;
// LINE 5150:
	__asm        jmp    _T14f;
// LINE 5154:
_T72:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 0x40;
	__asm        je     _T86;
// LINE 5156:
	__asm        jmp    _T14f;
// LINE 5159:
_T86:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 5167:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax+0x18];
	__asm        mov    ecx, dyobj;
	__asm        add    eax, [ecx+0x10];
	__asm        cmp    eax, loc.x;
	__asm        jle    _T14f;

	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax+0x18];
	__asm        mov    ecx, dyobj;
	__asm        sub    eax, [ecx+0x10];
	__asm        cmp    eax, loc.x;
	__asm        jge    _T14f;

	__asm        mov    eax, dyobj;
	__asm        mov    ecx, loc.y;
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jge    _T14f;

	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax+0x14];
	__asm        mov    ecx, dyobj;
	__asm        add    eax, [ecx+0x1C];
	__asm        cmp    eax, loc.y;
	__asm        jle    _T14f;

	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax+0x20];
	__asm        mov    ecx, dyobj;
	__asm        add    eax, [ecx+0x10];
	__asm        cmp    eax, loc.z;
	__asm        jle    _T14f;

	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax+0x20];
	__asm        mov    ecx, dyobj;
	__asm        sub    eax, [ecx+0x10];
	__asm        cmp    eax, loc.z;
	__asm        jge    _T14f;
// LINE 5170:
	__asm        push   0;
	__asm        push   0xFFFFFFFF;
	__asm        mov    eax, dyobj;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        push   eax;
	__asm        push   0xC;
	__asm        call   S3ObjHitDispatch;
	__asm        add    esp, 0x14;
// LINE 5177:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 8;
	__asm        jne    _T14f;
// LINE 5178:
	__asm        mov    ret_code, 1;
// LINE 5190:
next_dyobj:
_T14f:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 4;
	__asm        je     _T17d;
// LINE 5192:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 5194:
	__asm        jmp    _T185;
// LINE 5195:
_T17d:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 5196:
_T185:
	__asm        jmp    _T3d;
// LINE 5198:
_T18a:
	__asm        mov    eax, ret_code;
	__asm        jmp    near ptr 0x004F7F78;
// LINE 5199:
}

// FUNCTION: COPTER_D 0x004f7f7d
void S3HeliHitSpiral(long hit_type, struct Point2d* cell, struct _DYOBJ_INST* dyhitter, long mission_id, long xtra_msg) {
	int32_t stop_now;
	struct _CELL_INFO* cptr;
	long curr_dir;
	long i;
	long y;
	long x;
	long spiral_dist;
	long curr_dist;
	struct _DYOBJ_INST* dyobj;
	long ydir;
	long xdir;

// LINE 5214:
	__asm        mov    curr_dist, 0;
// LINE 5215:
	__asm        mov    curr_dir, 0xFFFFFFFF;
// LINE 5217:
	__asm        mov    stop_now, 0;
// LINE 5225:
	__asm        mov    eax, hit_type;
	__asm        mov    [ebp-0x30], eax;
	__asm        jmp    _T50;
// LINE 5228:
_T29:
	__asm        mov    spiral_dist, 3;
// LINE 5229:
	__asm        jmp    _T69;
// LINE 5231:
_T35:
	__asm        mov    spiral_dist, 5;
// LINE 5232:
	__asm        jmp    _T69;
// LINE 5234:
	__asm        jmp    _T239;
// LINE 5235:
	__asm        jmp    _T69;
// LINE 5236:
	__asm        jmp    _T69;
_T50:
	__asm        cmp    dword ptr [ebp-0x30], 1;
	__asm        je     _T29;

	__asm        cmp    dword ptr [ebp-0x30], 2;
	__asm        je     _T35;

	__asm        jmp    _T239;
// LINE 5238:
_T69:
	__asm        mov    eax, cell;
	__asm        mov    eax, [eax];
	__asm        mov    x, eax;
// LINE 5239:
	__asm        mov    eax, cell;
	__asm        mov    eax, [eax+4];
	__asm        mov    y, eax;
// LINE 5247:
_T7a:
	__asm        inc    curr_dir;
// LINE 5248:
	__asm        mov    eax, curr_dir;
	__asm        mov    [ebp-0x34], eax;
	__asm        jmp    _Te6;
// LINE 5252:
	__asm        mov    curr_dir, 0;
// LINE 5253:
	__asm        inc    curr_dist;
// LINE 5254:
	__asm        mov    xdir, 0;
// LINE 5255:
	__asm        mov    ydir, 0xFFFFFFFF;
// LINE 5256:
	__asm        jmp    _T10e;
// LINE 5258:
	__asm        mov    xdir, 1;
// LINE 5259:
	__asm        mov    ydir, 0;
// LINE 5260:
	__asm        jmp    _T10e;
// LINE 5262:
	__asm        inc    curr_dist;
// LINE 5263:
	__asm        mov    xdir, 0;
// LINE 5264:
	__asm        mov    ydir, 1;
// LINE 5265:
	__asm        jmp    _T10e;
// LINE 5267:
	__asm        mov    xdir, 0xFFFFFFFF;
// LINE 5268:
	__asm        mov    ydir, 0;
// LINE 5269:
	__asm        jmp    _T10e;
// LINE 5270:
	__asm        jmp    _T10e;
_Te6:
	__asm        cmp    dword ptr [ebp-0x34], 4;
	__asm        ja     _T10e;

	__asm        mov    eax, [ebp-0x34];
	__asm        jmp    SwitchPointers5210231[0][eax*4];
// Switch pointers
// LINE 5274:
_T10e:
	__asm        mov    eax, curr_dist;
	__asm        cmp    spiral_dist, eax;
	__asm        jne    _T124;
// LINE 5276:
	__asm        dec    curr_dist;
// LINE 5277:
	__asm        mov    stop_now, 1;
// LINE 5281:
_T124:
	__asm        mov    i, 0;
	__asm        jmp    _T133;
_T130:
	__asm        inc    i;
_T133:
	__asm        mov    eax, i;
	__asm        cmp    curr_dist, eax;
	__asm        jle    _T225;
// LINE 5284:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        mov    cptr, eax;
// LINE 5287:
	__asm        mov    eax, cptr;
	__asm        mov    eax, [eax+0x10];
	__asm        mov    dyobj, eax;
// LINE 5288:
_T166:
	__asm        cmp    dyobj, 0;
	__asm        je     _T214;
// LINE 5291:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 4;
	__asm        je     _T184;
// LINE 5293:
	__asm        jmp    _T1d9;
// LINE 5297:
_T184:
	__asm        mov    eax, dyhitter;
	__asm        cmp    dyobj, eax;
	__asm        jne    _T195;
// LINE 5299:
	__asm        jmp    _T1d9;
// LINE 5303:
_T195:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 0x20;
	__asm        je     _T1a9;
// LINE 5305:
	__asm        jmp    _T1d9;
// LINE 5309:
_T1a9:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 0x40;
	__asm        je     _T1bd;
// LINE 5311:
	__asm        jmp    _T1d9;
// LINE 5315:
_T1bd:
	__asm        mov    eax, xtra_msg;
	__asm        push   eax;
	__asm        mov    eax, mission_id;
	__asm        push   eax;
	__asm        mov    eax, dyobj;
	__asm        push   eax;
	__asm        mov    eax, dyhitter;
	__asm        push   eax;
	__asm        mov    eax, hit_type;
	__asm        push   eax;
	__asm        call   S3ObjHitDispatch;
	__asm        add    esp, 0x14;
// LINE 5319:
next_dyobj:
_T1d9:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 4;
	__asm        je     _T207;
// LINE 5321:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 5323:
	__asm        jmp    _T20f;
// LINE 5324:
_T207:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 5325:
_T20f:
	__asm        jmp    _T166;
// LINE 5328:
_T214:
	__asm        mov    eax, xdir;
	__asm        add    x, eax;
// LINE 5329:
	__asm        mov    eax, ydir;
	__asm        add    y, eax;
// LINE 5330:
	__asm        jmp    _T130;
// LINE 5332:
_T225:
	__asm        cmp    stop_now, 1;
	__asm        jne    _T234;
// LINE 5333:
	__asm        jmp    _T239;
// LINE 5334:
_T234:
	__asm        jmp    _T7a;
// LINE 5335:
_T239:
}

// FUNCTION: COPTER_D 0x004f81bb
struct Point2d* S3HeliGetFreePad() {
	struct Point2d* noheliloc;
	struct _CELL_INFO* cptr;
	struct Point2d* pad;
	struct _DYOBJ_INST* dyobj;

// LINE 5355:
	__asm        mov    noheliloc, 0;
// LINE 5358:
	__asm        mov    pad, 0x6C1190;
// LINE 5361:
	__asm        jmp    _T20;
_T1c:
	__asm        add    pad, 8;
_T20:
	__asm        mov    eax, 0x6C1190;
	__asm        add    eax, 0x60;
	__asm        cmp    eax, pad;
	__asm        je     _Ta8;
// LINE 5364:
	__asm        mov    eax, pad;
	__asm        mov    eax, [eax+4];
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, pad;
	__asm        mov    ecx, [ecx];
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        mov    cptr, eax;
// LINE 5367:
	__asm        mov    eax, cptr;
	__asm        cmp    dword ptr [eax+0x10], 0;
	__asm        jne    _T69;
// LINE 5368:
	__asm        mov    eax, pad;
	__asm        jmp    _Tb0;
// LINE 5371:
_T69:
	__asm        mov    eax, cptr;
	__asm        mov    eax, [eax+0x10];
	__asm        mov    dyobj, eax;
// LINE 5372:
_T72:
	__asm        cmp    dyobj, 0;
	__asm        je     _T9d;
// LINE 5374:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 4;
	__asm        je     _T90;
// LINE 5375:
	__asm        jmp    _Ta3;
// LINE 5378:
_T90:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 5379:
	__asm        jmp    _T72;
// LINE 5382:
_T9d:
	__asm        mov    eax, pad;
	__asm        mov    noheliloc, eax;
// LINE 5386:
contains_a_heli:
_Ta3:
	__asm        jmp    _T1c;
// LINE 5390:
_Ta8:
	__asm        mov    eax, noheliloc;
	__asm        jmp    _Tb0;
// LINE 5391:
_Tb0:
}

// FUNCTION: COPTER_D 0x004f8270
struct _HELI_DATA* S3HeliGetDataForType(long lHeliType) {
	int32_t i;

// LINE 5405:
	__asm        mov    i, 0;
	__asm        jmp    _T18;
_T15:
	__asm        inc    i;
_T18:
	__asm        cmp    i, 0xA;
	__asm        jge    _T63;
// LINE 5406:
	__asm        mov    eax, i;
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [eax+eax*8];
	__asm        lea    eax, [eax+eax*8];
	__asm        add    eax, ecx;
	__asm        mov    ecx, lHeliType;
	__asm        cmp    G_helidata[0].type[eax*2], ecx;
	__asm        jne    _T5e;
// LINE 5407:
	__asm        mov    eax, i;
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [eax+eax*8];
	__asm        lea    eax, [eax+eax*8];
	__asm        add    eax, ecx;
	__asm        lea    eax, G_helidata[0].type[eax*2];
	__asm        jmp    _T6a;
// LINE 5408:
_T5e:
	__asm        jmp    _T15;
// LINE 5409:
_T63:
	__asm        xor    eax, eax;
	__asm        jmp    _T6a;
// LINE 5410:
_T6a:
}

// FUNCTION: COPTER_D 0x004f82df
long S3HeliGetNewValue(long lHeliType) {
	struct _HELI_TYPE_DATA* htd;

// LINE 5420:
	__asm        mov    eax, lHeliType;
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 5422:
	__asm        cmp    htd, 0;
	__asm        je     _T33;
// LINE 5425:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x48];
	__asm        jmp    _T3a;
// LINE 5427:
_T33:
	__asm        xor    eax, eax;
	__asm        jmp    _T3a;
// LINE 5428:
_T3a:
}

// FUNCTION: COPTER_D 0x004f831e
long S3HeliGetCurrentValue(long lHeliType) {
	struct _HELI_TYPE_DATA* htd;
	struct _HELI_DATA* hd;
	int32_t newval;

// LINE 5439:
	__asm        mov    eax, lHeliType;
	__asm        push   eax;
	__asm        call   S3HeliGetDataForType;
	__asm        add    esp, 4;
	__asm        mov    hd, eax;
// LINE 5440:
	__asm        mov    eax, lHeliType;
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*2];
	__asm        lea    eax, S_helitype_data[0].num_initialized[eax*8];
	__asm        mov    htd, eax;
// LINE 5443:
	__asm        cmp    hd, 0;
	__asm        je     _T7e;
// LINE 5448:
	__asm        mov    eax, S_htwk_depreciation;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x324];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    newval, eax;
// LINE 5449:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x48];
	__asm        mov    ecx, newval;
	__asm        sar    ecx, 0x10;
	__asm        sub    eax, ecx;
	__asm        mov    newval, eax;
// LINE 5452:
	__asm        mov    eax, htd;
	__asm        mov    eax, [eax+0x48];
	__asm        sar    eax, 1;
	__asm        mov    ecx, newval;
	__asm        cmp    eax, ecx;
	__asm        jg     _T79;

	__asm        mov    eax, ecx;
_T79:
	__asm        jmp    _T85;
// LINE 5454:
_T7e:
	__asm        xor    eax, eax;
	__asm        jmp    _T85;
// LINE 5455:
_T85:
}

// FUNCTION: COPTER_D 0x004f83a8
long S3HeliGetEquipmentNewValue(long lEquipmentType) {
	long lTeargasCanisterCount;
	long lValues[5];

// LINE 5468:
	__asm        mov    lValues[0], 0x7D0;
// LINE 5469:
	__asm        mov    lValues[1], 0x3E8;
// LINE 5470:
	__asm        mov    lValues[2], 0x7D0;
// LINE 5471:
	__asm        mov    lValues[3], 0x64;
// LINE 5472:
	__asm        mov    lValues[4], 0x7D0;
// LINE 5476:
	__asm        cmp    lEquipmentType, 3;
	__asm        jne    _T85;
// LINE 5484:
	__asm        call   GetCurrentUserPersonalInfo;
	__asm        test   byte ptr [eax+0x48], 8;
	__asm        jne    _T58;
// LINE 5485:
	__asm        mov    eax, lValues[3];
	__asm        shl    eax, 2;
	__asm        lea    eax, [eax+eax*4];
	__asm        jmp    _T91;
// LINE 5486:
	__asm        jmp    _T85;
// LINE 5487:
_T58:
	__asm        call   GetCurrentUserPersonalInfo;
	__asm        mov    eax, [eax+0x54];
	__asm        mov    lTeargasCanisterCount, eax;
// LINE 5488:
	__asm        cmp    lTeargasCanisterCount, 0xA;
	__asm        jle    _T74;
// LINE 5489:
	__asm        mov    lTeargasCanisterCount, 0xA;
// LINE 5490:
_T74:
	__asm        mov    eax, 0xA;
	__asm        sub    eax, lTeargasCanisterCount;
	__asm        imul   eax, lValues[3];
	__asm        jmp    _T91;
// LINE 5493:
_T85:
	__asm        mov    eax, lEquipmentType;
	__asm        mov    eax, [ebp+eax*4-0x14];
	__asm        jmp    _T91;
// LINE 5494:
_T91:
}

// FUNCTION: COPTER_D 0x004f843e
void S3HeliPurchaseTeargasCanisters(long lBucks) {
// LINE 5503:
	__asm        call   GetCurrentUserPersonalInfo;
	__asm        mov    [ebp-4], eax;
	__asm        mov    ecx, 0x64;
	__asm        mov    eax, lBucks;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        mov    ecx, [ebp-4];
	__asm        add    [ecx+0x54], eax;
// LINE 5504:
}

// FUNCTION: COPTER_D 0x004f8465
long S3HeliGetEquipmentCurrentValue(long lEquipmentType) {
// LINE 5516:
	__asm        mov    eax, lEquipmentType;
	__asm        push   eax;
	__asm        call   S3HeliGetEquipmentNewValue;
	__asm        add    esp, 4;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [eax+eax*2];
	__asm        lea    eax, [eax+eax*4];
	__asm        mov    ecx, 0x64;
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        jmp    near ptr 0x004F848D;
// LINE 5517:
}

// FUNCTION: COPTER_D 0x004f8492
void S3HeliMakeHelicopter(long lHeliType) {
	struct tagUserPersonalInfo* up;
	struct _HELI_DATA* hd;
	struct Point2d* freepad;

// LINE 5529:
	__asm        mov    eax, lHeliType;
	__asm        push   eax;
	__asm        call   S3HeliGetDataForType;
	__asm        add    esp, 4;
	__asm        mov    hd, eax;
// LINE 5534:
	__asm        call   GetCurrentUserPersonalInfo;
	__asm        mov    up, eax;
// LINE 5537:
	__asm        mov    eax, up;
	__asm        mov    edx, 1;
	__asm        mov    cl, reinterpret_cast<uint8_t>(lHeliType);
	__asm        shl    edx, cl;
	__asm        test   [eax+0x44], edx;
	__asm        je     _T3b;
// LINE 5538:
	__asm        jmp    _T93;
// LINE 5540:
_T3b:
	__asm        cmp    lHeliType, 2;
	__asm        jne    _T62;

	__asm        cmp    G_apachebase_found, 1;
	__asm        jne    _T62;
// LINE 5541:
	__asm        mov    eax, 0x6C1190;
	__asm        add    eax, 0x68;
	__asm        mov    freepad, eax;
// LINE 5542:
	__asm        jmp    _T6a;
// LINE 5543:
_T62:
	__asm        call   S3HeliGetFreePad;
	__asm        mov    freepad, eax;
// LINE 5545:
_T6a:
	__asm        mov    eax, 1;
	__asm        mov    cl, reinterpret_cast<uint8_t>(lHeliType);
	__asm        shl    eax, cl;
	__asm        mov    ecx, up;
	__asm        or     [ecx+0x44], eax;
// LINE 5546:
	__asm        mov    eax, freepad;
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        mov    eax, freepad;
	__asm        mov    eax, [eax];
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliGenInit;
	__asm        add    esp, 0xC;
// LINE 5547:
_T93:
}

// FUNCTION: COPTER_D 0x004f852a
void S3HeliRemoveHelicopter(long lHeliType) {
	struct _CELL_INFO* cptr;
	struct tagUserPersonalInfo* up;
	struct _HELI_DATA* hd;
	long i;

// LINE 5557:
	__asm        mov    eax, lHeliType;
	__asm        push   eax;
	__asm        call   S3HeliGetDataForType;
	__asm        add    esp, 4;
	__asm        mov    hd, eax;
// LINE 5563:
	__asm        cmp    hd, 0;
	__asm        jne    _T27;
// LINE 5564:
	__asm        jmp    _Tb9;
// LINE 5566:
_T27:
	__asm        call   GetCurrentUserPersonalInfo;
	__asm        mov    up, eax;
// LINE 5569:
	__asm        mov    i, 0;
	__asm        jmp    _T3e;
_T3b:
	__asm        inc    i;
_T3e:
	__asm        cmp    i, 0xA;
	__asm        jge    _Tb9;
// LINE 5571:
	__asm        mov    eax, i;
	__asm        mov    ecx, hd;
	__asm        cmp    G_helis[0][eax*4], ecx;
	__asm        jne    _Tb4;
// LINE 5573:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0x1C];
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, hd;
	__asm        mov    ecx, [ecx+0x18];
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, G_omap[0][0][ecx+eax*4];
	__asm        mov    cptr, eax;
// LINE 5574:
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        mov    eax, hd;
	__asm        push   eax;
	__asm        call   S3HeliUnlink;
	__asm        add    esp, 8;
// LINE 5575:
	__asm        mov    eax, i;
	__asm        mov    G_helis[0][eax*4], 0;
// LINE 5576:
	__asm        mov    eax, 1;
	__asm        mov    cl, reinterpret_cast<uint8_t>(lHeliType);
	__asm        shl    eax, cl;
	__asm        not    eax;
	__asm        mov    ecx, up;
	__asm        and    [ecx+0x44], eax;
// LINE 5577:
	__asm        jmp    _Tb9;
// LINE 5579:
_Tb4:
	__asm        jmp    _T3b;
// LINE 5581:
_Tb9:
}

// FUNCTION: COPTER_D 0x004f85e8
void S3HeliUnlink(struct _HELI_DATA* hd, struct _CELL_INFO* cptr) {
	struct _DYOBJ_INST** dyptrptr;

// LINE 5594:
	__asm        mov    eax, cptr;
	__asm        add    eax, 0x10;
	__asm        mov    dyptrptr, eax;
// LINE 5595:
_T12:
	__asm        mov    eax, dyptrptr;
	__asm        cmp    dword ptr [eax], 0;
	__asm        je     _T66;
// LINE 5597:
	__asm        mov    eax, hd;
	__asm        mov    ecx, dyptrptr;
	__asm        mov    ecx, [ecx];
	__asm        cmp    [eax+0xA4], ecx;
	__asm        jne    _T59;
// LINE 5599:
	__asm        mov    eax, hd;
	__asm        mov    eax, [eax+0xA4];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    ecx, dyptrptr;
	__asm        mov    [ecx], eax;
// LINE 5600:
	__asm        jmp    _T66;
// LINE 5602:
_T59:
	__asm        mov    eax, dyptrptr;
	__asm        mov    eax, [eax];
	__asm        mov    dyptrptr, eax;
// LINE 5603:
	__asm        jmp    _T12;
// LINE 5604:
_T66:
}

// FUNCTION: COPTER_D 0x004f8653
void S3HeliHitDispatch(long hitter_type, struct _DYOBJ_INST* dyhitter, struct _DYOBJ_INST* dyhittee, long mission_id, long xtra_msg) {
	struct _HELI_DATA* hd;

// LINE 5617:
	__asm        mov    eax, dyhittee;
	__asm        movsx  eax, word ptr [eax+0xE];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [eax+eax*8];
	__asm        lea    eax, [eax+eax*8];
	__asm        add    eax, ecx;
	__asm        lea    eax, G_helidata[0].type[eax*2];
	__asm        mov    hd, eax;
// LINE 5620:
	__asm        mov    eax, hitter_type;
	__asm        mov    [ebp-8], eax;
	__asm        jmp    _T197;
// LINE 5623:
	__asm        cmp    G_CheatCodes[1], 0;
	__asm        jne    _T57;
// LINE 5624:
	__asm        xor    eax, eax;
	__asm        mov    ecx, S_htwk_collide_damage_val;
	__asm        sar    ecx, 2;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0xD0], eax;
// LINE 5625:
_T57:
	__asm        jmp    _T1ef;
// LINE 5627:
	__asm        jmp    _T1ef;
// LINE 5629:
	__asm        jmp    _T1ef;
// LINE 5631:
	__asm        cmp    G_CheatCodes[1], 0;
	__asm        jne    _T8b;
// LINE 5632:
	__asm        xor    eax, eax;
	__asm        mov    ecx, S_htwk_collide_damage_val;
	__asm        shl    ecx, 2;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0xD0], eax;
// LINE 5633:
_T8b:
	__asm        jmp    _T1ef;
// LINE 5635:
	__asm        jmp    _T1ef;
// LINE 5637:
	__asm        jmp    _T1ef;
// LINE 5639:
	__asm        cmp    G_CheatCodes[1], 0;
	__asm        jne    _Tbf;
// LINE 5640:
	__asm        xor    eax, eax;
	__asm        mov    ecx, S_htwk_collide_damage_val;
	__asm        shl    ecx, 2;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0xD0], eax;
// LINE 5641:
_Tbf:
	__asm        jmp    _T1ef;
// LINE 5643:
	__asm        cmp    G_CheatCodes[1], 0;
	__asm        jne    _Te4;
// LINE 5644:
	__asm        xor    eax, eax;
	__asm        sub    eax, S_htwk_collide_damage_val;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0xD0], eax;
// LINE 5645:
_Te4:
	__asm        jmp    _T1ef;
// LINE 5647:
	__asm        jmp    _T1ef;
// LINE 5649:
	__asm        cmp    G_CheatCodes[1], 0;
	__asm        jne    _T113;
// LINE 5650:
	__asm        xor    eax, eax;
	__asm        mov    ecx, S_htwk_collide_damage_val;
	__asm        shl    ecx, 2;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0xD0], eax;
// LINE 5651:
_T113:
	__asm        jmp    _T1ef;
// LINE 5653:
	__asm        jmp    _T1ef;
// LINE 5655:
	__asm        jmp    _T1ef;
// LINE 5657:
	__asm        cmp    G_CheatCodes[1], 0;
	__asm        jne    _T142;
// LINE 5658:
	__asm        xor    eax, eax;
	__asm        sub    eax, S_htwk_collide_damage_val;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0xD0], eax;
// LINE 5659:
_T142:
	__asm        jmp    _T1ef;
// LINE 5661:
	__asm        jmp    _T1ef;
// LINE 5663:
	__asm        jmp    _T1ef;
// LINE 5666:
	__asm        mov    eax, hd;
	__asm        mov    dword ptr [eax+0xD0], 0xFFFFFFFF;
// LINE 5667:
	__asm        jmp    _T1ef;
// LINE 5669:
	__asm        cmp    G_CheatCodes[1], 0;
	__asm        jne    _T188;
// LINE 5670:
	__asm        xor    eax, eax;
	__asm        mov    ecx, S_htwk_collide_damage_val;
	__asm        sar    ecx, 3;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        mov    ecx, hd;
	__asm        sub    [ecx+0xD0], eax;
// LINE 5671:
_T188:
	__asm        jmp    _T1ef;
// LINE 5673:
	__asm        jmp    _T1ef;
// LINE 5674:
	__asm        jmp    _T1ef;
_T197:
	__asm        cmp    dword ptr [ebp-8], 0x10;
	__asm        ja     _T1ef;

	__asm        mov    eax, [ebp-8];
	__asm        jmp    SwitchPointers5212158[0][eax*4];
// Switch pointers
// LINE 5676:
_T1ef:
}

// FUNCTION: COPTER_D 0x004f8847
int32_t S3HeliMIFFLoad(void * __ptr32 miffReader) {
	struct _HELI_DATA* hd;
	long i;
	long ret;

// LINE 5702:
	__asm        push   0x32C;
	__asm        push   0x606EB0;
	__asm        mov    eax, HeliMIFFID;
	__asm        push   eax;
	__asm        mov    eax, miffReader;
	__asm        push   eax;
	__asm        call   ReadFirstMIFFChunk;
	__asm        add    esp, 0x10;
	__asm        mov    ret, eax;
// LINE 5703:
	__asm        cmp    ret, 0;
	__asm        jne    _T39;
// LINE 5704:
	__asm        xor    eax, eax;
	__asm        jmp    _T103;
// LINE 5707:
_T39:
	__asm        mov    i, 0;
	__asm        jmp    _T48;
_T45:
	__asm        inc    i;
_T48:
	__asm        cmp    i, 0xA;
	__asm        jge    _Tf9;
// LINE 5709:
	__asm        mov    eax, i;
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [eax+eax*8];
	__asm        lea    eax, [eax+eax*8];
	__asm        add    eax, ecx;
	__asm        lea    eax, G_helidata[0].type[eax*2];
	__asm        mov    hd, eax;
// LINE 5712:
	__asm        mov    eax, lsheli.damage;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0xD0], eax;
// LINE 5713:
	__asm        mov    eax, lsheli.winfo.load;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x1C0], eax;
// LINE 5714:
	__asm        mov    eax, lsheli.fuel;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x320], eax;
// LINE 5715:
	__asm        mov    eax, lsheli.flight_time;
	__asm        mov    ecx, hd;
	__asm        mov    [ecx+0x324], eax;
// LINE 5716:
	__asm        mov    edi, hd;
	__asm        add    edi, 0x1C4;
	__asm        lea    esi, lsheli.passengerData.lPassengerDataChanged;
	__asm        mov    ecx, 0x57;
	__asm        rep movsd;
// LINE 5723:
	__asm        push   0x32C;
	__asm        push   0x606EB0;
	__asm        mov    eax, HeliMIFFID;
	__asm        push   eax;
	__asm        mov    eax, miffReader;
	__asm        push   eax;
	__asm        call   ReadNextMIFFChunk;
	__asm        add    esp, 0x10;
	__asm        mov    ret, eax;
// LINE 5724:
	__asm        cmp    ret, 0;
	__asm        jne    _Tf4;

	__asm        cmp    i, 9;
	__asm        je     _Tf4;
// LINE 5725:
	__asm        xor    eax, eax;
	__asm        jmp    _T103;
// LINE 5726:
_Tf4:
	__asm        jmp    _T45;
// LINE 5728:
_Tf9:
	__asm        mov    eax, 1;
	__asm        jmp    _T103;
// LINE 5729:
_T103:
}

// FUNCTION: COPTER_D 0x004f894f
int32_t S3HeliMIFFSave(void * __ptr32 miffWriter) {
	long i;
	long ret;

// LINE 5737:
	__asm        mov    i, 0;
	__asm        jmp    _T18;
_T15:
	__asm        inc    i;
_T18:
	__asm        cmp    i, 0xA;
	__asm        jge    _T6a;
// LINE 5742:
	__asm        push   0x32C;
	__asm        mov    eax, i;
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [eax+eax*8];
	__asm        lea    eax, [eax+eax*8];
	__asm        add    eax, ecx;
	__asm        lea    eax, G_helidata[0].type[eax*2];
	__asm        push   eax;
	__asm        mov    eax, HeliMIFFID;
	__asm        push   eax;
	__asm        mov    eax, miffWriter;
	__asm        push   eax;
	__asm        call   WriteMIFFChunk;
	__asm        add    esp, 0x10;
	__asm        mov    ret, eax;
// LINE 5743:
	__asm        cmp    ret, 0;
	__asm        jne    _T65;
// LINE 5744:
	__asm        xor    eax, eax;
	__asm        jmp    _T74;
// LINE 5745:
_T65:
	__asm        jmp    _T15;
// LINE 5747:
_T6a:
	__asm        mov    eax, 1;
	__asm        jmp    _T74;
// LINE 5748:
_T74:
}

// FUNCTION: COPTER_D 0x004f89c8
void S3HeliUserExit() {
	int32_t maxRadius;
	int32_t radius;
	int32_t rsin;
	struct Point3d personLoc;
	int32_t angle;
	struct Point3d vehicleLoc;
	int32_t rcos;

// LINE 5761:
	__asm        mov    eax, G_uheli;
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, vehicleLoc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 5762:
	__asm        mov    maxRadius, 0x200000;
// LINE 5768:
	__asm        mov    radius, 0x80000;
	__asm        jmp    _T44;
_T3d:
	__asm        add    radius, 0x80000;
_T44:
	__asm        mov    eax, maxRadius;
	__asm        cmp    radius, eax;
	__asm        jge    _T11f;
// LINE 5770:
	__asm        mov    angle, 0;
	__asm        jmp    _T63;
_T5c:
	__asm        add    angle, 0x640000;
_T63:
	__asm        cmp    angle, 0xE100000;
	__asm        jge    _T11a;
// LINE 5772:
	__asm        lea    eax, rcos;
	__asm        push   eax;
	__asm        lea    eax, rsin;
	__asm        push   eax;
	__asm        mov    eax, angle;
	__asm        push   eax;
	__asm        call   0x004D19FC;
	__asm        add    esp, 0xC;
// LINE 5773:
	__asm        mov    eax, rcos;
	__asm        push   eax;
	__asm        mov    eax, radius;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, vehicleLoc.x;
	__asm        add    ecx, eax;
	__asm        mov    personLoc.x, ecx;
// LINE 5774:
	__asm        mov    eax, rsin;
	__asm        push   eax;
	__asm        mov    eax, radius;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, vehicleLoc.z;
	__asm        add    ecx, eax;
	__asm        mov    personLoc.z, ecx;
// LINE 5775:
	__asm        mov    eax, personLoc.z;
	__asm        push   eax;
	__asm        mov    eax, personLoc.x;
	__asm        push   eax;
	__asm        call   S3ObjectPrecisionAlt;
	__asm        add    esp, 8;
	__asm        mov    personLoc.y, eax;
// LINE 5781:
	__asm        mov    eax, G_uheli;
	__asm        mov    eax, [eax+0x154];
	__asm        sub    eax, 0x50000;
	__asm        cmp    eax, personLoc.y;
	__asm        jg     _T115;

	__asm        mov    eax, G_uheli;
	__asm        mov    eax, [eax+0x154];
	__asm        add    eax, 0x50000;
	__asm        cmp    eax, personLoc.y;
	__asm        jl     _T115;
// LINE 5784:
	__asm        mov    eax, G_uheli;
	__asm        add    eax, 0x100;
	__asm        push   eax;
	__asm        lea    eax, personLoc.x;
	__asm        push   eax;
	__asm        call   S3PersonUserAppearNew;
	__asm        add    esp, 8;
// LINE 5785:
	__asm        jmp    _T11f;
// LINE 5788:
_T115:
	__asm        jmp    _T5c;
// LINE 5789:
_T11a:
	__asm        jmp    _T3d;
// LINE 5790:
_T11f:
}



// Contribution: 2:00003688-00003897 Module: 176, 8 byte alignment, initialized_data, read, 
// GLOBAL: COPTER_D 0x00592688
static const int32_t TurnTable3[4][8] = {{0, 1, 2, 3, 4, 5, 6, 7}, {2, 3, 4, 5, 6, 7, 0, 1}, {6, 7, 0, 1, 2, 3, 4, 5}, {4, 5, 6, 7, 0, 1, 2, 3}};

// GLOBAL: COPTER_D 0x00592708
static const int32_t TurnTable2[4][4] = {{0, 1, 2, 3}, {1, 2, 3, 0}, {3, 0, 1, 2}, {2, 3, 0, 1}};

// GLOBAL: COPTER_D 0x00592748
static const int32_t IndexToType[4] = {1, 2, 4, 8};

// GLOBAL: COPTER_D 0x00592758
static const int32_t TypeToIndex2[16] = {-1, 0, 1, -1, 2, -1, -1, -1, 3, -1, -1, -1, -1, -1, -1, -1};

// GLOBAL: COPTER_D 0x00592798
static const int32_t TILUT[4][4] = {{0, 1, 3, 2}, {2, 0, 1, 3}, {3, 2, 0, 1}, {1, 3, 2, 0}};

// GLOBAL: COPTER_D 0x005927d8
static const struct _dPoint2d OT[4] = { 0 /* todo */ };

// GLOBAL: COPTER_D 0x00592818
static const struct _dPoint2d RRT[4] = { 0 /* todo */ };

// GLOBAL: COPTER_D 0x00592858
static const struct _dPoint2d LRT[4] = { 0 /* todo */ };



// Contribution: 3:0001d8c0-0001ddb4 Module: 176, 8 byte alignment, initialized_data, read, write, 
// GLOBAL: COPTER_D 0x005b48c0
int32_t S_htwk_landing_yspeed = 327680;

// GLOBAL: COPTER_D 0x005b48c4
int32_t S_htwk_landing_pitch = 655360;

// GLOBAL: COPTER_D 0x005b48c8
int32_t S_htwk_landing_slide = 655360;

// GLOBAL: COPTER_D 0x005b48cc
int32_t S_htwk_landing_speed = 655360;

// GLOBAL: COPTER_D 0x005b48d0
int32_t S_htwk_max_descent_rate = 655360;

// GLOBAL: COPTER_D 0x005b48d4
int32_t S_htwk_bucket_fillrate = 30;

// GLOBAL: COPTER_D 0x005b48d8
int32_t S_htwk_bucket_dumprate = 10;

// GLOBAL: COPTER_D 0x005b48dc
int32_t S_htwk_rope_loadfactor = 40;

// GLOBAL: COPTER_D 0x005b48e0
int32_t S_htwk_rope_tension = 6553;

// GLOBAL: COPTER_D 0x005b48e4
int32_t S_htwk_water_throwfact = 18;

// GLOBAL: COPTER_D 0x005b48e8
int32_t S_htwk_watercannon_speed = 9830400;

// GLOBAL: COPTER_D 0x005b48ec
int32_t S_htwk_firedmg_alt_min = -3145728;

// GLOBAL: COPTER_D 0x005b48f0
int32_t S_htwk_firedmg_alt_max = 7864320;

// GLOBAL: COPTER_D 0x005b48f4
int32_t S_htwk_max_helialt = 52428800;

// GLOBAL: COPTER_D 0x005b48f8
int32_t S_htwk_collide_damage_val = 50;

// GLOBAL: COPTER_D 0x005b48fc
int32_t S_htwk_depreciation = 32768;

// GLOBAL: COPTER_D 0x005b4900
static char ControlNoise = 0;

// GLOBAL: COPTER_D 0x005b4904
static long S_sound_frames = 0;

// GLOBAL: COPTER_D 0x005b4908
static int32_t RopeSeg = 262144;

// GLOBAL: COPTER_D 0x005b490c
static int32_t RopeDim = 65536;

// GLOBAL: COPTER_D 0x005b4910
struct Point3d G_helidir = { 0 /* todo */ };

// GLOBAL: COPTER_D 0x005b491c
int32_t G_helibase_found = 0;

// GLOBAL: COPTER_D 0x005b4920
int32_t G_apachebase_found = 0;

// GLOBAL: COPTER_D 0x005b4924
int32_t G_apache_placed = 0;

// GLOBAL: COPTER_D 0x005b4928
int32_t G_uheli_objalt = 0;

// GLOBAL: COPTER_D 0x005b492c
long G_SpotLiteXRotation = 0;

// GLOBAL: COPTER_D 0x005b4930
long G_SpotLiteYRotation = 0;

// GLOBAL: COPTER_D 0x005b4934
static long S_test_frames = 0;

// GLOBAL: COPTER_D 0x005b4938
static long S_avoiding = 0;

// GLOBAL: COPTER_D 0x005b493c
static int32_t S_targalt = 6553600;

// GLOBAL: COPTER_D 0x005b4940
struct _HELI_DATA* G_helis[10] = { 0 /* todo */ };

// GLOBAL: COPTER_D 0x005b4968
struct _HELI_DATA* G_uheli = { 0 /* todo */ };

// GLOBAL: COPTER_D 0x005b496c
struct _HELI_DATA* G_testheli = { 0 /* todo */ };

// GLOBAL: COPTER_D 0x005b4970
static long S_numhelis = 0;

// GLOBAL: COPTER_D 0x005b4978
struct _HELI_TYPE_DATA S_helitype_data[1] = { 0 /* todo */ };

// GLOBAL: COPTER_D 0x005b4c90
static struct Point3d S_bracket_loc = { 0 /* todo */ };

// GLOBAL: COPTER_D 0x005b4c9c
static int32_t S_shadalt = 0;

// GLOBAL: COPTER_D 0x005b4ca0
static int32_t S_spotdist = 0;

// GLOBAL: COPTER_D 0x005b4ca4
static long HeliMIFFID = 1212501065;



// Contribution: 3:0006feb0-000702b7 Module: 176, 8 byte alignment, uninitialized_data, read, write, 
// GLOBAL: COPTER_D 0x00606eb0
static struct _HELI_DATA lsheli;

// GLOBAL: COPTER_D 0x006071e0
static struct Point3d S_spotvect;

// GLOBAL: COPTER_D 0x006071ec
static struct VRBmpHdr* S_shadbmp;

// GLOBAL: COPTER_D 0x006071f0
static int32_t S_turbyaw[10];

// GLOBAL: COPTER_D 0x00607218
static int32_t S_spotmat[4][4];

// GLOBAL: COPTER_D 0x00607258
static struct Point3d S_sound_loc;

// GLOBAL: COPTER_D 0x00607268
static int32_t S_turbslide[10];

// GLOBAL: COPTER_D 0x00607290
static int32_t S_turbpitch[10];



// Unknown globals:
// The PDB was slightly corrupted and we aren't sure which file these globals belong to.

// WARNING: this global might actually belong to: C:\Copter\source\game\S3city.c
// GLOBAL: COPTER_D 0x006c1190
struct _HELIBASE_DATA G_helibase; // Contrib missing

// GLOBAL: COPTER_D 0x006c1200
struct VRBmpHdr* S_spotlevels[4]; // Contrib missing

// GLOBAL: COPTER_D 0x006bf1d0
struct _HELI_DATA G_helidata[10]; // Contrib missing

// GLOBAL: COPTER_D 0x006bf1c0
struct Point3d G_testloc; // Contrib missing

// GLOBAL: COPTER_D 0x006bf1b8
struct Point2d S_spotloc; // Contrib missing

// GLOBAL: COPTER_D 0x006bf1b8
struct Point2d S_spotloc; // Contrib missing

// GLOBAL: COPTER_D 0x006bf1d0
struct _HELI_DATA G_helidata[10]; // Contrib missing

// GLOBAL: COPTER_D 0x006bf1c0
struct Point3d G_testloc; // Contrib missing

// GLOBAL: COPTER_D 0x006c1200
struct VRBmpHdr* S_spotlevels[4]; // Contrib missing

