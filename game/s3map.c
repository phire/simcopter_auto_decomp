// Module: S3map.obj
// Source: C:\Copter\source\game\S3map.c
// autogenerated by simcopter_tool from PDB file

// Type: long;

// Type: struct VRBmpHdr (forward reference);

// Type: char *;

// Type: void;

// Type: unsigned short;

// Type: struct _CELL_INFO (forward reference);

// Type: char;

// Type: struct Point2d (forward reference);

// Type: int32_t;

// Type: long *;

// Type: struct _MAP_CARINFO (forward reference);

// Type: struct MISSION_DATA (forward reference);

// Type: struct _GridCoordinates (forward reference);

// Type: struct Point2d;
class Point2d{
public:
	int32_t x;
	int32_t y;
};



// Contribution: 1:000fd790-001005d5 Module: 172, 16 byte alignment, code, execute, read, 
// FUNCTION: COPTER_D 0x004fe790
void S3MapInit() {
	long i;
	struct VRBmpHdr* bhdr;
	char * ptr;

// LINE 192:
	__asm        mov    dword ptr ds:[0x5B5248], 0x40;
// LINE 193:
	__asm        mov    dword ptr ds:[0x5B524C], 0x16;
// LINE 194:
	__asm        mov    eax, ds:[0x5B5248];
	__asm        add    eax, 0x68;
	__asm        mov    ds:[0x5B5250], eax;
// LINE 195:
	__asm        mov    eax, ds:[0x5B524C];
	__asm        add    eax, 0x50;
	__asm        mov    ds:[0x5B5254], eax;
// LINE 199:
	__asm        mov    dword ptr ds:[0x5B5288], 0x14;
// LINE 202:
	__asm        mov    eax, ds:[0x5B5250];
	__asm        sub    eax, ds:[0x5B5248];
	__asm        mov    ds:[0x5B527C], eax;
// LINE 203:
	__asm        mov    eax, ds:[0x5B5254];
	__asm        sub    eax, ds:[0x5B524C];
	__asm        mov    ds:[0x5B5280], eax;
// LINE 206:
	__asm        mov    eax, ds:[0x5B5248];
	__asm        sub    eax, 0xA;
	__asm        mov    ds:[0x5B5258], eax;
// LINE 207:
	__asm        mov    eax, ds:[0x5B524C];
	__asm        sub    eax, 9;
	__asm        mov    ds:[0x5B525C], eax;
// LINE 208:
	__asm        mov    eax, ds:[0x5B5250];
	__asm        add    eax, 0xA;
	__asm        mov    ds:[0x5B5260], eax;
// LINE 209:
	__asm        mov    eax, ds:[0x5B5254];
	__asm        add    eax, 9;
	__asm        mov    ds:[0x5B5264], eax;
// LINE 212:
	__asm        mov    eax, ds:[0x5B5260];
	__asm        sub    eax, ds:[0x5B5258];
	__asm        mov    ds:[0x5B5268], eax;
// LINE 213:
	__asm        mov    eax, ds:[0x5B5264];
	__asm        sub    eax, ds:[0x5B525C];
	__asm        mov    ds:[0x5B526C], eax;
// LINE 215:
	__asm        mov    eax, ds:[0x5B526C];
	__asm        imul   eax, ds:[0x5B5268];
	__asm        add    eax, 0x200;
	__asm        push   eax;
	__asm        push   0x5B529C;
	__asm        mov    eax, ds:[0x63A858];
	__asm        push   eax;
	__asm        call   S2AllocMem;
	__asm        add    esp, 0xC;
	__asm        mov    ds:[0x5B5274], eax;
// LINE 216:
	__asm        cmp    dword ptr ds:[0x5B5274], 0;
	__asm        jne    near ptr 0x004FE889;
// LINE 217:
	__asm        push   0x5B52A4;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 219:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        lea    eax, [eax+eax*8];
	__asm        add    eax, ds:[0x5B5274];
	__asm        add    eax, 0xA;
	__asm        mov    ds:[0x5B5270], eax;
// LINE 221:
	__asm        mov    eax, ds:[0x5B526C];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    ecx, eax;
	__asm        imul   ecx, ds:[0x5B5268];
	__asm        mov    eax, ds:[0x5B5268];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        add    ecx, eax;
	__asm        add    ecx, ds:[0x5B5274];
	__asm        mov    ds:[0x5B5278], ecx;
// LINE 224:
	__asm        mov    eax, ds:[0x5B527C];
	__asm        mov    ds:[0x5B5210], eax;
	__asm        mov    eax, ds:[0x5B5210];
	__asm        mov    ds:[0x5B521C], eax;
// LINE 225:
	__asm        mov    eax, ds:[0x5B5280];
	__asm        mov    ds:[0x5B5214], eax;
	__asm        mov    eax, ds:[0x5B5214];
	__asm        mov    ds:[0x5B5220], eax;
// LINE 228:
	__asm        push   3;
	__asm        mov    eax, ds:[0x5B476C];
	__asm        push   eax;
	__asm        call   VRInt2BmpHdr;
	__asm        add    esp, 8;
	__asm        mov    bhdr, eax;
// LINE 229:
	__asm        mov    eax, bhdr;
	__asm        mov    ptr, eax;
// LINE 230:
	__asm        mov    eax, bhdr;
	__asm        mov    eax, [eax+4];
	__asm        shl    eax, 2;
	__asm        add    eax, 0xC;
	__asm        add    ptr, eax;
// LINE 234:
	__asm        mov    eax, bhdr;
	__asm        mov    eax, [eax+4];
	__asm        mov    ds:[0x608BF0], eax;
// LINE 235:
	__asm        mov    eax, bhdr;
	__asm        mov    eax, [eax];
	__asm        mov    ds:[0x608C10], eax;
// LINE 238:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x004FE940;
	__asm        inc    i;
	__asm        cmp    i, 8;
	__asm        jge    near ptr 0x004FE964;
// LINE 240:
	__asm        mov    eax, ptr;
	__asm        mov    ecx, i;
	__asm        mov    [ecx*4+0x608BD0], eax;
// LINE 241:
	__asm        mov    eax, ds:[0x608BF0];
	__asm        add    ptr, eax;
// LINE 242:
	__asm        jmp    near ptr 0x004FE93D;
// LINE 245:
	__asm        push   0xC;
	__asm        mov    eax, ds:[0x5B476C];
	__asm        push   eax;
	__asm        call   VRInt2BmpHdr;
	__asm        add    esp, 8;
	__asm        mov    bhdr, eax;
// LINE 246:
	__asm        mov    eax, bhdr;
	__asm        mov    ptr, eax;
// LINE 247:
	__asm        mov    eax, bhdr;
	__asm        mov    eax, [eax+4];
	__asm        shl    eax, 2;
	__asm        add    eax, 0xC;
	__asm        add    ptr, eax;
// LINE 251:
	__asm        mov    eax, bhdr;
	__asm        mov    eax, [eax+4];
	__asm        mov    ds:[0x608BC8], eax;
// LINE 252:
	__asm        mov    eax, bhdr;
	__asm        mov    eax, [eax];
	__asm        mov    ds:[0x608C00], eax;
// LINE 255:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x004FE9B0;
	__asm        inc    i;
	__asm        cmp    i, 3;
	__asm        jge    near ptr 0x004FE9D4;
// LINE 257:
	__asm        mov    eax, ptr;
	__asm        mov    ecx, i;
	__asm        mov    [ecx*4+0x608C18], eax;
// LINE 258:
	__asm        mov    eax, ds:[0x608BC8];
	__asm        add    ptr, eax;
// LINE 259:
	__asm        jmp    near ptr 0x004FE9AD;
// LINE 262:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x004FE9E3;
	__asm        inc    i;
	__asm        cmp    i, 0x14;
	__asm        jge    near ptr 0x004FEA03;
// LINE 264:
	__asm        mov    eax, i;
	__asm        lea    eax, [eax+eax*4];
	__asm        mov    dword ptr [eax*8+0x6BED40], 0;
// LINE 265:
	__asm        jmp    near ptr 0x004FE9E0;
// LINE 267:
}

// FUNCTION: COPTER_D 0x004fea08
void S3MapDestroy() {
// LINE 281:
}

// FUNCTION: COPTER_D 0x004fea13
void S3MapRender(long posx, long posy) {
	long countx;
	long tile;
	long county;
	char * lineptr;
	unsigned short alt;
	struct _CELL_INFO* cptr;
	char texid;
	long y;
	long x;
	char * ptr;

// LINE 298:
	__asm        mov    eax, ds:[0x5B5270];
	__asm        mov    ptr, eax;
// LINE 305:
	__asm        cmp    dword ptr ds:[0x5B5200], 0;
	__asm        je     near ptr 0x004FEA43;
	__asm        cmp    dword ptr ds:[0x5B4DB8], 3;
	__asm        je     near ptr 0x004FEA43;
// LINE 306:
	__asm        jmp    near ptr 0x005001C6;
// LINE 308:
	__asm        and    posy, 0xFF;
// LINE 309:
	__asm        and    posx, 0xFF;
// LINE 312:
	__asm        mov    edx, ds:[0x5B526C];
	__asm        imul   edx, ds:[0x5B5268];
	__asm        mov    edi, ds:[0x5B5274];
	__asm        xor    eax, eax;
	__asm        mov    ecx, edx;
	__asm        shr    ecx, 2;
	__asm        rep stosd;
	__asm        mov    ecx, edx;
	__asm        and    ecx, 3;
	__asm        rep stosb;
// LINE 315:
	__asm        inc    byte ptr ds:[0x5B5284];
// LINE 316:
	__asm        movsx  eax, byte ptr ds:[0x5B5284];
	__asm        and    al, 0xF;
	__asm        mov    ds:[0x5B5284], al;
// LINE 318:
	__asm        mov    eax, ds:[0x5B5298];
	__asm        mov    [ebp-0x2C], eax;
	__asm        jmp    near ptr 0x0050017D;
// LINE 322:
	__asm        mov    eax, posx;
	__asm        mov    ecx, ds:[0x5B527C];
	__asm        sar    ecx, 1;
	__asm        sub    eax, ecx;
	__asm        mov    ds:[0x608C08], eax;
// LINE 323:
	__asm        mov    eax, posy;
	__asm        mov    ecx, ds:[0x5B5280];
	__asm        sar    ecx, 1;
	__asm        sub    eax, ecx;
	__asm        mov    ds:[0x608C0C], eax;
// LINE 324:
	__asm        mov    eax, ds:[0x608C08];
	__asm        add    eax, ds:[0x5B527C];
	__asm        dec    eax;
	__asm        mov    ds:[0x608BF8], eax;
// LINE 325:
	__asm        mov    eax, ds:[0x608C0C];
	__asm        add    eax, ds:[0x5B5280];
	__asm        dec    eax;
	__asm        mov    ds:[0x608BFC], eax;
// LINE 327:
	__asm        mov    eax, ds:[0x608C0C];
	__asm        mov    y, eax;
	__asm        mov    county, 0;
	__asm        jmp    near ptr 0x004FEAF7;
	__asm        inc    county;
	__asm        inc    y;
	__asm        mov    eax, county;
	__asm        cmp    ds:[0x5B5280], eax;
	__asm        jle    near ptr 0x004FEE2A;
// LINE 330:
	__asm        and    y, 0xFF;
// LINE 332:
	__asm        mov    eax, ds:[0x608C08];
	__asm        mov    x, eax;
	__asm        mov    countx, 0;
	__asm        jmp    near ptr 0x004FEB27;
	__asm        inc    countx;
	__asm        inc    x;
	__asm        mov    eax, countx;
	__asm        cmp    ds:[0x5B527C], eax;
	__asm        jle    near ptr 0x004FEE21;
// LINE 335:
	__asm        and    x, 0xFF;
// LINE 338:
	__asm        cmp    x, 0x7F;
	__asm        jg     near ptr 0x004FEB51;
	__asm        cmp    y, 0x7F;
	__asm        jle    near ptr 0x004FEB5D;
// LINE 340:
	__asm        mov    tile, 0;
// LINE 342:
	__asm        jmp    near ptr 0x004FEB72;
// LINE 345:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x639850];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        mov    tile, edx;
// LINE 351:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    eax, [eax+ecx*4+0x67ED30];
	__asm        mov    cptr, eax;
// LINE 352:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 0x20;
	__asm        je     near ptr 0x004FEBB5;
// LINE 354:
	__asm        movsx  eax, byte ptr ds:[0x5B5284];
	__asm        add    eax, 0x10;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 355:
	__asm        jmp    near ptr 0x004FEB21;
// LINE 358:
	__asm        cmp    tile, 0xD1;
	__asm        jne    near ptr 0x004FEBD0;
// LINE 360:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xEA;
	__asm        inc    ptr;
// LINE 361:
	__asm        jmp    near ptr 0x004FEB21;
// LINE 363:
	__asm        cmp    tile, 0xD2;
	__asm        jne    near ptr 0x004FEBEB;
// LINE 365:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x9A;
	__asm        inc    ptr;
// LINE 366:
	__asm        jmp    near ptr 0x004FEB21;
// LINE 368:
	__asm        cmp    tile, 0xD3;
	__asm        jne    near ptr 0x004FEC06;
// LINE 370:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x1A;
	__asm        inc    ptr;
// LINE 371:
	__asm        jmp    near ptr 0x004FEB21;
// LINE 374:
	__asm        mov    eax, x;
	__asm        cmp    ds:[0x6C1190], eax;
	__asm        jg     near ptr 0x004FEC54;
	__asm        mov    eax, ds:[0x6C1190];
	__asm        add    eax, 4;
	__asm        cmp    eax, x;
	__asm        jle    near ptr 0x004FEC54;
	__asm        mov    eax, y;
	__asm        cmp    ds:[0x6C1194], eax;
	__asm        jg     near ptr 0x004FEC54;
	__asm        mov    eax, ds:[0x6C1194];
	__asm        add    eax, 4;
	__asm        cmp    eax, y;
	__asm        jle    near ptr 0x004FEC54;
// LINE 376:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xCA;
	__asm        inc    ptr;
// LINE 377:
	__asm        jmp    near ptr 0x004FEB21;
// LINE 381:
	__asm        cmp    tile, 0xD;
	__asm        je     near ptr 0x004FEC6B;
	__asm        cmp    tile, 0xD5;
	__asm        jne    near ptr 0x004FEC79;
// LINE 383:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x5A;
	__asm        inc    ptr;
// LINE 384:
	__asm        jmp    near ptr 0x004FEB21;
// LINE 388:
	__asm        cmp    tile, 0x1D;
	__asm        jl     near ptr 0x004FEC9B;
	__asm        cmp    tile, 0x70;
	__asm        jge    near ptr 0x004FEC9B;
// LINE 390:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x33;
	__asm        inc    ptr;
// LINE 391:
	__asm        jmp    near ptr 0x004FEB21;
// LINE 395:
	__asm        cmp    tile, 0x70;
	__asm        jl     near ptr 0x004FECB3;
// LINE 397:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x3A;
	__asm        inc    ptr;
// LINE 398:
	__asm        jmp    near ptr 0x004FEB21;
// LINE 402:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    al, [eax+ecx+0x66EB10];
	__asm        mov    texid, al;
// LINE 403:
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0x30;
	__asm        jl     near ptr 0x004FED36;
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0x40;
	__asm        jge    near ptr 0x004FED36;
// LINE 405:
	__asm        mov    eax, y;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 406:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        shr    eax, 6;
	__asm        mov    alt, ax;
// LINE 407:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 409:
	__asm        jmp    near ptr 0x004FEE1C;
	__asm        movsx  eax, texid;
	__asm        test   eax, eax;
	__asm        jl     near ptr 0x004FED5D;
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0xA;
	__asm        jge    near ptr 0x004FED5D;
// LINE 411:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x90;
	__asm        inc    ptr;
// LINE 413:
	__asm        jmp    near ptr 0x004FEE1C;
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0x20;
	__asm        jl     near ptr 0x004FEDCB;
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0x30;
	__asm        jge    near ptr 0x004FEDCB;
// LINE 415:
	__asm        mov    eax, y;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 416:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        shr    eax, 6;
	__asm        mov    alt, ax;
// LINE 417:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        add    eax, 0x50;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 419:
	__asm        jmp    near ptr 0x004FEE1C;
// LINE 421:
	__asm        mov    eax, y;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 422:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        shr    eax, 6;
	__asm        mov    alt, ax;
// LINE 423:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 425:
	__asm        jmp    near ptr 0x004FEB21;
// LINE 426:
	__asm        add    ptr, 0x14;
// LINE 427:
	__asm        jmp    near ptr 0x004FEAF1;
// LINE 428:
	__asm        jmp    near ptr 0x005001A1;
// LINE 432:
	__asm        mov    eax, posx;
	__asm        mov    ecx, ds:[0x5B527C];
	__asm        sar    ecx, 2;
	__asm        sub    eax, ecx;
	__asm        mov    ds:[0x608C08], eax;
// LINE 433:
	__asm        mov    eax, posy;
	__asm        mov    ecx, ds:[0x5B5280];
	__asm        sar    ecx, 2;
	__asm        sub    eax, ecx;
	__asm        mov    ds:[0x608C0C], eax;
// LINE 434:
	__asm        mov    eax, ds:[0x608C08];
	__asm        mov    ecx, ds:[0x5B527C];
	__asm        sar    ecx, 1;
	__asm        add    eax, ecx;
	__asm        dec    eax;
	__asm        mov    ds:[0x608BF8], eax;
// LINE 435:
	__asm        mov    eax, ds:[0x608C0C];
	__asm        mov    ecx, ds:[0x5B5280];
	__asm        sar    ecx, 1;
	__asm        add    eax, ecx;
	__asm        dec    eax;
	__asm        mov    ds:[0x608BFC], eax;
// LINE 437:
	__asm        mov    eax, ds:[0x608C0C];
	__asm        mov    y, eax;
	__asm        mov    county, 0;
	__asm        jmp    near ptr 0x004FEE9B;
	__asm        inc    county;
	__asm        inc    y;
	__asm        mov    eax, ds:[0x5B5280];
	__asm        sar    eax, 1;
	__asm        cmp    eax, county;
	__asm        jle    near ptr 0x004FF290;
// LINE 439:
	__asm        and    y, 0xFF;
// LINE 441:
	__asm        mov    eax, ptr;
	__asm        mov    lineptr, eax;
// LINE 443:
	__asm        mov    eax, ds:[0x608C08];
	__asm        mov    x, eax;
	__asm        mov    countx, 0;
	__asm        jmp    near ptr 0x004FEED3;
	__asm        inc    countx;
	__asm        inc    x;
	__asm        mov    eax, ds:[0x5B527C];
	__asm        sar    eax, 1;
	__asm        cmp    eax, countx;
	__asm        jle    near ptr 0x004FF266;
// LINE 445:
	__asm        and    x, 0xFF;
// LINE 448:
	__asm        cmp    x, 0x7F;
	__asm        jg     near ptr 0x004FEEFF;
	__asm        cmp    y, 0x7F;
	__asm        jle    near ptr 0x004FEF0B;
// LINE 450:
	__asm        mov    tile, 0;
// LINE 452:
	__asm        jmp    near ptr 0x004FEF20;
// LINE 455:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x639850];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        mov    tile, edx;
// LINE 461:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    eax, [eax+ecx*4+0x67ED30];
	__asm        mov    cptr, eax;
// LINE 462:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 0x20;
	__asm        je     near ptr 0x004FEF75;
// LINE 464:
	__asm        movsx  eax, byte ptr ds:[0x5B5284];
	__asm        add    eax, 0x10;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 465:
	__asm        movsx  eax, byte ptr ds:[0x5B5284];
	__asm        add    eax, 0x10;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 466:
	__asm        jmp    near ptr 0x004FEECD;
// LINE 469:
	__asm        cmp    tile, 0xD1;
	__asm        jne    near ptr 0x004FEF99;
// LINE 471:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xEA;
	__asm        inc    ptr;
// LINE 472:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xEA;
	__asm        inc    ptr;
// LINE 473:
	__asm        jmp    near ptr 0x004FEECD;
// LINE 475:
	__asm        cmp    tile, 0xD2;
	__asm        jne    near ptr 0x004FEFBD;
// LINE 477:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x9A;
	__asm        inc    ptr;
// LINE 478:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x9A;
	__asm        inc    ptr;
// LINE 479:
	__asm        jmp    near ptr 0x004FEECD;
// LINE 481:
	__asm        cmp    tile, 0xD3;
	__asm        jne    near ptr 0x004FEFE1;
// LINE 483:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x1A;
	__asm        inc    ptr;
// LINE 484:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x1A;
	__asm        inc    ptr;
// LINE 485:
	__asm        jmp    near ptr 0x004FEECD;
// LINE 488:
	__asm        mov    eax, x;
	__asm        cmp    ds:[0x6C1190], eax;
	__asm        jg     near ptr 0x004FF038;
	__asm        mov    eax, ds:[0x6C1190];
	__asm        add    eax, 4;
	__asm        cmp    eax, x;
	__asm        jle    near ptr 0x004FF038;
	__asm        mov    eax, y;
	__asm        cmp    ds:[0x6C1194], eax;
	__asm        jg     near ptr 0x004FF038;
	__asm        mov    eax, ds:[0x6C1194];
	__asm        add    eax, 4;
	__asm        cmp    eax, y;
	__asm        jle    near ptr 0x004FF038;
// LINE 490:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xCA;
	__asm        inc    ptr;
// LINE 491:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xCA;
	__asm        inc    ptr;
// LINE 492:
	__asm        jmp    near ptr 0x004FEECD;
// LINE 495:
	__asm        cmp    tile, 0xD;
	__asm        je     near ptr 0x004FF04F;
	__asm        cmp    tile, 0xD5;
	__asm        jne    near ptr 0x004FF066;
// LINE 497:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x5A;
	__asm        inc    ptr;
// LINE 498:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x5A;
	__asm        inc    ptr;
// LINE 499:
	__asm        jmp    near ptr 0x004FEECD;
// LINE 503:
	__asm        cmp    tile, 0x1D;
	__asm        jl     near ptr 0x004FF091;
	__asm        cmp    tile, 0x70;
	__asm        jge    near ptr 0x004FF091;
// LINE 505:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x33;
	__asm        inc    ptr;
// LINE 506:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x33;
	__asm        inc    ptr;
// LINE 507:
	__asm        jmp    near ptr 0x004FEECD;
// LINE 511:
	__asm        cmp    tile, 0x70;
	__asm        jl     near ptr 0x004FF0B2;
// LINE 513:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x3A;
	__asm        inc    ptr;
// LINE 514:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x3A;
	__asm        inc    ptr;
// LINE 515:
	__asm        jmp    near ptr 0x004FEECD;
// LINE 519:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    al, [eax+ecx+0x66EB10];
	__asm        mov    texid, al;
// LINE 520:
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0x30;
	__asm        jl     near ptr 0x004FF14A;
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0x40;
	__asm        jge    near ptr 0x004FF14A;
// LINE 522:
	__asm        mov    eax, y;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 523:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        shr    eax, 6;
	__asm        mov    alt, ax;
// LINE 524:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 525:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 527:
	__asm        jmp    near ptr 0x004FF261;
	__asm        movsx  eax, texid;
	__asm        test   eax, eax;
	__asm        jl     near ptr 0x004FF17A;
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0xA;
	__asm        jge    near ptr 0x004FF17A;
// LINE 529:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x90;
	__asm        inc    ptr;
// LINE 530:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x90;
	__asm        inc    ptr;
// LINE 532:
	__asm        jmp    near ptr 0x004FF261;
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0x20;
	__asm        jl     near ptr 0x004FF1FB;
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0x30;
	__asm        jge    near ptr 0x004FF1FB;
// LINE 534:
	__asm        mov    eax, y;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 535:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        shr    eax, 6;
	__asm        mov    alt, ax;
// LINE 536:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        add    eax, 0x50;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 537:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        add    eax, 0x50;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 539:
	__asm        jmp    near ptr 0x004FF261;
// LINE 541:
	__asm        mov    eax, y;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 542:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        shr    eax, 6;
	__asm        mov    alt, ax;
// LINE 543:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 544:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 546:
	__asm        jmp    near ptr 0x004FEECD;
// LINE 547:
	__asm        add    ptr, 0x14;
// LINE 548:
	__asm        mov    eax, ds:[0x5B527C];
	__asm        mov    edi, ptr;
	__asm        mov    esi, lineptr;
	__asm        mov    ecx, eax;
	__asm        shr    ecx, 2;
	__asm        rep movsd;
	__asm        mov    ecx, eax;
	__asm        and    ecx, 3;
	__asm        rep movsb;
// LINE 549:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        add    ptr, eax;
// LINE 550:
	__asm        jmp    near ptr 0x004FEE95;
// LINE 551:
	__asm        jmp    near ptr 0x005001A1;
// LINE 555:
	__asm        mov    eax, posx;
	__asm        mov    ecx, ds:[0x5B527C];
	__asm        sar    ecx, 3;
	__asm        sub    eax, ecx;
	__asm        mov    ds:[0x608C08], eax;
// LINE 556:
	__asm        mov    eax, posy;
	__asm        mov    ecx, ds:[0x5B5280];
	__asm        sar    ecx, 3;
	__asm        sub    eax, ecx;
	__asm        mov    ds:[0x608C0C], eax;
// LINE 557:
	__asm        mov    eax, ds:[0x5B527C];
	__asm        sar    eax, 2;
	__asm        add    eax, ds:[0x608C08];
	__asm        dec    eax;
	__asm        mov    ds:[0x608BF8], eax;
// LINE 558:
	__asm        mov    eax, ds:[0x608C0C];
	__asm        mov    ecx, ds:[0x5B5280];
	__asm        sar    ecx, 2;
	__asm        add    eax, ecx;
	__asm        dec    eax;
	__asm        mov    ds:[0x608BFC], eax;
// LINE 560:
	__asm        mov    eax, ds:[0x608C0C];
	__asm        mov    y, eax;
	__asm        mov    county, 0;
	__asm        jmp    near ptr 0x004FF2FF;
	__asm        inc    county;
	__asm        inc    y;
	__asm        mov    eax, ds:[0x5B5280];
	__asm        sar    eax, 2;
	__asm        cmp    eax, county;
	__asm        jle    near ptr 0x004FF87D;
// LINE 562:
	__asm        and    y, 0xFF;
// LINE 564:
	__asm        mov    eax, ptr;
	__asm        mov    lineptr, eax;
// LINE 566:
	__asm        mov    eax, ds:[0x608C08];
	__asm        mov    x, eax;
	__asm        mov    countx, 0;
	__asm        jmp    near ptr 0x004FF337;
	__asm        inc    countx;
	__asm        inc    x;
	__asm        mov    eax, ds:[0x5B527C];
	__asm        sar    eax, 2;
	__asm        cmp    eax, countx;
	__asm        jle    near ptr 0x004FF80E;
// LINE 568:
	__asm        and    x, 0xFF;
// LINE 570:
	__asm        mov    eax, posx;
	__asm        cmp    x, eax;
	__asm        jne    near ptr 0x004FF390;
	__asm        mov    eax, posy;
	__asm        cmp    y, eax;
	__asm        jne    near ptr 0x004FF390;
// LINE 572:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 573:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x70;
	__asm        inc    ptr;
// LINE 574:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x70;
	__asm        inc    ptr;
// LINE 575:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x70;
	__asm        inc    ptr;
// LINE 576:
	__asm        jmp    near ptr 0x004FF331;
// LINE 580:
	__asm        cmp    x, 0x7F;
	__asm        jg     near ptr 0x004FF3A4;
	__asm        cmp    y, 0x7F;
	__asm        jle    near ptr 0x004FF3B0;
// LINE 582:
	__asm        mov    tile, 0;
// LINE 584:
	__asm        jmp    near ptr 0x004FF3C5;
// LINE 587:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x639850];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        mov    tile, edx;
// LINE 593:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    eax, [eax+ecx*4+0x67ED30];
	__asm        mov    cptr, eax;
// LINE 594:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 0x20;
	__asm        je     near ptr 0x004FF435;
// LINE 596:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 597:
	__asm        movsx  eax, byte ptr ds:[0x5B5284];
	__asm        add    eax, 0x10;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 598:
	__asm        movsx  eax, byte ptr ds:[0x5B5284];
	__asm        add    eax, 0x10;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 599:
	__asm        movsx  eax, byte ptr ds:[0x5B5284];
	__asm        add    eax, 0x10;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 600:
	__asm        jmp    near ptr 0x004FF331;
// LINE 603:
	__asm        cmp    tile, 0xD1;
	__asm        jne    near ptr 0x004FF46B;
// LINE 605:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 606:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xEA;
	__asm        inc    ptr;
// LINE 607:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xEA;
	__asm        inc    ptr;
// LINE 608:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xEA;
	__asm        inc    ptr;
// LINE 609:
	__asm        jmp    near ptr 0x004FF331;
// LINE 611:
	__asm        cmp    tile, 0xD2;
	__asm        jne    near ptr 0x004FF4A1;
// LINE 613:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 614:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x9A;
	__asm        inc    ptr;
// LINE 615:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x9A;
	__asm        inc    ptr;
// LINE 616:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x9A;
	__asm        inc    ptr;
// LINE 617:
	__asm        jmp    near ptr 0x004FF331;
// LINE 619:
	__asm        cmp    tile, 0xD3;
	__asm        jne    near ptr 0x004FF4D7;
// LINE 621:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 622:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x1A;
	__asm        inc    ptr;
// LINE 623:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x1A;
	__asm        inc    ptr;
// LINE 624:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x1A;
	__asm        inc    ptr;
// LINE 625:
	__asm        jmp    near ptr 0x004FF331;
// LINE 628:
	__asm        mov    eax, x;
	__asm        cmp    ds:[0x6C1190], eax;
	__asm        jg     near ptr 0x004FF540;
	__asm        mov    eax, ds:[0x6C1190];
	__asm        add    eax, 4;
	__asm        cmp    eax, x;
	__asm        jle    near ptr 0x004FF540;
	__asm        mov    eax, y;
	__asm        cmp    ds:[0x6C1194], eax;
	__asm        jg     near ptr 0x004FF540;
	__asm        mov    eax, ds:[0x6C1194];
	__asm        add    eax, 4;
	__asm        cmp    eax, y;
	__asm        jle    near ptr 0x004FF540;
// LINE 630:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 631:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xCA;
	__asm        inc    ptr;
// LINE 632:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xCA;
	__asm        inc    ptr;
// LINE 633:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xCA;
	__asm        inc    ptr;
// LINE 634:
	__asm        jmp    near ptr 0x004FF331;
// LINE 637:
	__asm        cmp    tile, 0xD;
	__asm        je     near ptr 0x004FF557;
	__asm        cmp    tile, 0xD5;
	__asm        jne    near ptr 0x004FF580;
// LINE 639:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 640:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x5A;
	__asm        inc    ptr;
// LINE 641:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x5A;
	__asm        inc    ptr;
// LINE 642:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x5A;
	__asm        inc    ptr;
// LINE 643:
	__asm        jmp    near ptr 0x004FF331;
// LINE 647:
	__asm        cmp    tile, 0x1D;
	__asm        jl     near ptr 0x004FF5BD;
	__asm        cmp    tile, 0x70;
	__asm        jge    near ptr 0x004FF5BD;
// LINE 649:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 650:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x33;
	__asm        inc    ptr;
// LINE 651:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x33;
	__asm        inc    ptr;
// LINE 652:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x33;
	__asm        inc    ptr;
// LINE 653:
	__asm        jmp    near ptr 0x004FF331;
// LINE 657:
	__asm        cmp    tile, 0x70;
	__asm        jl     near ptr 0x004FF5F0;
// LINE 659:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 660:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x3A;
	__asm        inc    ptr;
// LINE 661:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x3A;
	__asm        inc    ptr;
// LINE 662:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x3A;
	__asm        inc    ptr;
// LINE 663:
	__asm        jmp    near ptr 0x004FF331;
// LINE 667:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    al, [eax+ecx+0x66EB10];
	__asm        mov    texid, al;
// LINE 668:
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0x30;
	__asm        jl     near ptr 0x004FF6A6;
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0x40;
	__asm        jge    near ptr 0x004FF6A6;
// LINE 670:
	__asm        mov    eax, y;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 671:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        shr    eax, 6;
	__asm        mov    alt, ax;
// LINE 672:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 673:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 674:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 675:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 677:
	__asm        jmp    near ptr 0x004FF809;
	__asm        movsx  eax, texid;
	__asm        test   eax, eax;
	__asm        jl     near ptr 0x004FF6E8;
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0xA;
	__asm        jge    near ptr 0x004FF6E8;
// LINE 679:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 680:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x90;
	__asm        inc    ptr;
// LINE 681:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x90;
	__asm        inc    ptr;
// LINE 682:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x90;
	__asm        inc    ptr;
// LINE 684:
	__asm        jmp    near ptr 0x004FF809;
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0x20;
	__asm        jl     near ptr 0x004FF785;
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0x30;
	__asm        jge    near ptr 0x004FF785;
// LINE 686:
	__asm        mov    eax, y;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 687:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        shr    eax, 6;
	__asm        mov    alt, ax;
// LINE 688:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 689:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        add    eax, 0x50;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 690:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        add    eax, 0x50;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 691:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        add    eax, 0x50;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 693:
	__asm        jmp    near ptr 0x004FF809;
// LINE 695:
	__asm        mov    eax, y;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 696:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        shr    eax, 6;
	__asm        mov    alt, ax;
// LINE 697:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 698:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 699:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 700:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 702:
	__asm        jmp    near ptr 0x004FF331;
// LINE 703:
	__asm        add    ptr, 0x14;
// LINE 704:
	__asm        mov    edx, ds:[0x5B527C];
	__asm        mov    edi, ptr;
	__asm        mov    eax, 0xE8E8E8E8;
	__asm        mov    ecx, edx;
	__asm        shr    ecx, 2;
	__asm        rep stosd;
	__asm        mov    ecx, edx;
	__asm        and    ecx, 3;
	__asm        rep stosb;
// LINE 705:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        add    ptr, eax;
// LINE 706:
	__asm        mov    eax, ds:[0x5B527C];
	__asm        mov    edi, ptr;
	__asm        mov    esi, lineptr;
	__asm        mov    ecx, eax;
	__asm        shr    ecx, 2;
	__asm        rep movsd;
	__asm        mov    ecx, eax;
	__asm        and    ecx, 3;
	__asm        rep movsb;
// LINE 707:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        add    ptr, eax;
// LINE 708:
	__asm        mov    eax, ds:[0x5B527C];
	__asm        mov    edi, ptr;
	__asm        mov    esi, lineptr;
	__asm        mov    ecx, eax;
	__asm        shr    ecx, 2;
	__asm        rep movsd;
	__asm        mov    ecx, eax;
	__asm        and    ecx, 3;
	__asm        rep movsb;
// LINE 709:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        add    ptr, eax;
// LINE 710:
	__asm        jmp    near ptr 0x004FF2F9;
// LINE 711:
	__asm        jmp    near ptr 0x005001A1;
// LINE 715:
	__asm        mov    eax, posx;
	__asm        mov    ecx, ds:[0x5B527C];
	__asm        sar    ecx, 4;
	__asm        sub    eax, ecx;
	__asm        mov    ds:[0x608C08], eax;
// LINE 716:
	__asm        mov    eax, posy;
	__asm        mov    ecx, ds:[0x5B5280];
	__asm        sar    ecx, 4;
	__asm        sub    eax, ecx;
	__asm        mov    ds:[0x608C0C], eax;
// LINE 717:
	__asm        mov    eax, ds:[0x5B527C];
	__asm        sar    eax, 3;
	__asm        add    eax, ds:[0x608C08];
	__asm        dec    eax;
	__asm        mov    ds:[0x608BF8], eax;
// LINE 718:
	__asm        mov    eax, ds:[0x608C0C];
	__asm        mov    ecx, ds:[0x5B5280];
	__asm        sar    ecx, 3;
	__asm        add    eax, ecx;
	__asm        dec    eax;
	__asm        mov    ds:[0x608BFC], eax;
// LINE 720:
	__asm        mov    eax, ds:[0x608C0C];
	__asm        mov    y, eax;
	__asm        mov    county, 0;
	__asm        jmp    near ptr 0x004FF8EC;
	__asm        inc    county;
	__asm        inc    y;
	__asm        mov    eax, ds:[0x5B5280];
	__asm        sar    eax, 3;
	__asm        cmp    eax, county;
	__asm        jle    near ptr 0x0050016E;
// LINE 722:
	__asm        and    y, 0xFF;
// LINE 724:
	__asm        mov    eax, ptr;
	__asm        mov    lineptr, eax;
// LINE 726:
	__asm        mov    eax, ds:[0x608C08];
	__asm        mov    x, eax;
	__asm        mov    countx, 0;
	__asm        jmp    near ptr 0x004FF924;
	__asm        inc    countx;
	__asm        inc    x;
	__asm        mov    eax, ds:[0x5B527C];
	__asm        sar    eax, 3;
	__asm        cmp    eax, countx;
	__asm        jle    near ptr 0x0050007B;
// LINE 728:
	__asm        and    x, 0xFF;
// LINE 730:
	__asm        mov    eax, posx;
	__asm        cmp    x, eax;
	__asm        jne    near ptr 0x004FF9A1;
	__asm        mov    eax, posy;
	__asm        cmp    y, eax;
	__asm        jne    near ptr 0x004FF9A1;
// LINE 732:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 733:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x70;
	__asm        inc    ptr;
// LINE 734:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x70;
	__asm        inc    ptr;
// LINE 735:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x70;
	__asm        inc    ptr;
// LINE 736:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x70;
	__asm        inc    ptr;
// LINE 737:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x70;
	__asm        inc    ptr;
// LINE 738:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x70;
	__asm        inc    ptr;
// LINE 739:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x70;
	__asm        inc    ptr;
// LINE 740:
	__asm        jmp    near ptr 0x004FF91E;
// LINE 745:
	__asm        cmp    x, 0x7F;
	__asm        jg     near ptr 0x004FF9B5;
	__asm        cmp    y, 0x7F;
	__asm        jle    near ptr 0x004FF9C1;
// LINE 747:
	__asm        mov    tile, 0;
// LINE 749:
	__asm        jmp    near ptr 0x004FF9D6;
// LINE 752:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x639850];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        mov    tile, edx;
// LINE 758:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    eax, [eax+ecx*4+0x67ED30];
	__asm        mov    cptr, eax;
// LINE 759:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 0x20;
	__asm        je     near ptr 0x004FFA8E;
// LINE 761:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 762:
	__asm        movsx  eax, byte ptr ds:[0x5B5284];
	__asm        add    eax, 0x10;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 763:
	__asm        movsx  eax, byte ptr ds:[0x5B5284];
	__asm        add    eax, 0x10;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 764:
	__asm        movsx  eax, byte ptr ds:[0x5B5284];
	__asm        add    eax, 0x10;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 765:
	__asm        movsx  eax, byte ptr ds:[0x5B5284];
	__asm        add    eax, 0x10;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 766:
	__asm        movsx  eax, byte ptr ds:[0x5B5284];
	__asm        add    eax, 0x10;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 767:
	__asm        movsx  eax, byte ptr ds:[0x5B5284];
	__asm        add    eax, 0x10;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 768:
	__asm        movsx  eax, byte ptr ds:[0x5B5284];
	__asm        add    eax, 0x10;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 769:
	__asm        jmp    near ptr 0x004FF91E;
// LINE 772:
	__asm        cmp    tile, 0xD1;
	__asm        jne    near ptr 0x004FFAE8;
// LINE 774:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 775:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xEA;
	__asm        inc    ptr;
// LINE 776:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xEA;
	__asm        inc    ptr;
// LINE 777:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xEA;
	__asm        inc    ptr;
// LINE 778:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xEA;
	__asm        inc    ptr;
// LINE 779:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xEA;
	__asm        inc    ptr;
// LINE 780:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xEA;
	__asm        inc    ptr;
// LINE 781:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xEA;
	__asm        inc    ptr;
// LINE 782:
	__asm        jmp    near ptr 0x004FF91E;
// LINE 784:
	__asm        cmp    tile, 0xD2;
	__asm        jne    near ptr 0x004FFB42;
// LINE 786:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 787:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x9A;
	__asm        inc    ptr;
// LINE 788:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x9A;
	__asm        inc    ptr;
// LINE 789:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x9A;
	__asm        inc    ptr;
// LINE 790:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x9A;
	__asm        inc    ptr;
// LINE 791:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x9A;
	__asm        inc    ptr;
// LINE 792:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x9A;
	__asm        inc    ptr;
// LINE 793:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x9A;
	__asm        inc    ptr;
// LINE 794:
	__asm        jmp    near ptr 0x004FF91E;
// LINE 796:
	__asm        cmp    tile, 0xD3;
	__asm        jne    near ptr 0x004FFB9C;
// LINE 798:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 799:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x1A;
	__asm        inc    ptr;
// LINE 800:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x1A;
	__asm        inc    ptr;
// LINE 801:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x1A;
	__asm        inc    ptr;
// LINE 802:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x1A;
	__asm        inc    ptr;
// LINE 803:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x1A;
	__asm        inc    ptr;
// LINE 804:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x1A;
	__asm        inc    ptr;
// LINE 805:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x1A;
	__asm        inc    ptr;
// LINE 806:
	__asm        jmp    near ptr 0x004FF91E;
// LINE 809:
	__asm        mov    eax, x;
	__asm        cmp    ds:[0x6C1190], eax;
	__asm        jg     near ptr 0x004FFC29;
	__asm        mov    eax, ds:[0x6C1190];
	__asm        add    eax, 4;
	__asm        cmp    eax, x;
	__asm        jle    near ptr 0x004FFC29;
	__asm        mov    eax, y;
	__asm        cmp    ds:[0x6C1194], eax;
	__asm        jg     near ptr 0x004FFC29;
	__asm        mov    eax, ds:[0x6C1194];
	__asm        add    eax, 4;
	__asm        cmp    eax, y;
	__asm        jle    near ptr 0x004FFC29;
// LINE 811:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 812:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xCA;
	__asm        inc    ptr;
// LINE 813:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xCA;
	__asm        inc    ptr;
// LINE 814:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xCA;
	__asm        inc    ptr;
// LINE 815:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xCA;
	__asm        inc    ptr;
// LINE 816:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xCA;
	__asm        inc    ptr;
// LINE 817:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xCA;
	__asm        inc    ptr;
// LINE 818:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xCA;
	__asm        inc    ptr;
// LINE 819:
	__asm        jmp    near ptr 0x004FF91E;
// LINE 823:
	__asm        cmp    tile, 0xD;
	__asm        je     near ptr 0x004FFC40;
	__asm        cmp    tile, 0xD5;
	__asm        jne    near ptr 0x004FFC8D;
// LINE 825:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 826:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x5A;
	__asm        inc    ptr;
// LINE 827:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x5A;
	__asm        inc    ptr;
// LINE 828:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x5A;
	__asm        inc    ptr;
// LINE 829:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x5A;
	__asm        inc    ptr;
// LINE 830:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x5A;
	__asm        inc    ptr;
// LINE 831:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x5A;
	__asm        inc    ptr;
// LINE 832:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x5A;
	__asm        inc    ptr;
// LINE 833:
	__asm        jmp    near ptr 0x004FF91E;
// LINE 837:
	__asm        cmp    tile, 0x1D;
	__asm        jl     near ptr 0x004FFCEE;
	__asm        cmp    tile, 0x70;
	__asm        jge    near ptr 0x004FFCEE;
// LINE 839:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 840:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x33;
	__asm        inc    ptr;
// LINE 841:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x33;
	__asm        inc    ptr;
// LINE 842:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x33;
	__asm        inc    ptr;
// LINE 843:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x33;
	__asm        inc    ptr;
// LINE 844:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x33;
	__asm        inc    ptr;
// LINE 845:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x33;
	__asm        inc    ptr;
// LINE 846:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x33;
	__asm        inc    ptr;
// LINE 847:
	__asm        jmp    near ptr 0x004FF91E;
// LINE 851:
	__asm        cmp    tile, 0x70;
	__asm        jl     near ptr 0x004FFD45;
// LINE 853:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 854:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x3A;
	__asm        inc    ptr;
// LINE 855:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x3A;
	__asm        inc    ptr;
// LINE 856:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x3A;
	__asm        inc    ptr;
// LINE 857:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x3A;
	__asm        inc    ptr;
// LINE 858:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x3A;
	__asm        inc    ptr;
// LINE 859:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x3A;
	__asm        inc    ptr;
// LINE 860:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x3A;
	__asm        inc    ptr;
// LINE 861:
	__asm        jmp    near ptr 0x004FF91E;
// LINE 865:
	__asm        mov    eax, y;
	__asm        mov    ecx, x;
	__asm        shl    ecx, 8;
	__asm        mov    al, [eax+ecx+0x66EB10];
	__asm        mov    texid, al;
// LINE 866:
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0x30;
	__asm        jl     near ptr 0x004FFE4F;
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0x40;
	__asm        jge    near ptr 0x004FFE4F;
// LINE 868:
	__asm        mov    eax, y;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 869:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        shr    eax, 6;
	__asm        mov    alt, ax;
// LINE 870:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 871:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 872:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 873:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 874:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 875:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 876:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 877:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 879:
	__asm        jmp    near ptr 0x00500076;
	__asm        movsx  eax, texid;
	__asm        test   eax, eax;
	__asm        jl     near ptr 0x004FFEB5;
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0xA;
	__asm        jge    near ptr 0x004FFEB5;
// LINE 881:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 882:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x90;
	__asm        inc    ptr;
// LINE 883:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x90;
	__asm        inc    ptr;
// LINE 884:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x90;
	__asm        inc    ptr;
// LINE 885:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x90;
	__asm        inc    ptr;
// LINE 886:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x90;
	__asm        inc    ptr;
// LINE 887:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x90;
	__asm        inc    ptr;
// LINE 888:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x90;
	__asm        inc    ptr;
// LINE 890:
	__asm        jmp    near ptr 0x00500076;
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0x20;
	__asm        jl     near ptr 0x004FFF9E;
	__asm        movsx  eax, texid;
	__asm        cmp    eax, 0x30;
	__asm        jge    near ptr 0x004FFF9E;
// LINE 892:
	__asm        mov    eax, y;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 893:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        shr    eax, 6;
	__asm        mov    alt, ax;
// LINE 894:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 895:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        add    eax, 0x50;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 896:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        add    eax, 0x50;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 897:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        add    eax, 0x50;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 898:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        add    eax, 0x50;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 899:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        add    eax, 0x50;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 900:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        add    eax, 0x50;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 901:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        add    eax, 0x50;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 903:
	__asm        jmp    near ptr 0x00500076;
// LINE 905:
	__asm        mov    eax, y;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 906:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        shr    eax, 6;
	__asm        mov    alt, ax;
// LINE 907:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0xE8;
	__asm        inc    ptr;
// LINE 908:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 909:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 910:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 911:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 912:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 913:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 914:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        sub    eax, 0x80;
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], al;
	__asm        inc    ptr;
// LINE 916:
	__asm        jmp    near ptr 0x004FF91E;
// LINE 924:
	__asm        add    ptr, 0x14;
// LINE 926:
	__asm        mov    eax, ds:[0x5B527C];
	__asm        mov    edi, ptr;
	__asm        mov    esi, lineptr;
	__asm        mov    ecx, eax;
	__asm        shr    ecx, 2;
	__asm        rep movsd;
	__asm        mov    ecx, eax;
	__asm        and    ecx, 3;
	__asm        rep movsb;
// LINE 927:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        add    ptr, eax;
// LINE 928:
	__asm        mov    eax, ds:[0x5B527C];
	__asm        mov    edi, ptr;
	__asm        mov    esi, lineptr;
	__asm        mov    ecx, eax;
	__asm        shr    ecx, 2;
	__asm        rep movsd;
	__asm        mov    ecx, eax;
	__asm        and    ecx, 3;
	__asm        rep movsb;
// LINE 929:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        add    ptr, eax;
// LINE 930:
	__asm        mov    eax, ds:[0x5B527C];
	__asm        mov    edi, ptr;
	__asm        mov    esi, lineptr;
	__asm        mov    ecx, eax;
	__asm        shr    ecx, 2;
	__asm        rep movsd;
	__asm        mov    ecx, eax;
	__asm        and    ecx, 3;
	__asm        rep movsb;
// LINE 931:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        add    ptr, eax;
// LINE 932:
	__asm        mov    eax, ds:[0x5B527C];
	__asm        mov    edi, ptr;
	__asm        mov    esi, lineptr;
	__asm        mov    ecx, eax;
	__asm        shr    ecx, 2;
	__asm        rep movsd;
	__asm        mov    ecx, eax;
	__asm        and    ecx, 3;
	__asm        rep movsb;
// LINE 933:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        add    ptr, eax;
// LINE 934:
	__asm        mov    eax, ds:[0x5B527C];
	__asm        mov    edi, ptr;
	__asm        mov    esi, lineptr;
	__asm        mov    ecx, eax;
	__asm        shr    ecx, 2;
	__asm        rep movsd;
	__asm        mov    ecx, eax;
	__asm        and    ecx, 3;
	__asm        rep movsb;
// LINE 935:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        add    ptr, eax;
// LINE 936:
	__asm        mov    eax, ds:[0x5B527C];
	__asm        mov    edi, ptr;
	__asm        mov    esi, lineptr;
	__asm        mov    ecx, eax;
	__asm        shr    ecx, 2;
	__asm        rep movsd;
	__asm        mov    ecx, eax;
	__asm        and    ecx, 3;
	__asm        rep movsb;
// LINE 937:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        add    ptr, eax;
// LINE 938:
	__asm        mov    edx, ds:[0x5B527C];
	__asm        mov    edi, ptr;
	__asm        mov    eax, 0xE8E8E8E8;
	__asm        mov    ecx, edx;
	__asm        shr    ecx, 2;
	__asm        rep stosd;
	__asm        mov    ecx, edx;
	__asm        and    ecx, 3;
	__asm        rep stosb;
// LINE 939:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        add    ptr, eax;
// LINE 940:
	__asm        jmp    near ptr 0x004FF8E6;
// LINE 941:
	__asm        jmp    near ptr 0x005001A1;
// LINE 944:
	__asm        jmp    near ptr 0x005001A1;
// LINE 946:
	__asm        jmp    near ptr 0x005001A1;
	__asm        cmp    dword ptr [ebp-0x2C], 3;
	__asm        ja     near ptr 0x005001A1;
	__asm        mov    eax, [ebp-0x2C];
	__asm        jmp    dword ptr [eax*4+0x500191];
// Switch pointers
// LINE 949:
	__asm        mov    eax, posy;
	__asm        push   eax;
	__asm        mov    eax, posx;
	__asm        push   eax;
	__asm        call   S3MapDrawPosLines;
	__asm        add    esp, 8;
// LINE 950:
	__asm        mov    eax, posy;
	__asm        push   eax;
	__asm        mov    eax, posx;
	__asm        push   eax;
	__asm        call   S3MapDrawMissionIcons;
	__asm        add    esp, 8;
// LINE 951:
	__asm        call   S3MapDrawCarIcons;
// LINE 952:
}

// FUNCTION: COPTER_D 0x005001cb
void S3MapDrawPosLines(long posx, long posy) {
	struct Point2d* maploc;
	long desticon;
	long y;
	long i;
	long x;
	int32_t dfy;
	int32_t fy;
	int32_t dfx;
	int32_t fx;
	int32_t dist;
	long pickicon;
	char * ptr;

// LINE 967:
	__asm        mov    eax, ds:[0x5B5270];
	__asm        mov    ptr, eax;
// LINE 971:
	__asm        mov    desticon, 0xFFFFFFFF;
// LINE 972:
	__asm        mov    pickicon, 0xFFFFFFFF;
// LINE 974:
	__asm        and    posy, 0xFF;
// LINE 975:
	__asm        and    posx, 0xFF;
// LINE 987:
	__asm        call   S3MissionGetCurrDestMapLoc;
	__asm        mov    maploc, eax;
// LINE 988:
	__asm        cmp    maploc, 0;
	__asm        je     near ptr 0x005002B1;
// LINE 990:
	__asm        lea    eax, dfy;
	__asm        push   eax;
	__asm        lea    eax, dfx;
	__asm        push   eax;
	__asm        mov    eax, maploc;
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        mov    eax, maploc;
	__asm        mov    eax, [eax];
	__asm        push   eax;
	__asm        mov    eax, posy;
	__asm        push   eax;
	__asm        mov    eax, posx;
	__asm        push   eax;
	__asm        call   S3MapGetDxDy;
	__asm        add    esp, 0x18;
// LINE 993:
	__asm        mov    eax, dfx;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        sar    eax, cl;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        mov    fx, eax;
// LINE 994:
	__asm        mov    eax, dfy;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        sar    eax, cl;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        mov    fy, eax;
// LINE 995:
	__asm        mov    eax, fx;
	__asm        cmp    fy, eax;
	__asm        jge    near ptr 0x00500271;
	__asm        mov    eax, fx;
	__asm        add    eax, eax;
	__asm        add    eax, fy;
	__asm        mov    dist, eax;
// LINE 996:
	__asm        jmp    near ptr 0x0050027C;
	__asm        mov    eax, fy;
	__asm        add    eax, eax;
	__asm        add    eax, fx;
	__asm        mov    dist, eax;
// LINE 997:
	__asm        mov    ecx, 0x3F;
	__asm        mov    eax, dist;
	__asm        shl    eax, 4;
	__asm        mov    ebx, 0x184;
	__asm        cdq;
	__asm        idiv   ebx;
	__asm        sub    ecx, eax;
	__asm        mov    i, ecx;
// LINE 999:
	__asm        mov    eax, desticon;
	__asm        push   eax;
	__asm        mov    eax, i;
	__asm        push   eax;
	__asm        mov    eax, dfy;
	__asm        push   eax;
	__asm        mov    eax, dfx;
	__asm        push   eax;
	__asm        call   S3MapDrawLine;
	__asm        add    esp, 0x10;
// LINE 1001:
	__asm        jmp    near ptr 0x00500365;
// LINE 1003:
	__asm        call   S3MissionGetCurrMapLoc;
	__asm        mov    maploc, eax;
// LINE 1004:
	__asm        cmp    maploc, 0;
	__asm        je     near ptr 0x00500365;
// LINE 1006:
	__asm        lea    eax, dfy;
	__asm        push   eax;
	__asm        lea    eax, dfx;
	__asm        push   eax;
	__asm        mov    eax, maploc;
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        mov    eax, maploc;
	__asm        mov    eax, [eax];
	__asm        push   eax;
	__asm        mov    eax, posy;
	__asm        push   eax;
	__asm        mov    eax, posx;
	__asm        push   eax;
	__asm        call   S3MapGetDxDy;
	__asm        add    esp, 0x18;
// LINE 1009:
	__asm        mov    eax, dfx;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        sar    eax, cl;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        mov    fx, eax;
// LINE 1010:
	__asm        mov    eax, dfy;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        sar    eax, cl;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        mov    fy, eax;
// LINE 1011:
	__asm        mov    eax, fx;
	__asm        cmp    fy, eax;
	__asm        jge    near ptr 0x0050032A;
	__asm        mov    eax, fx;
	__asm        add    eax, eax;
	__asm        add    eax, fy;
	__asm        mov    dist, eax;
// LINE 1012:
	__asm        jmp    near ptr 0x00500335;
	__asm        mov    eax, fy;
	__asm        add    eax, eax;
	__asm        add    eax, fx;
	__asm        mov    dist, eax;
// LINE 1013:
	__asm        mov    ecx, 0x3F;
	__asm        mov    eax, dist;
	__asm        shl    eax, 4;
	__asm        mov    ebx, 0x184;
	__asm        cdq;
	__asm        idiv   ebx;
	__asm        sub    ecx, eax;
	__asm        mov    i, ecx;
// LINE 1015:
	__asm        mov    eax, desticon;
	__asm        push   eax;
	__asm        mov    eax, i;
	__asm        push   eax;
	__asm        mov    eax, dfy;
	__asm        push   eax;
	__asm        mov    eax, dfx;
	__asm        push   eax;
	__asm        call   S3MapDrawLine;
	__asm        add    esp, 0x10;
// LINE 1019:
	__asm        call   S3MissionGetCurrPickupLoc;
	__asm        mov    maploc, eax;
// LINE 1020:
	__asm        cmp    maploc, 0;
	__asm        je     near ptr 0x00500419;
// LINE 1022:
	__asm        lea    eax, dfy;
	__asm        push   eax;
	__asm        lea    eax, dfx;
	__asm        push   eax;
	__asm        mov    eax, maploc;
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        mov    eax, maploc;
	__asm        mov    eax, [eax];
	__asm        push   eax;
	__asm        mov    eax, posy;
	__asm        push   eax;
	__asm        mov    eax, posx;
	__asm        push   eax;
	__asm        call   S3MapGetDxDy;
	__asm        add    esp, 0x18;
// LINE 1025:
	__asm        mov    eax, dfx;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        sar    eax, cl;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        mov    fx, eax;
// LINE 1026:
	__asm        mov    eax, dfy;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        sar    eax, cl;
	__asm        cdq;
	__asm        xor    eax, edx;
	__asm        sub    eax, edx;
	__asm        mov    fy, eax;
// LINE 1027:
	__asm        mov    eax, fx;
	__asm        cmp    fy, eax;
	__asm        jge    near ptr 0x005003DE;
	__asm        mov    eax, fx;
	__asm        add    eax, eax;
	__asm        add    eax, fy;
	__asm        mov    dist, eax;
// LINE 1028:
	__asm        jmp    near ptr 0x005003E9;
	__asm        mov    eax, fy;
	__asm        add    eax, eax;
	__asm        add    eax, fx;
	__asm        mov    dist, eax;
// LINE 1029:
	__asm        mov    ecx, 0x6F;
	__asm        mov    eax, dist;
	__asm        shl    eax, 4;
	__asm        mov    ebx, 0x184;
	__asm        cdq;
	__asm        idiv   ebx;
	__asm        sub    ecx, eax;
	__asm        mov    i, ecx;
// LINE 1031:
	__asm        mov    eax, desticon;
	__asm        push   eax;
	__asm        mov    eax, i;
	__asm        push   eax;
	__asm        mov    eax, dfy;
	__asm        push   eax;
	__asm        mov    eax, dfx;
	__asm        push   eax;
	__asm        call   S3MapDrawLine;
	__asm        add    esp, 0x10;
// LINE 1037:
	__asm        cmp    dword ptr ds:[0x5B4DB8], 3;
	__asm        je     near ptr 0x00500449;
// LINE 1039:
	__asm        mov    eax, ds:[0x5B4968];
	__asm        mov    eax, [eax+0x100];
	__asm        mov    fx, eax;
// LINE 1040:
	__asm        mov    eax, ds:[0x5B4968];
	__asm        mov    eax, [eax+0x108];
	__asm        neg    eax;
	__asm        mov    fy, eax;
// LINE 1042:
	__asm        jmp    near ptr 0x00500460;
// LINE 1044:
	__asm        call   GetAvatarVector;
	__asm        mov    eax, [eax];
	__asm        mov    fx, eax;
// LINE 1045:
	__asm        call   GetAvatarVector;
	__asm        mov    eax, [eax+8];
	__asm        neg    eax;
	__asm        mov    fy, eax;
// LINE 1048:
	__asm        mov    dfy, 0;
	__asm        mov    eax, dfy;
	__asm        mov    dfx, eax;
// LINE 1049:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x0050047C;
	__asm        inc    i;
	__asm        mov    eax, i;
	__asm        cmp    ds:[0x5B5288], eax;
	__asm        jle    near ptr 0x005004CA;
// LINE 1052:
	__asm        mov    eax, dfx;
	__asm        sar    eax, 0x10;
	__asm        mov    x, eax;
// LINE 1053:
	__asm        mov    eax, dfy;
	__asm        sar    eax, 0x10;
	__asm        mov    y, eax;
// LINE 1054:
	__asm        mov    eax, fx;
	__asm        add    dfx, eax;
// LINE 1055:
	__asm        mov    eax, fy;
	__asm        add    dfy, eax;
// LINE 1056:
	__asm        mov    eax, y;
	__asm        imul   eax, ds:[0x5B5268];
	__asm        add    eax, x;
	__asm        add    eax, ds:[0x5B5278];
	__asm        mov    ptr, eax;
// LINE 1057:
	__asm        mov    eax, ptr;
	__asm        mov    byte ptr [eax], 0x70;
// LINE 1058:
	__asm        jmp    near ptr 0x00500479;
// LINE 1059:
}

// FUNCTION: COPTER_D 0x005004cf
void S3MapDrawLine(int32_t dx, int32_t dy, char col, long icon_id) {
	int32_t error;
	int32_t Yinc;
	int32_t index;
	int32_t Xinc;
	int32_t Yunit;
	int32_t ypos;
	int32_t xpos;
	char * writeBuffer;

// LINE 1076:
	__asm        mov    error, 0;
// LINE 1080:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        sar    eax, 1;
	__asm        mov    xpos, eax;
// LINE 1081:
	__asm        mov    eax, ds:[0x5B526C];
	__asm        sar    eax, 1;
	__asm        mov    ypos, eax;
// LINE 1084:
	__asm        mov    eax, ds:[0x5B5278];
	__asm        mov    writeBuffer, eax;
// LINE 1086:
	__asm        cmp    dx, 0;
	__asm        jl     near ptr 0x00500513;
// LINE 1088:
	__asm        mov    Xinc, 1;
// LINE 1090:
	__asm        jmp    near ptr 0x00500522;
// LINE 1092:
	__asm        mov    Xinc, 0xFFFFFFFF;
// LINE 1093:
	__asm        mov    eax, dx;
	__asm        neg    eax;
	__asm        mov    dx, eax;
// LINE 1096:
	__asm        cmp    dy, 0;
	__asm        jl     near ptr 0x00500540;
// LINE 1098:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        mov    Yinc, eax;
// LINE 1099:
	__asm        mov    Yunit, 1;
// LINE 1101:
	__asm        jmp    near ptr 0x00500559;
// LINE 1103:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        neg    eax;
	__asm        mov    Yinc, eax;
// LINE 1104:
	__asm        mov    eax, dy;
	__asm        neg    eax;
	__asm        mov    dy, eax;
// LINE 1105:
	__asm        mov    Yunit, 0xFFFFFFFF;
// LINE 1108:
	__asm        mov    eax, dx;
	__asm        cmp    dy, eax;
	__asm        jge    near ptr 0x00500607;
// LINE 1110:
	__asm        mov    index, 0;
	__asm        jmp    near ptr 0x00500574;
	__asm        inc    index;
	__asm        mov    eax, dx;
	__asm        cmp    index, eax;
	__asm        jg     near ptr 0x00500602;
// LINE 1112:
	__asm        movsx  eax, col;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x00500594;
	__asm        mov    al, col;
	__asm        mov    ecx, writeBuffer;
	__asm        mov    [ecx], al;
// LINE 1113:
	__asm        mov    eax, dy;
	__asm        add    error, eax;
// LINE 1114:
	__asm        mov    eax, dx;
	__asm        cmp    error, eax;
	__asm        jle    near ptr 0x005005BC;
// LINE 1116:
	__asm        xor    eax, eax;
	__asm        sub    eax, dx;
	__asm        neg    eax;
	__asm        sub    error, eax;
// LINE 1117:
	__asm        mov    eax, Yinc;
	__asm        add    writeBuffer, eax;
// LINE 1118:
	__asm        mov    eax, Yunit;
	__asm        add    ypos, eax;
// LINE 1120:
	__asm        mov    eax, Xinc;
	__asm        add    writeBuffer, eax;
// LINE 1121:
	__asm        mov    eax, Xinc;
	__asm        add    xpos, eax;
// LINE 1123:
	__asm        cmp    ypos, 0;
	__asm        jl     near ptr 0x005005F8;
	__asm        cmp    xpos, 0;
	__asm        jl     near ptr 0x005005F8;
	__asm        mov    eax, ds:[0x5B526C];
	__asm        cmp    ypos, eax;
	__asm        jge    near ptr 0x005005F8;
	__asm        mov    eax, ds:[0x5B5268];
	__asm        cmp    xpos, eax;
	__asm        jl     near ptr 0x005005FD;
// LINE 1124:
	__asm        jmp    near ptr 0x00500602;
// LINE 1125:
	__asm        jmp    near ptr 0x00500571;
// LINE 1127:
	__asm        jmp    near ptr 0x005006A0;
// LINE 1129:
	__asm        mov    index, 0;
	__asm        jmp    near ptr 0x00500616;
	__asm        inc    index;
	__asm        mov    eax, dy;
	__asm        cmp    index, eax;
	__asm        jg     near ptr 0x005006A0;
// LINE 1131:
	__asm        movsx  eax, col;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x00500636;
	__asm        mov    al, col;
	__asm        mov    ecx, writeBuffer;
	__asm        mov    [ecx], al;
// LINE 1132:
	__asm        mov    eax, dx;
	__asm        add    error, eax;
// LINE 1133:
	__asm        mov    eax, dy;
	__asm        cmp    error, eax;
	__asm        jle    near ptr 0x0050065E;
// LINE 1135:
	__asm        xor    eax, eax;
	__asm        sub    eax, dy;
	__asm        neg    eax;
	__asm        sub    error, eax;
// LINE 1136:
	__asm        mov    eax, Xinc;
	__asm        add    writeBuffer, eax;
// LINE 1137:
	__asm        mov    eax, Xinc;
	__asm        add    xpos, eax;
// LINE 1139:
	__asm        mov    eax, Yinc;
	__asm        add    writeBuffer, eax;
// LINE 1140:
	__asm        mov    eax, Yunit;
	__asm        add    ypos, eax;
// LINE 1141:
	__asm        js     near ptr 0x00500696;
	__asm        cmp    xpos, 0;
	__asm        jl     near ptr 0x00500696;
	__asm        mov    eax, ds:[0x5B526C];
	__asm        cmp    ypos, eax;
	__asm        jge    near ptr 0x00500696;
	__asm        mov    eax, ds:[0x5B5268];
	__asm        cmp    xpos, eax;
	__asm        jl     near ptr 0x0050069B;
// LINE 1142:
	__asm        jmp    near ptr 0x005006A0;
// LINE 1143:
	__asm        jmp    near ptr 0x00500613;
// LINE 1146:
	__asm        mov    eax, ypos;
	__asm        push   eax;
	__asm        mov    eax, xpos;
	__asm        push   eax;
	__asm        mov    eax, icon_id;
	__asm        push   eax;
	__asm        call   S3MapBlitIcon;
	__asm        add    esp, 0xC;
// LINE 1148:
}

// FUNCTION: COPTER_D 0x005006b9
void S3MapBlit(char * destbuf, long destpitch) {
	long * mptr;
	char * cptr;
	long y;
	long x;
	long * ptr;

// LINE 1163:
	__asm        mov    eax, destbuf;
	__asm        mov    cptr, eax;
// LINE 1169:
	__asm        mov    eax, ds:[0x5B525C];
	__asm        imul   eax, destpitch;
	__asm        add    eax, ds:[0x5B5258];
	__asm        add    cptr, eax;
// LINE 1170:
	__asm        mov    eax, ds:[0x5B5274];
	__asm        mov    mptr, eax;
// LINE 1172:
	__asm        mov    y, 0;
	__asm        jmp    near ptr 0x005006F1;
	__asm        inc    y;
	__asm        mov    eax, y;
	__asm        cmp    ds:[0x5B526C], eax;
	__asm        jle    near ptr 0x00500748;
// LINE 1173:
	__asm        mov    eax, cptr;
	__asm        mov    ptr, eax;
// LINE 1174:
	__asm        mov    x, 0;
	__asm        jmp    near ptr 0x00500715;
	__asm        inc    x;
	__asm        mov    eax, ds:[0x5B5268];
	__asm        sar    eax, 2;
	__asm        cmp    eax, x;
	__asm        jle    near ptr 0x0050073D;
// LINE 1175:
	__asm        mov    eax, mptr;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], eax;
	__asm        add    mptr, 4;
	__asm        add    ptr, 4;
// LINE 1176:
	__asm        jmp    near ptr 0x00500712;
// LINE 1177:
	__asm        mov    eax, destpitch;
	__asm        add    cptr, eax;
// LINE 1178:
	__asm        jmp    near ptr 0x005006EE;
// LINE 1179:
}

// FUNCTION: COPTER_D 0x0050074d
void S3MapBlitPosition(char * destbuf, long destpitch, long xDestination, long yDestination) {
	long * mptr;
	char * cptr;
	long y;
	long x;
	long * ptr;

// LINE 1191:
	__asm        mov    eax, destbuf;
	__asm        mov    cptr, eax;
// LINE 1193:
	__asm        mov    eax, destpitch;
	__asm        imul   eax, yDestination;
	__asm        add    eax, xDestination;
	__asm        add    cptr, eax;
// LINE 1194:
	__asm        mov    eax, ds:[0x5B5274];
	__asm        mov    mptr, eax;
// LINE 1196:
	__asm        mov    y, 0;
	__asm        jmp    near ptr 0x00500780;
	__asm        inc    y;
	__asm        mov    eax, y;
	__asm        cmp    ds:[0x5B526C], eax;
	__asm        jle    near ptr 0x005007D7;
// LINE 1197:
	__asm        mov    eax, cptr;
	__asm        mov    ptr, eax;
// LINE 1198:
	__asm        mov    x, 0;
	__asm        jmp    near ptr 0x005007A4;
	__asm        inc    x;
	__asm        mov    eax, ds:[0x5B5268];
	__asm        sar    eax, 2;
	__asm        cmp    eax, x;
	__asm        jle    near ptr 0x005007CC;
// LINE 1199:
	__asm        mov    eax, mptr;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, ptr;
	__asm        mov    [ecx], eax;
	__asm        add    mptr, 4;
	__asm        add    ptr, 4;
	__asm        jmp    near ptr 0x005007A1;
// LINE 1200:
	__asm        mov    eax, destpitch;
	__asm        add    cptr, eax;
// LINE 1201:
	__asm        jmp    near ptr 0x0050077D;
// LINE 1202:
}

// FUNCTION: COPTER_D 0x005007dc
void S3MapSet3dRender() {
// LINE 1220:
	__asm        cmp    dword ptr ds:[0x598EBC], 0x20;
	__asm        jne    near ptr 0x00500816;
// LINE 1222:
	__asm        mov    esi, 0x598EC0;
	__asm        mov    edi, 0x5B5228;
	__asm        mov    ecx, 7;
	__asm        rep movsd;
// LINE 1223:
	__asm        mov    esi, 0x5B5208;
	__asm        mov    edi, 0x598EC0;
	__asm        mov    ecx, 7;
	__asm        rep movsd;
// LINE 1225:
	__asm        jmp    near ptr 0x00500838;
// LINE 1227:
	__asm        mov    esi, 0x598EE0;
	__asm        mov    edi, 0x5B5228;
	__asm        mov    ecx, 7;
	__asm        rep movsd;
// LINE 1228:
	__asm        mov    esi, 0x5B5208;
	__asm        mov    edi, 0x598EE0;
	__asm        mov    ecx, 7;
	__asm        rep movsd;
// LINE 1231:
	__asm        mov    eax, ds:[0x59C24C];
	__asm        mov    ds:[0x5B5290], eax;
// LINE 1232:
	__asm        mov    eax, ds:[0x59C248];
	__asm        mov    ds:[0x5B5294], eax;
// LINE 1234:
	__asm        push   0x5B5208;
	__asm        call   0x004D6A69;
	__asm        add    esp, 4;
// LINE 1236:
	__asm        shl    dword ptr ds:[0x59C24C], 1;
// LINE 1237:
	__asm        shl    dword ptr ds:[0x59C248], 1;
// LINE 1240:
	__asm        mov    eax, ds:[0x598EAC];
	__asm        mov    ds:[0x5B528C], eax;
// LINE 1241:
	__asm        mov    eax, ds:[0x5B5270];
	__asm        mov    ds:[0x598EAC], eax;
// LINE 1244:
}

// FUNCTION: COPTER_D 0x00500880
void S3MapRestore3dRender() {
// LINE 1258:
	__asm        cmp    dword ptr ds:[0x598EBC], 0x20;
	__asm        jne    near ptr 0x005008A9;
// LINE 1259:
	__asm        mov    esi, 0x5B5228;
	__asm        mov    edi, 0x598EC0;
	__asm        mov    ecx, 7;
	__asm        rep movsd;
// LINE 1260:
	__asm        jmp    near ptr 0x005008BA;
// LINE 1261:
	__asm        mov    esi, 0x5B5228;
	__asm        mov    edi, 0x598EE0;
	__asm        mov    ecx, 7;
	__asm        rep movsd;
// LINE 1263:
	__asm        push   0x5B5228;
	__asm        call   0x004D6A69;
	__asm        add    esp, 4;
// LINE 1265:
	__asm        mov    eax, ds:[0x5B5290];
	__asm        mov    ds:[0x59C24C], eax;
// LINE 1266:
	__asm        mov    eax, ds:[0x5B5294];
	__asm        mov    ds:[0x59C248], eax;
// LINE 1269:
	__asm        mov    eax, ds:[0x5B528C];
	__asm        mov    ds:[0x598EAC], eax;
// LINE 1270:
}

// FUNCTION: COPTER_D 0x005008ea
int32_t S3MapCursorDown(long posx, long posy) {
	struct _MAP_CARINFO* ci;
	long i;
	long car_id;

// LINE 1286:
	__asm        mov    car_id, 0xFFFFFFFF;
// LINE 1290:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x00500909;
	__asm        inc    i;
	__asm        cmp    i, 0x14;
	__asm        jge    near ptr 0x0050097E;
// LINE 1292:
	__asm        mov    eax, i;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [eax*8+0x6BED40];
	__asm        mov    ci, eax;
// LINE 1293:
	__asm        mov    eax, ci;
	__asm        test   byte ptr [eax], 3;
	__asm        jne    near ptr 0x00500934;
// LINE 1294:
	__asm        jmp    near ptr 0x00500906;
// LINE 1297:
	__asm        mov    eax, ci;
	__asm        mov    ecx, posx;
	__asm        cmp    [eax+0x20], ecx;
	__asm        jg     near ptr 0x00500979;
	__asm        mov    eax, ci;
	__asm        mov    ecx, posx;
	__asm        cmp    [eax+0x24], ecx;
	__asm        jl     near ptr 0x00500979;
	__asm        mov    eax, ci;
	__asm        mov    ecx, posy;
	__asm        cmp    [eax+0x18], ecx;
	__asm        jg     near ptr 0x00500979;
	__asm        mov    eax, ci;
	__asm        mov    ecx, posy;
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jl     near ptr 0x00500979;
// LINE 1299:
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+4];
	__asm        mov    car_id, eax;
// LINE 1303:
	__asm        jmp    near ptr 0x00500906;
// LINE 1305:
	__asm        mov    eax, car_id;
	__asm        jmp    near ptr 0x00500986;
// LINE 1306:
}

// FUNCTION: COPTER_D 0x0050098b
int32_t S3MapCursorUp(long posx, long posy) {
// LINE 1314:
	__asm        mov    eax, 0xFFFFFFFF;
	__asm        jmp    near ptr 0x0050099B;
// LINE 1315:
}

// FUNCTION: COPTER_D 0x005009a0
void S3MapCommandZoomIn() {
// LINE 1323:
	__asm        cmp    dword ptr ds:[0x5B5298], 3;
	__asm        jge    near ptr 0x005009B9;
// LINE 1324:
	__asm        inc    dword ptr ds:[0x5B5298];
// LINE 1325:
}

// FUNCTION: COPTER_D 0x005009be
void S3MapCommandZoomOut() {
// LINE 1333:
	__asm        cmp    dword ptr ds:[0x5B5298], 0;
	__asm        jle    near ptr 0x005009D7;
// LINE 1334:
	__asm        dec    dword ptr ds:[0x5B5298];
// LINE 1335:
}

// FUNCTION: COPTER_D 0x005009dc
void S3MapCommandPreviousMission() {
// LINE 1342:
	__asm        call   S3MissionSetCurrPrev;
// LINE 1343:
}

// FUNCTION: COPTER_D 0x005009ec
void S3MapCommandNextMission() {
// LINE 1351:
	__asm        call   S3MissionSetCurrNext;
// LINE 1352:
}

// FUNCTION: COPTER_D 0x005009fc
void S3MapCommandCurrentMissionVehicleFilter(int32_t onOrOff) {
// LINE 1361:
}

// FUNCTION: COPTER_D 0x00500a07
void S3MapCommandOtherMissionVehicleFilter(int32_t onOrOff) {
// LINE 1370:
}

// FUNCTION: COPTER_D 0x00500a12
void S3MapBlitIcon(long icon_id, long x, long y) {
	char * bufptr;
	long mapy;
	long mapx;
	char * iptr;

// LINE 1389:
	__asm        cmp    icon_id, 0xFFFFFFFF;
	__asm        jne    near ptr 0x00500A2A;
// LINE 1390:
	__asm        jmp    near ptr 0x00500B60;
// LINE 1393:
	__asm        mov    eax, x;
	__asm        mov    ecx, ds:[0x608BF0];
	__asm        sar    ecx, 1;
	__asm        sub    eax, ecx;
	__asm        mov    mapx, eax;
// LINE 1394:
	__asm        mov    eax, y;
	__asm        mov    ecx, ds:[0x608BF0];
	__asm        sar    ecx, 1;
	__asm        sub    eax, ecx;
	__asm        mov    mapy, eax;
// LINE 1395:
	__asm        cmp    mapx, 0;
	__asm        jge    near ptr 0x00500A5D;
	__asm        mov    mapx, 0;
// LINE 1396:
	__asm        cmp    mapy, 0;
	__asm        jge    near ptr 0x00500A6E;
	__asm        mov    mapy, 0;
// LINE 1397:
	__asm        mov    eax, mapx;
	__asm        add    eax, ds:[0x608BF0];
	__asm        cmp    eax, ds:[0x5B5268];
	__asm        jle    near ptr 0x00500A91;
	__asm        mov    eax, ds:[0x5B5268];
	__asm        sub    eax, ds:[0x608BF0];
	__asm        mov    mapx, eax;
// LINE 1398:
	__asm        mov    eax, mapy;
	__asm        add    eax, ds:[0x608BF0];
	__asm        cmp    eax, ds:[0x5B526C];
	__asm        jle    near ptr 0x00500AB4;
	__asm        mov    eax, ds:[0x5B526C];
	__asm        sub    eax, ds:[0x608BF0];
	__asm        mov    mapy, eax;
// LINE 1400:
	__asm        mov    eax, mapy;
	__asm        imul   eax, ds:[0x5B5268];
	__asm        add    eax, mapx;
	__asm        add    eax, ds:[0x5B5274];
	__asm        mov    bufptr, eax;
// LINE 1401:
	__asm        mov    eax, icon_id;
	__asm        mov    eax, [eax*4+0x608BD0];
	__asm        mov    iptr, eax;
// LINE 1403:
	__asm        mov    mapy, 0;
	__asm        jmp    near ptr 0x00500AE6;
	__asm        inc    mapy;
	__asm        mov    eax, ds:[0x608BF0];
	__asm        cmp    mapy, eax;
	__asm        jge    near ptr 0x00500B60;
// LINE 1405:
	__asm        mov    mapx, 0;
	__asm        jmp    near ptr 0x00500B03;
	__asm        inc    mapx;
	__asm        mov    eax, ds:[0x608BF0];
	__asm        cmp    mapx, eax;
	__asm        jge    near ptr 0x00500B3F;
// LINE 1407:
	__asm        mov    eax, iptr;
	__asm        movsx  eax, byte ptr [eax];
	__asm        test   eax, eax;
	__asm        je     near ptr 0x00500B34;
// LINE 1409:
	__asm        mov    eax, iptr;
	__asm        mov    al, [eax];
	__asm        mov    ecx, bufptr;
	__asm        mov    [ecx], al;
	__asm        inc    iptr;
	__asm        inc    bufptr;
// LINE 1411:
	__asm        jmp    near ptr 0x00500B3A;
// LINE 1413:
	__asm        inc    bufptr;
// LINE 1414:
	__asm        inc    iptr;
// LINE 1416:
	__asm        jmp    near ptr 0x00500B00;
// LINE 1417:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        sub    eax, ds:[0x608BF0];
	__asm        add    bufptr, eax;
// LINE 1418:
	__asm        mov    eax, ds:[0x608C10];
	__asm        sub    eax, ds:[0x608BF0];
	__asm        add    iptr, eax;
// LINE 1419:
	__asm        jmp    near ptr 0x00500AE3;
// LINE 1421:
}

// FUNCTION: COPTER_D 0x00500b65
void S3MapGetMissionIcons(long mission_type, long * desticon, long * pickicon) {
// LINE 1432:
	__asm        mov    eax, mission_type;
	__asm        mov    [ebp-4], eax;
	__asm        jmp    near ptr 0x00500C92;
// LINE 1435:
	__asm        mov    eax, desticon;
	__asm        mov    dword ptr [eax], 6;
// LINE 1436:
	__asm        mov    eax, pickicon;
	__asm        mov    dword ptr [eax], 0xFFFFFFFF;
// LINE 1437:
	__asm        jmp    near ptr 0x00500DDE;
// LINE 1442:
	__asm        mov    eax, desticon;
	__asm        mov    dword ptr [eax], 4;
// LINE 1443:
	__asm        mov    eax, pickicon;
	__asm        mov    dword ptr [eax], 0xFFFFFFFF;
// LINE 1444:
	__asm        jmp    near ptr 0x00500DDE;
// LINE 1446:
	__asm        mov    eax, desticon;
	__asm        mov    dword ptr [eax], 1;
// LINE 1447:
	__asm        mov    eax, pickicon;
	__asm        mov    dword ptr [eax], 4;
// LINE 1448:
	__asm        jmp    near ptr 0x00500DDE;
// LINE 1450:
	__asm        mov    eax, desticon;
	__asm        mov    dword ptr [eax], 3;
// LINE 1451:
	__asm        mov    eax, pickicon;
	__asm        mov    dword ptr [eax], 5;
// LINE 1452:
	__asm        jmp    near ptr 0x00500DDE;
// LINE 1455:
	__asm        mov    eax, desticon;
	__asm        mov    dword ptr [eax], 7;
// LINE 1456:
	__asm        mov    eax, pickicon;
	__asm        mov    dword ptr [eax], 0xFFFFFFFF;
// LINE 1457:
	__asm        jmp    near ptr 0x00500DDE;
// LINE 1459:
	__asm        mov    eax, desticon;
	__asm        mov    dword ptr [eax], 3;
// LINE 1460:
	__asm        mov    eax, pickicon;
	__asm        mov    dword ptr [eax], 0xFFFFFFFF;
// LINE 1461:
	__asm        jmp    near ptr 0x00500DDE;
// LINE 1463:
	__asm        mov    eax, desticon;
	__asm        mov    dword ptr [eax], 7;
// LINE 1464:
	__asm        mov    eax, pickicon;
	__asm        mov    dword ptr [eax], 1;
// LINE 1465:
	__asm        jmp    near ptr 0x00500DDE;
// LINE 1467:
	__asm        mov    eax, desticon;
	__asm        mov    dword ptr [eax], 7;
// LINE 1468:
	__asm        mov    eax, pickicon;
	__asm        mov    dword ptr [eax], 1;
// LINE 1469:
	__asm        jmp    near ptr 0x00500DDE;
// LINE 1476:
	__asm        mov    eax, desticon;
	__asm        mov    dword ptr [eax], 2;
// LINE 1477:
	__asm        mov    eax, pickicon;
	__asm        mov    dword ptr [eax], 0xFFFFFFFF;
// LINE 1478:
	__asm        jmp    near ptr 0x00500DDE;
// LINE 1480:
	__asm        mov    eax, desticon;
	__asm        mov    dword ptr [eax], 7;
// LINE 1481:
	__asm        mov    eax, pickicon;
	__asm        mov    dword ptr [eax], 0xFFFFFFFF;
// LINE 1482:
	__asm        jmp    near ptr 0x00500DDE;
// LINE 1484:
	__asm        mov    eax, desticon;
	__asm        mov    dword ptr [eax], 5;
// LINE 1485:
	__asm        mov    eax, pickicon;
	__asm        mov    dword ptr [eax], 5;
// LINE 1486:
	__asm        jmp    near ptr 0x00500DDE;
// LINE 1488:
	__asm        mov    eax, desticon;
	__asm        mov    dword ptr [eax], 0xFFFFFFFF;
// LINE 1489:
	__asm        mov    eax, pickicon;
	__asm        mov    dword ptr [eax], 0xFFFFFFFF;
// LINE 1490:
	__asm        jmp    near ptr 0x00500DDE;
// LINE 1491:
	__asm        jmp    near ptr 0x00500DDE;
	__asm        cmp    dword ptr [ebp-4], 9;
	__asm        jg     near ptr 0x00500CBB;
	__asm        je     near ptr 0x00500BD5;
	__asm        cmp    dword ptr [ebp-4], 1;
	__asm        je     near ptr 0x00500BD5;
	__asm        cmp    dword ptr [ebp-4], 2;
	__asm        je     near ptr 0x00500BEC;
	__asm        jmp    near ptr 0x00500C76;
	__asm        cmp    dword ptr [ebp-4], 0x10;
	__asm        jg     near ptr 0x00500CDA;
	__asm        je     near ptr 0x00500B90;
	__asm        cmp    dword ptr [ebp-4], 0xC;
	__asm        je     near ptr 0x00500C03;
	__asm        jmp    near ptr 0x00500C76;
	__asm        cmp    dword ptr [ebp-4], 0x40;
	__asm        jg     near ptr 0x00500CF9;
	__asm        je     near ptr 0x00500BBE;
	__asm        cmp    dword ptr [ebp-4], 0x20;
	__asm        je     near ptr 0x00500BA7;
	__asm        jmp    near ptr 0x00500C76;
	__asm        cmp    dword ptr [ebp-4], 0x100;
	__asm        jg     near ptr 0x00500D1E;
	__asm        je     near ptr 0x00500C1A;
	__asm        cmp    dword ptr [ebp-4], 0x90;
	__asm        je     near ptr 0x00500B90;
	__asm        jmp    near ptr 0x00500C76;
	__asm        cmp    dword ptr [ebp-4], 0x200;
	__asm        jg     near ptr 0x00500D43;
	__asm        je     near ptr 0x00500C31;
	__asm        cmp    dword ptr [ebp-4], 0x110;
	__asm        je     near ptr 0x00500B90;
	__asm        jmp    near ptr 0x00500C76;
	__asm        cmp    dword ptr [ebp-4], 0x800;
	__asm        jg     near ptr 0x00500D68;
	__asm        je     near ptr 0x00500C5F;
	__asm        cmp    dword ptr [ebp-4], 0x408;
	__asm        je     near ptr 0x00500C48;
	__asm        jmp    near ptr 0x00500C76;
	__asm        cmp    dword ptr [ebp-4], 0x2000;
	__asm        jg     near ptr 0x00500D8D;
	__asm        je     near ptr 0x00500C31;
	__asm        cmp    dword ptr [ebp-4], 0x1000;
	__asm        je     near ptr 0x00500B79;
	__asm        jmp    near ptr 0x00500C76;
	__asm        cmp    dword ptr [ebp-4], 0x10000;
	__asm        jg     near ptr 0x00500DB2;
	__asm        je     near ptr 0x00500C31;
	__asm        cmp    dword ptr [ebp-4], 0x4000;
	__asm        je     near ptr 0x00500C31;
	__asm        jmp    near ptr 0x00500C76;
	__asm        cmp    dword ptr [ebp-4], 0x20000;
	__asm        je     near ptr 0x00500C31;
	__asm        cmp    dword ptr [ebp-4], 0x40000;
	__asm        je     near ptr 0x00500C31;
	__asm        cmp    dword ptr [ebp-4], 0x80010;
	__asm        je     near ptr 0x00500B90;
	__asm        jmp    near ptr 0x00500C76;
// LINE 1492:
}

// FUNCTION: COPTER_D 0x00500de3
void S3MapDrawMissionIcons(long posx, long posy) {
	struct MISSION_DATA* md;
	long desticon;
	long i;
	struct MISSION_DATA* currmd;
	long pickicon;

// LINE 1508:
	__asm        call   S3MissionGetCurr;
	__asm        mov    currmd, eax;
// LINE 1510:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x00500E03;
	__asm        inc    i;
	__asm        cmp    i, 0x1E;
	__asm        jge    near ptr 0x00500F2F;
// LINE 1512:
	__asm        mov    eax, i;
	__asm        push   eax;
	__asm        call   S3MissionGetDataByIndex;
	__asm        add    esp, 4;
	__asm        mov    md, eax;
// LINE 1516:
	__asm        cmp    md, 0;
	__asm        je     near ptr 0x00500E4C;
	__asm        mov    eax, md;
	__asm        test   byte ptr [eax+0x4C], 1;
	__asm        je     near ptr 0x00500E4C;
	__asm        mov    eax, md;
	__asm        cmp    dword ptr [eax+0x54], 2;
	__asm        je     near ptr 0x00500E4C;
	__asm        mov    eax, md;
	__asm        cmp    currmd, eax;
	__asm        jne    near ptr 0x00500E51;
// LINE 1518:
	__asm        jmp    near ptr 0x00500E00;
// LINE 1521:
	__asm        lea    eax, pickicon;
	__asm        push   eax;
	__asm        lea    eax, desticon;
	__asm        push   eax;
	__asm        mov    eax, md;
	__asm        mov    eax, [eax+0x50];
	__asm        push   eax;
	__asm        call   S3MapGetMissionIcons;
	__asm        add    esp, 0xC;
// LINE 1523:
	__asm        mov    eax, md;
	__asm        cmp    dword ptr [eax+0x30], 0xFFFFFFFF;
	__asm        je     near ptr 0x00500EAC;
// LINE 1528:
	__asm        mov    eax, desticon;
	__asm        push   eax;
	__asm        push   0;
	__asm        mov    eax, md;
	__asm        mov    eax, [eax+0x34];
	__asm        sub    eax, posy;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        shl    eax, cl;
	__asm        push   eax;
	__asm        mov    eax, md;
	__asm        mov    eax, [eax+0x30];
	__asm        sub    eax, posx;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        shl    eax, cl;
	__asm        push   eax;
	__asm        call   S3MapDrawLine;
	__asm        add    esp, 0x10;
// LINE 1530:
	__asm        jmp    near ptr 0x00500EEB;
// LINE 1532:
	__asm        mov    eax, md;
	__asm        cmp    dword ptr [eax+0x28], 0xFFFFFFFF;
	__asm        je     near ptr 0x00500EEB;
// LINE 1537:
	__asm        mov    eax, desticon;
	__asm        push   eax;
	__asm        push   0;
	__asm        mov    eax, md;
	__asm        mov    eax, [eax+0x2C];
	__asm        sub    eax, posy;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        shl    eax, cl;
	__asm        push   eax;
	__asm        mov    eax, md;
	__asm        mov    eax, [eax+0x28];
	__asm        sub    eax, posx;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        shl    eax, cl;
	__asm        push   eax;
	__asm        call   S3MapDrawLine;
	__asm        add    esp, 0x10;
// LINE 1541:
	__asm        mov    eax, md;
	__asm        cmp    dword ptr [eax+0x38], 0xFFFFFFFF;
	__asm        je     near ptr 0x00500F2A;
// LINE 1546:
	__asm        mov    eax, pickicon;
	__asm        push   eax;
	__asm        push   0;
	__asm        mov    eax, md;
	__asm        mov    eax, [eax+0x3C];
	__asm        sub    eax, posy;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        shl    eax, cl;
	__asm        push   eax;
	__asm        mov    eax, md;
	__asm        mov    eax, [eax+0x38];
	__asm        sub    eax, posx;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        shl    eax, cl;
	__asm        push   eax;
	__asm        call   S3MapDrawLine;
	__asm        add    esp, 0x10;
// LINE 1548:
	__asm        jmp    near ptr 0x00500E00;
// LINE 1549:
}

// FUNCTION: COPTER_D 0x00500f34
void S3MapAddCarInfo(long car_id, long car_type, long mission_id, struct _GridCoordinates* currpos, struct _GridCoordinates* disppos) {
	struct _MAP_CARINFO* ci;
	long i;

// LINE 1567:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x00500F4C;
	__asm        inc    i;
	__asm        cmp    i, 0x14;
	__asm        jge    near ptr 0x00500F7C;
// LINE 1569:
	__asm        mov    eax, i;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [eax*8+0x6BED40];
	__asm        mov    ci, eax;
// LINE 1570:
	__asm        mov    eax, ci;
	__asm        test   byte ptr [eax], 1;
	__asm        jne    near ptr 0x00500F77;
// LINE 1571:
	__asm        jmp    near ptr 0x00500F7C;
// LINE 1572:
	__asm        jmp    near ptr 0x00500F49;
// LINE 1575:
	__asm        cmp    i, 0x14;
	__asm        jne    near ptr 0x00500F8B;
// LINE 1576:
	__asm        jmp    near ptr 0x00500FBE;
// LINE 1579:
	__asm        mov    eax, car_id;
	__asm        mov    ecx, ci;
	__asm        mov    [ecx+4], eax;
// LINE 1580:
	__asm        mov    eax, car_type;
	__asm        mov    ecx, ci;
	__asm        mov    [ecx+8], eax;
// LINE 1581:
	__asm        mov    eax, mission_id;
	__asm        mov    ecx, ci;
	__asm        mov    [ecx+0xC], eax;
// LINE 1582:
	__asm        mov    eax, currpos;
	__asm        mov    ecx, ci;
	__asm        mov    [ecx+0x10], eax;
// LINE 1583:
	__asm        mov    eax, disppos;
	__asm        mov    ecx, ci;
	__asm        mov    [ecx+0x14], eax;
// LINE 1584:
	__asm        mov    eax, ci;
	__asm        or     dword ptr [eax], 1;
// LINE 1585:
}

// FUNCTION: COPTER_D 0x00500fc3
void S3MapRemoveCarInfo(long car_id) {
	long i;

// LINE 1601:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x00500FDB;
	__asm        inc    i;
	__asm        cmp    i, 0x14;
	__asm        jge    near ptr 0x00501013;
// LINE 1603:
	__asm        mov    eax, i;
	__asm        lea    eax, [eax+eax*4];
	__asm        mov    ecx, car_id;
	__asm        cmp    [eax*8+0x6BED44], ecx;
	__asm        jne    near ptr 0x0050100E;
// LINE 1605:
	__asm        mov    eax, i;
	__asm        lea    eax, [eax+eax*4];
	__asm        and    dword ptr [eax*8+0x6BED40], 0xFFFFFFFE;
// LINE 1606:
	__asm        jmp    near ptr 0x00501013;
// LINE 1608:
	__asm        jmp    near ptr 0x00500FD8;
// LINE 1610:
}

// FUNCTION: COPTER_D 0x00501018
void S3MapDrawCarIcons() {
	long dy;
	long dx;
	struct _MAP_CARINFO* ci;
	long i;
	long color;

// LINE 1631:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x00501030;
	__asm        inc    i;
	__asm        cmp    i, 0x14;
	__asm        jge    near ptr 0x0050121B;
// LINE 1633:
	__asm        mov    eax, i;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [eax*8+0x6BED40];
	__asm        mov    ci, eax;
// LINE 1634:
	__asm        mov    eax, ci;
	__asm        test   byte ptr [eax], 1;
	__asm        jne    near ptr 0x0050105B;
// LINE 1635:
	__asm        jmp    near ptr 0x0050102D;
// LINE 1641:
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+0x10];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax];
	__asm        cmp    ecx, ds:[0x608C08];
	__asm        jl     near ptr 0x005010B5;
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+0x10];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+1];
	__asm        cmp    ecx, ds:[0x608C0C];
	__asm        jl     near ptr 0x005010B5;
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+0x10];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax];
	__asm        cmp    ecx, ds:[0x608BF8];
	__asm        jg     near ptr 0x005010B5;
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+0x10];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+1];
	__asm        cmp    ecx, ds:[0x608BFC];
	__asm        jle    near ptr 0x005010C0;
// LINE 1643:
	__asm        mov    eax, ci;
	__asm        and    dword ptr [eax], 0xFFFFFFFD;
// LINE 1644:
	__asm        jmp    near ptr 0x0050102D;
// LINE 1648:
	__asm        mov    eax, ci;
	__asm        or     dword ptr [eax], 2;
// LINE 1651:
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+0x10];
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+1];
	__asm        sub    edx, ds:[0x608C0C];
	__asm        mov    cl, ds:[0x5B5298];
	__asm        shl    edx, cl;
	__asm        add    edx, 8;
	__asm        mov    eax, ci;
	__asm        mov    [eax+0x18], edx;
// LINE 1652:
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+0x10];
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax];
	__asm        sub    edx, ds:[0x608C08];
	__asm        mov    cl, ds:[0x5B5298];
	__asm        shl    edx, cl;
	__asm        add    edx, 9;
	__asm        mov    eax, ci;
	__asm        mov    [eax+0x20], edx;
// LINE 1653:
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+0x18];
	__asm        add    eax, ds:[0x608BC8];
	__asm        mov    ecx, ci;
	__asm        mov    [ecx+0x1C], eax;
// LINE 1654:
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+0x20];
	__asm        add    eax, ds:[0x608BC8];
	__asm        mov    ecx, ci;
	__asm        mov    [ecx+0x24], eax;
// LINE 1658:
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+0x14];
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax];
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+0x10];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax];
	__asm        sub    edx, ecx;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        shl    edx, cl;
	__asm        mov    dx, edx;
// LINE 1659:
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+0x14];
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+1];
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+0x10];
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+1];
	__asm        sub    edx, ecx;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        shl    edx, cl;
	__asm        mov    dy, edx;
// LINE 1660:
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ebp-0x18], eax;
	__asm        jmp    near ptr 0x005011B4;
// LINE 1663:
	__asm        mov    color, 0x1A;
// LINE 1664:
	__asm        jmp    near ptr 0x005011D7;
// LINE 1666:
	__asm        mov    color, 0xFFFFFF9A;
// LINE 1667:
	__asm        jmp    near ptr 0x005011D7;
// LINE 1669:
	__asm        mov    color, 0xFFFFFFEA;
// LINE 1670:
	__asm        jmp    near ptr 0x005011D7;
// LINE 1672:
	__asm        mov    color, 0x70;
// LINE 1673:
	__asm        jmp    near ptr 0x005011D7;
// LINE 1674:
	__asm        jmp    near ptr 0x005011D7;
	__asm        cmp    dword ptr [ebp-0x18], 0;
	__asm        je     near ptr 0x0050117F;
	__asm        cmp    dword ptr [ebp-0x18], 1;
	__asm        je     near ptr 0x0050118B;
	__asm        cmp    dword ptr [ebp-0x18], 2;
	__asm        je     near ptr 0x00501197;
	__asm        jmp    near ptr 0x005011A3;
// LINE 1680:
	__asm        mov    eax, color;
	__asm        push   eax;
	__asm        mov    eax, dy;
	__asm        push   eax;
	__asm        mov    eax, dx;
	__asm        push   eax;
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+0x18];
	__asm        push   eax;
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+0x20];
	__asm        push   eax;
	__asm        call   S3MapDrawDispatchLine;
	__asm        add    esp, 0x14;
// LINE 1682:
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+0x18];
	__asm        push   eax;
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+0x20];
	__asm        push   eax;
	__asm        mov    eax, ci;
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   S3MapBlitDIcon;
	__asm        add    esp, 0xC;
// LINE 1683:
	__asm        jmp    near ptr 0x0050102D;
// LINE 1684:
}

// FUNCTION: COPTER_D 0x00501220
void S3MapBlitDIcon(long icon_id, long x, long y) {
	char * bufptr;
	long mapy;
	long mapx;
	char * iptr;

// LINE 1701:
	__asm        cmp    icon_id, 0xFFFFFFFF;
	__asm        jne    near ptr 0x00501238;
// LINE 1702:
	__asm        jmp    near ptr 0x005012F0;
// LINE 1707:
	__asm        mov    eax, x;
	__asm        mov    mapx, eax;
// LINE 1708:
	__asm        mov    eax, y;
	__asm        mov    mapy, eax;
// LINE 1710:
	__asm        mov    eax, mapy;
	__asm        imul   eax, ds:[0x5B5268];
	__asm        add    eax, mapx;
	__asm        add    eax, ds:[0x5B5274];
	__asm        mov    bufptr, eax;
// LINE 1711:
	__asm        mov    eax, icon_id;
	__asm        mov    eax, [eax*4+0x608C18];
	__asm        mov    iptr, eax;
// LINE 1713:
	__asm        mov    mapy, 0;
	__asm        jmp    near ptr 0x00501276;
	__asm        inc    mapy;
	__asm        mov    eax, ds:[0x608BC8];
	__asm        cmp    mapy, eax;
	__asm        jge    near ptr 0x005012F0;
// LINE 1715:
	__asm        mov    mapx, 0;
	__asm        jmp    near ptr 0x00501293;
	__asm        inc    mapx;
	__asm        mov    eax, ds:[0x608BC8];
	__asm        cmp    mapx, eax;
	__asm        jge    near ptr 0x005012CF;
// LINE 1717:
	__asm        mov    eax, iptr;
	__asm        movsx  eax, byte ptr [eax];
	__asm        test   eax, eax;
	__asm        je     near ptr 0x005012C4;
// LINE 1719:
	__asm        mov    eax, iptr;
	__asm        mov    al, [eax];
	__asm        mov    ecx, bufptr;
	__asm        mov    [ecx], al;
	__asm        inc    iptr;
	__asm        inc    bufptr;
// LINE 1721:
	__asm        jmp    near ptr 0x005012CA;
// LINE 1723:
	__asm        inc    bufptr;
// LINE 1724:
	__asm        inc    iptr;
// LINE 1726:
	__asm        jmp    near ptr 0x00501290;
// LINE 1727:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        sub    eax, ds:[0x608BC8];
	__asm        add    bufptr, eax;
// LINE 1728:
	__asm        mov    eax, ds:[0x608C00];
	__asm        sub    eax, ds:[0x608BC8];
	__asm        add    iptr, eax;
// LINE 1729:
	__asm        jmp    near ptr 0x00501273;
// LINE 1731:
}

// FUNCTION: COPTER_D 0x005012f5
void S3MapDrawDispatchLine(int32_t xpos, int32_t ypos, int32_t dx, int32_t dy, char col) {
	int32_t error;
	int32_t Yinc;
	int32_t index;
	int32_t Xinc;
	int32_t Yunit;
	char * writeBuffer;

// LINE 1746:
	__asm        mov    error, 0;
// LINE 1749:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        imul   eax, ypos;
	__asm        add    eax, xpos;
	__asm        add    eax, ds:[0x5B5274];
	__asm        mov    writeBuffer, eax;
// LINE 1751:
	__asm        cmp    dx, 0;
	__asm        jl     near ptr 0x00501330;
// LINE 1753:
	__asm        mov    Xinc, 1;
// LINE 1755:
	__asm        jmp    near ptr 0x0050133F;
// LINE 1757:
	__asm        mov    Xinc, 0xFFFFFFFF;
// LINE 1758:
	__asm        mov    eax, dx;
	__asm        neg    eax;
	__asm        mov    dx, eax;
// LINE 1761:
	__asm        cmp    dy, 0;
	__asm        jl     near ptr 0x0050135D;
// LINE 1763:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        mov    Yinc, eax;
// LINE 1764:
	__asm        mov    Yunit, 1;
// LINE 1766:
	__asm        jmp    near ptr 0x00501376;
// LINE 1768:
	__asm        mov    eax, ds:[0x5B5268];
	__asm        neg    eax;
	__asm        mov    Yinc, eax;
// LINE 1769:
	__asm        mov    eax, dy;
	__asm        neg    eax;
	__asm        mov    dy, eax;
// LINE 1770:
	__asm        mov    Yunit, 0xFFFFFFFF;
// LINE 1773:
	__asm        mov    eax, dx;
	__asm        cmp    dy, eax;
	__asm        jge    near ptr 0x00501426;
// LINE 1775:
	__asm        mov    index, 0;
	__asm        jmp    near ptr 0x00501391;
	__asm        inc    index;
	__asm        mov    eax, dx;
	__asm        cmp    index, eax;
	__asm        jg     near ptr 0x00501421;
// LINE 1777:
	__asm        movsx  eax, col;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x005013B1;
	__asm        mov    al, col;
	__asm        mov    ecx, writeBuffer;
	__asm        mov    [ecx], al;
// LINE 1778:
	__asm        mov    eax, dy;
	__asm        add    error, eax;
// LINE 1779:
	__asm        mov    eax, dx;
	__asm        cmp    error, eax;
	__asm        jle    near ptr 0x005013D9;
// LINE 1781:
	__asm        xor    eax, eax;
	__asm        sub    eax, dx;
	__asm        neg    eax;
	__asm        sub    error, eax;
// LINE 1782:
	__asm        mov    eax, Yinc;
	__asm        add    writeBuffer, eax;
// LINE 1783:
	__asm        mov    eax, Yunit;
	__asm        add    ypos, eax;
// LINE 1785:
	__asm        mov    eax, Xinc;
	__asm        add    writeBuffer, eax;
// LINE 1786:
	__asm        mov    eax, Xinc;
	__asm        add    xpos, eax;
// LINE 1788:
	__asm        cmp    ypos, 0;
	__asm        jl     near ptr 0x00501417;
	__asm        cmp    xpos, 0;
	__asm        jl     near ptr 0x00501417;
	__asm        mov    eax, ypos;
	__asm        cmp    ds:[0x5B526C], eax;
	__asm        jle    near ptr 0x00501417;
	__asm        mov    eax, xpos;
	__asm        cmp    ds:[0x5B5268], eax;
	__asm        jg     near ptr 0x0050141C;
// LINE 1789:
	__asm        jmp    near ptr 0x00501421;
// LINE 1790:
	__asm        jmp    near ptr 0x0050138E;
// LINE 1792:
	__asm        jmp    near ptr 0x005014C1;
// LINE 1794:
	__asm        mov    index, 0;
	__asm        jmp    near ptr 0x00501435;
	__asm        inc    index;
	__asm        mov    eax, dy;
	__asm        cmp    index, eax;
	__asm        jg     near ptr 0x005014C1;
// LINE 1796:
	__asm        movsx  eax, col;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x00501455;
	__asm        mov    al, col;
	__asm        mov    ecx, writeBuffer;
	__asm        mov    [ecx], al;
// LINE 1797:
	__asm        mov    eax, dx;
	__asm        add    error, eax;
// LINE 1798:
	__asm        mov    eax, dy;
	__asm        cmp    error, eax;
	__asm        jle    near ptr 0x0050147D;
// LINE 1800:
	__asm        xor    eax, eax;
	__asm        sub    eax, dy;
	__asm        neg    eax;
	__asm        sub    error, eax;
// LINE 1801:
	__asm        mov    eax, Xinc;
	__asm        add    writeBuffer, eax;
// LINE 1802:
	__asm        mov    eax, Xinc;
	__asm        add    xpos, eax;
// LINE 1804:
	__asm        mov    eax, Yinc;
	__asm        add    writeBuffer, eax;
// LINE 1805:
	__asm        mov    eax, Yunit;
	__asm        add    ypos, eax;
// LINE 1806:
	__asm        js     near ptr 0x005014B7;
	__asm        cmp    xpos, 0;
	__asm        jl     near ptr 0x005014B7;
	__asm        mov    eax, ypos;
	__asm        cmp    ds:[0x5B526C], eax;
	__asm        jle    near ptr 0x005014B7;
	__asm        mov    eax, xpos;
	__asm        cmp    ds:[0x5B5268], eax;
	__asm        jg     near ptr 0x005014BC;
// LINE 1807:
	__asm        jmp    near ptr 0x005014C1;
// LINE 1808:
	__asm        jmp    near ptr 0x00501432;
// LINE 1811:
}

// FUNCTION: COPTER_D 0x005014c6
void S3MapGetDxDy(long x1, long y1, long x2, long y2, long * dx, long * dy) {
	struct Point2d from;
	struct Point2d to;
	long dist2;
	long dist1;

// LINE 1832:
	__asm        cmp    x1, 0x80;
	__asm        jge    near ptr 0x00501514;
	__asm        cmp    y1, 0x80;
	__asm        jge    near ptr 0x00501514;
// LINE 1834:
	__asm        mov    eax, x2;
	__asm        sub    eax, x1;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        shl    eax, cl;
	__asm        mov    ecx, dx;
	__asm        mov    [ecx], eax;
// LINE 1835:
	__asm        mov    eax, y2;
	__asm        sub    eax, y1;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        shl    eax, cl;
	__asm        mov    ecx, dy;
	__asm        mov    [ecx], eax;
// LINE 1836:
	__asm        jmp    near ptr 0x005015D1;
// LINE 1840:
	__asm        mov    eax, x1;
	__asm        mov    from.x, eax;
// LINE 1841:
	__asm        mov    eax, y1;
	__asm        mov    from.y, eax;
// LINE 1842:
	__asm        mov    eax, x2;
	__asm        mov    to.x, eax;
// LINE 1843:
	__asm        mov    eax, y2;
	__asm        mov    to.y, eax;
// LINE 1846:
	__asm        lea    eax, to.x;
	__asm        push   eax;
	__asm        lea    eax, from.x;
	__asm        push   eax;
	__asm        call   MTCheapDist2D;
	__asm        add    esp, 8;
	__asm        mov    dist1, eax;
// LINE 1850:
	__asm        cmp    x1, 0x7F;
	__asm        jle    near ptr 0x00501550;
	__asm        sub    from.x, 0x100;
// LINE 1851:
	__asm        cmp    y1, 0x7F;
	__asm        jle    near ptr 0x00501561;
	__asm        sub    from.y, 0x100;
// LINE 1854:
	__asm        lea    eax, to.x;
	__asm        push   eax;
	__asm        lea    eax, from.x;
	__asm        push   eax;
	__asm        call   MTCheapDist2D;
	__asm        add    esp, 8;
	__asm        mov    dist2, eax;
// LINE 1857:
	__asm        mov    eax, dist1;
	__asm        cmp    dist2, eax;
	__asm        jge    near ptr 0x005015AB;
// LINE 1859:
	__asm        mov    eax, x2;
	__asm        sub    eax, from.x;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        shl    eax, cl;
	__asm        mov    ecx, dx;
	__asm        mov    [ecx], eax;
// LINE 1860:
	__asm        mov    eax, y2;
	__asm        sub    eax, from.y;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        shl    eax, cl;
	__asm        mov    ecx, dy;
	__asm        mov    [ecx], eax;
// LINE 1862:
	__asm        jmp    near ptr 0x005015D1;
// LINE 1864:
	__asm        mov    eax, x2;
	__asm        sub    eax, x1;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        shl    eax, cl;
	__asm        mov    ecx, dx;
	__asm        mov    [ecx], eax;
// LINE 1865:
	__asm        mov    eax, y2;
	__asm        sub    eax, y1;
	__asm        mov    cl, ds:[0x5B5298];
	__asm        shl    eax, cl;
	__asm        mov    ecx, dy;
	__asm        mov    [ecx], eax;
// LINE 1867:
}



// Contribution: 2:00003ab0-00003cbf Module: 172, 8 byte alignment, initialized_data, read, 
// LOCAL: COPTER_D 0x00592ab0
// TurnTable3
// LOCAL: COPTER_D 0x00592b30
// TurnTable2
// LOCAL: COPTER_D 0x00592b70
// IndexToType
// LOCAL: COPTER_D 0x00592b80
// TypeToIndex2
// LOCAL: COPTER_D 0x00592bc0
// TILUT
// LOCAL: COPTER_D 0x00592c00
// OT
// LOCAL: COPTER_D 0x00592c40
// RRT
// LOCAL: COPTER_D 0x00592c80
// LRT


// Contribution: 3:0001e200-0001e2c3 Module: 172, 8 byte alignment, initialized_data, read, write, 
// GLOBAL: COPTER_D 0x005b5200
// G_mapmode
// GLOBAL: COPTER_D 0x005b5208
// mwindow
// GLOBAL: COPTER_D 0x005b5228
// save_window
// GLOBAL: COPTER_D 0x005b5248
// S_mapmin
// GLOBAL: COPTER_D 0x005b5250
// S_mapmax
// GLOBAL: COPTER_D 0x005b5258
// S_bordermin
// GLOBAL: COPTER_D 0x005b5260
// S_bordermax
// LOCAL: COPTER_D 0x005b5268
// S_borderdimx
// LOCAL: COPTER_D 0x005b526c
// S_borderdimy
// LOCAL: COPTER_D 0x005b5270
// S_mapbuf
// LOCAL: COPTER_D 0x005b5274
// S_borderbuf
// LOCAL: COPTER_D 0x005b5278
// S_mapbufctr
// LOCAL: COPTER_D 0x005b527c
// S_mapdimx
// LOCAL: COPTER_D 0x005b5280
// S_mapdimy
// LOCAL: COPTER_D 0x005b5284
// S_fire_cycle
// LOCAL: COPTER_D 0x005b5288
// S_dirlen
// LOCAL: COPTER_D 0x005b528c
// S_savebuffer1
// LOCAL: COPTER_D 0x005b5290
// S_save_aspect
// LOCAL: COPTER_D 0x005b5294
// S_save_width
// LOCAL: COPTER_D 0x005b5298
// S_mapzoom


// Contribution: 3:00071bc8-00071c23 Module: 172, 8 byte alignment, uninitialized_data, read, write, 
// LOCAL: COPTER_D 0x00608bc8
// S_dicon_dim
// LOCAL: COPTER_D 0x00608bd0
// S_icons
// LOCAL: COPTER_D 0x00608bf0
// S_icon_dim
// LOCAL: COPTER_D 0x00608bf8
// S_lrc
// LOCAL: COPTER_D 0x00608c00
// S_dicon_pitch
// LOCAL: COPTER_D 0x00608c08
// S_ulc
// LOCAL: COPTER_D 0x00608c10
// S_icon_pitch
// LOCAL: COPTER_D 0x00608c18
// S_dicons


// Unknown globals:
// The PDB was slightly corrupted and we aren't sure which file these globals belong to.

// WARNING: this global might actually belong to: C:\Copter\source\game\S3auto.cpp
// GLOBAL: COPTER_D 0x0067ed30
// _G_omap

// WARNING: this global might actually belong to: C:\Copter\source\game\S3viewer.c
// GLOBAL: COPTER_D 0x006c1330
// _ViewYRot
// GLOBAL: COPTER_D 0x006bed40
// _S_carinfo
