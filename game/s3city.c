// Module: S3city.obj
// Source: C:\Copter\source\game\S3city.c
// autogenerated by simcopter_tool from PDB file

// Type: struct tagLogCityEnterExit;
struct tagLogCityEnterExit{
	unsigned long nType;
	unsigned long nTime;
	unsigned long nMissionID;
	unsigned long nEnterOrExit;
	char szCity[32];
};

// Type: int32_t;

// Type: char[260];

// Type: short;

// Type: void;

// Type: long;

// Type: struct VRBmpHdr (forward reference);

// Type: struct _STOBJ_INST (forward reference);

// Type: struct _CELL_INFO (forward reference);

// Type: struct Point3d (forward reference);

// Type: struct Point2d (forward reference);

// Type: double;

// Type: unsigned short;

// Type: long *;

// Type: struct VRview;
struct VRview{
	struct Point3d loc;
	struct Point3d scale;
	int32_t matrix[4][4];
};

// Type: struct _DYOBJ_INST (forward reference);

// Type: struct Point3d;
struct Point3d{
	int32_t x;
	int32_t y;
	int32_t z;
};

// Type: int32_t[4][4];



// Contribution: 1:00109000-00112d42 Module: 170, 16 byte alignment, code, execute, read, 
// FUNCTION: COPTER_D 0x0050a000
short S3CityInit() {
	struct tagLogCityEnterExit tempLogCityEnterExit;
	int32_t i;
	char szFilePath[260];

// LINE 211:
	__asm        cmp    dword ptr ds:[0x5B59E0], 0;
	__asm        jne    near ptr 0x0050A038;
// LINE 212:
	__asm        call   S2CityAlloc;
	__asm        movsx  eax, ax;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050A032;
// LINE 213:
	__asm        mov    ax, 1;
	__asm        jmp    near ptr 0x0050A401;
// LINE 214:
	__asm        inc    dword ptr ds:[0x5B59E0];
// LINE 219:
	__asm        call   GetCurrentCityPath;
	__asm        push   eax;
	__asm        call   S2CityLoad;
	__asm        add    esp, 4;
	__asm        movsx  eax, ax;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x0050A0AD;
// LINE 220:
	__asm        push   0xDC;
	__asm        push   0x5B59F8;
	__asm        push   0x5B5A18;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    near ptr 0x0050A072;

	__asm        jmp    near ptr 0x0050A072;
// LINE 221:
	__asm        lea    eax, szFilePath[0];
	__asm        push   eax;
	__asm        push   0x5B5A1C;
	__asm        push   0;
	__asm        push   4;
	__asm        call   GetPathForFile;
	__asm        add    esp, 0x10;
// LINE 222:
	__asm        lea    eax, szFilePath[0];
	__asm        push   eax;
	__asm        call   S2CityLoad;
	__asm        add    esp, 4;
	__asm        movsx  eax, ax;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x0050A0AD;
// LINE 223:
	__asm        mov    ax, 1;
	__asm        jmp    near ptr 0x0050A401;
// LINE 227:
	__asm        call   S3TerrainInitMap;
// LINE 229:
	__asm        mov    dword ptr ds:[0x5B491C], 0;
// LINE 230:
	__asm        mov    dword ptr ds:[0x5B4920], 0;
// LINE 231:
	__asm        mov    dword ptr ds:[0x5B4924], 0;
// LINE 234:
	__asm        call   S3CityInitOmap;
	__asm        movsx  eax, ax;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050A0E9;
// LINE 235:
	__asm        mov    ax, 1;
	__asm        jmp    near ptr 0x0050A401;
// LINE 238:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x0050A0FE;

	__asm        inc    i;
	__asm        cmp    i, 0x1E;
	__asm        jge    near ptr 0x0050A1BE;
// LINE 240:
	__asm        mov    eax, i;
	__asm        lea    eax, [eax+eax*2];
	__asm        mov    word ptr [eax*8+0x609918], 4;
// LINE 241:
	__asm        mov    eax, i;
	__asm        lea    eax, [eax+eax*2];
	__asm        mov    word ptr [eax*8+0x60991A], 0;
// LINE 242:
	__asm        mov    eax, i;
	__asm        lea    eax, [eax+eax*2];
	__asm        mov    word ptr [eax*8+0x60991C], 0;
// LINE 243:
	__asm        mov    eax, i;
	__asm        lea    eax, [eax+eax*2];
	__asm        mov    word ptr [eax*8+0x60991E], 0;
// LINE 244:
	__asm        mov    eax, i;
	__asm        lea    eax, [eax+eax*2];
	__asm        mov    word ptr [eax*8+0x609920], 1;
// LINE 245:
	__asm        mov    eax, i;
	__asm        lea    eax, [eax+eax*2];
	__asm        mov    word ptr [eax*8+0x609922], 1;
// LINE 246:
	__asm        mov    eax, i;
	__asm        lea    eax, [eax+eax*2];
	__asm        mov    dword ptr [eax*8+0x609924], 0;
// LINE 247:
	__asm        mov    eax, i;
	__asm        lea    eax, [eax+eax*2];
	__asm        mov    dword ptr [eax*8+0x609928], 0;
// LINE 248:
	__asm        mov    eax, i;
	__asm        lea    eax, [eax+eax*2];
	__asm        mov    dword ptr [eax*8+0x60992C], 0;
// LINE 249:
	__asm        jmp    near ptr 0x0050A0F8;
// LINE 253:
	__asm        mov    eax, ds:[0x6662A8];
	__asm        add    eax, eax;
	__asm        mov    ds:[0x609C40], eax;
// LINE 254:
	__asm        mov    dword ptr ds:[0x609C44], 0;
// LINE 255:
	__asm        mov    eax, ds:[0x6662A8];
	__asm        shl    eax, 2;
	__asm        mov    ds:[0x609C48], eax;
// LINE 256:
	__asm        mov    eax, ds:[0x6662A8];
	__asm        lea    eax, [eax+eax*2];
	__asm        add    eax, eax;
	__asm        mov    ds:[0x609C4C], eax;
// LINE 258:
	__asm        mov    dword ptr ds:[0x62A4D8], 0;
// LINE 259:
	__asm        mov    eax, ds:[0x6662A8];
	__asm        add    eax, eax;
	__asm        mov    ds:[0x62A4DC], eax;
// LINE 260:
	__asm        mov    eax, ds:[0x6662A8];
	__asm        lea    eax, [eax+eax*2];
	__asm        add    eax, eax;
	__asm        mov    ds:[0x62A4E0], eax;
// LINE 261:
	__asm        mov    eax, ds:[0x6662A8];
	__asm        shl    eax, 2;
	__asm        mov    ds:[0x62A4E4], eax;
// LINE 263:
	__asm        mov    eax, ds:[0x6662A8];
	__asm        shl    eax, 2;
	__asm        mov    ds:[0x609908], eax;
// LINE 264:
	__asm        mov    eax, ds:[0x6662A8];
	__asm        lea    eax, [eax+eax*2];
	__asm        add    eax, eax;
	__asm        mov    ds:[0x60990C], eax;
// LINE 265:
	__asm        mov    eax, ds:[0x6662A8];
	__asm        add    eax, eax;
	__asm        mov    ds:[0x609910], eax;
// LINE 266:
	__asm        mov    dword ptr ds:[0x609914], 0;
// LINE 268:
	__asm        mov    eax, ds:[0x6662A8];
	__asm        lea    eax, [eax+eax*2];
	__asm        add    eax, eax;
	__asm        mov    ds:[0x62A4B8], eax;
// LINE 269:
	__asm        mov    eax, ds:[0x6662A8];
	__asm        shl    eax, 2;
	__asm        mov    ds:[0x62A4BC], eax;
// LINE 270:
	__asm        mov    dword ptr ds:[0x62A4C0], 0;
// LINE 271:
	__asm        mov    eax, ds:[0x6662A8];
	__asm        add    eax, eax;
	__asm        mov    ds:[0x62A4C4], eax;
// LINE 274:
	__asm        mov    dword ptr ds:[0x609098], 0xFFC00000;
// LINE 275:
	__asm        mov    dword ptr ds:[0x60909C], 0;
// LINE 276:
	__asm        mov    dword ptr ds:[0x6090A0], 0;
// LINE 277:
	__asm        mov    dword ptr ds:[0x62A4A8], 0x400000;
// LINE 278:
	__asm        mov    dword ptr ds:[0x62A4AC], 0;
// LINE 279:
	__asm        mov    dword ptr ds:[0x62A4B0], 0;
// LINE 281:
	__asm        mov    eax, 0x6090A8;
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        call   0x004D1FF1;
	__asm        add    esp, 4;
// LINE 282:
	__asm        mov    dword ptr ds:[0x6090B0], 0;
	__asm        mov    eax, ds:[0x6090B0];
	__asm        mov    ds:[0x6090AC], eax;
	__asm        mov    eax, ds:[0x6090AC];
	__asm        mov    ds:[0x6090A8], eax;
// LINE 288:
	__asm        mov    dword ptr ds:[0x62A4F8], 0x80;
// LINE 289:
	__asm        mov    dword ptr ds:[0x62A4FC], 0x80;
// LINE 292:
	__asm        mov    eax, ds:[0x62A4F8];
	__asm        mov    ecx, ds:[0x6663A0];
	__asm        sar    ecx, 1;
	__asm        sub    eax, ecx;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x67ED28], eax;
// LINE 293:
	__asm        mov    eax, ds:[0x62A4FC];
	__asm        mov    ecx, ds:[0x6663A0];
	__asm        sar    ecx, 1;
	__asm        sub    eax, ecx;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x67ED2C], eax;
// LINE 295:
	__asm        mov    dword ptr ds:[0x666300], 0;
// LINE 296:
	__asm        mov    dword ptr ds:[0x666308], 0;
// LINE 297:
	__asm        call   S3TerrSetGridObj;
// LINE 300:
	__asm        mov    eax, ds:[0x6663A0];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        sub    eax, 3;
	__asm        shl    eax, 0x16;
	__asm        push   eax;
	__asm        call   VRSetBackPlane;
	__asm        add    esp, 4;
// LINE 307:
	__asm        push   0x59B508;
	__asm        push   0xC4E0000;
	__asm        push   0x62A458;
	__asm        call   MTArbRotMat;
	__asm        add    esp, 0xC;
// LINE 308:
	__asm        push   0x59B508;
	__asm        push   0x1C20000;
	__asm        push   0x609C00;
	__asm        call   MTArbRotMat;
	__asm        add    esp, 0xC;
// LINE 312:
	__asm        mov    tempLogCityEnterExit.nType, 2;
// LINE 313:
	__asm        mov    tempLogCityEnterExit.nMissionID, 0;
// LINE 314:
	__asm        mov    tempLogCityEnterExit.nEnterOrExit, 0;
// LINE 315:
	__asm        cmp    dword ptr ds:[0x63A570], 0;
	__asm        je     near ptr 0x0050A3DD;
// LINE 316:
	__asm        push   0x20;
	__asm        mov    eax, ds:[0x63A570];
	__asm        push   eax;
	__asm        lea    eax, tempLogCityEnterExit.szCity[0];
	__asm        push   eax;
	__asm        call   strncpy;
	__asm        add    esp, 0xC;
// LINE 317:
	__asm        jmp    near ptr 0x0050A3E8;
// LINE 318:
	__asm        mov    al, ds:[0x5B5A2C];
	__asm        mov    tempLogCityEnterExit.szCity[0], al;
// LINE 319:
	__asm        push   0;
	__asm        lea    eax, tempLogCityEnterExit.nType;
	__asm        push   eax;
	__asm        call   S3AddLogEntry;
	__asm        add    esp, 8;
// LINE 321:
	__asm        xor    ax, ax;
	__asm        jmp    near ptr 0x0050A401;
// LINE 322:
}

// FUNCTION: COPTER_D 0x0050a406
void S3CityDeInit() {
	struct tagLogCityEnterExit tempLogCityEnterExit;

// LINE 338:
	__asm        mov    tempLogCityEnterExit.nType, 2;
// LINE 339:
	__asm        mov    tempLogCityEnterExit.nMissionID, 0;
// LINE 340:
	__asm        mov    tempLogCityEnterExit.nEnterOrExit, 1;
// LINE 341:
	__asm        cmp    dword ptr ds:[0x63A570], 0;
	__asm        je     near ptr 0x0050A44A;
// LINE 342:
	__asm        push   0x20;
	__asm        mov    eax, ds:[0x63A570];
	__asm        push   eax;
	__asm        lea    eax, tempLogCityEnterExit.szCity[0];
	__asm        push   eax;
	__asm        call   strncpy;
	__asm        add    esp, 0xC;
// LINE 343:
	__asm        jmp    near ptr 0x0050A452;
// LINE 344:
	__asm        mov    al, ds:[0x5B5A30];
	__asm        mov    tempLogCityEnterExit.szCity[0], al;
// LINE 345:
	__asm        push   0;
	__asm        lea    eax, tempLogCityEnterExit.nType;
	__asm        push   eax;
	__asm        call   S3AddLogEntry;
	__asm        add    esp, 8;
// LINE 348:
	__asm        cmp    dword ptr ds:[0x5B59E0], 0;
	__asm        jle    near ptr 0x0050A473;
// LINE 350:
	__asm        dec    dword ptr ds:[0x5B59E0];
// LINE 352:
}

// FUNCTION: COPTER_D 0x0050a478
void VRSetBackPlane(int32_t farZ) {
	int32_t fogpct;
	long i;
	struct VRBmpHdr* bhdr;

// LINE 369:
	__asm        push   1;
	__asm        mov    eax, ds:[0x5B476C];
	__asm        push   eax;
	__asm        call   VRInt2BmpHdr;
	__asm        add    esp, 8;
	__asm        mov    bhdr, eax;
// LINE 370:
	__asm        mov    eax, bhdr;
	__asm        mov    ds:[0x6BED38], eax;
// LINE 371:
	__asm        mov    eax, bhdr;
	__asm        mov    eax, [eax+4];
	__asm        shl    eax, 2;
	__asm        add    eax, 0xC;
	__asm        add    ds:[0x6BED38], eax;
// LINE 373:
	__asm        mov    eax, farZ;
	__asm        push   eax;
	__asm        call   0x004D7B70;
	__asm        add    esp, 4;
// LINE 374:
	__asm        cmp    dword ptr ds:[0x598E90], 0;
	__asm        jne    near ptr 0x0050A508;
// LINE 376:
	__asm        push   0xF0000;
	__asm        push   0x640000;
	__asm        mov    eax, farZ;
	__asm        push   eax;
	__asm        call   0x004D19DF;
	__asm        add    esp, 8;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    fogpct, eax;
// LINE 377:
	__asm        push   1;
	__asm        mov    eax, ds:[0x5B476C];
	__asm        push   eax;
	__asm        call   VRInt2BmpHdr;
	__asm        add    esp, 8;
	__asm        mov    bhdr, eax;
// LINE 378:
	__asm        mov    i, 0x3A3A3A3A;
// LINE 380:
	__asm        jmp    near ptr 0x0050A544;
// LINE 383:
	__asm        push   0xF0000;
	__asm        push   0x640000;
	__asm        mov    eax, farZ;
	__asm        push   eax;
	__asm        call   0x004D19DF;
	__asm        add    esp, 8;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    fogpct, eax;
// LINE 384:
	__asm        push   0x29;
	__asm        mov    eax, ds:[0x5B476C];
	__asm        push   eax;
	__asm        call   VRInt2BmpHdr;
	__asm        add    esp, 8;
	__asm        mov    bhdr, eax;
// LINE 385:
	__asm        mov    i, 0x31313131;
// LINE 387:
	__asm        cmp    dword ptr ds:[0x598E98], 1;
	__asm        jne    near ptr 0x0050A558;
// LINE 388:
	__asm        mov    i, 0;
// LINE 390:
	__asm        mov    eax, i;
	__asm        push   eax;
	__asm        call   0x004D682B;
	__asm        add    esp, 4;
// LINE 393:
	__asm        mov    eax, i;
	__asm        and    eax, 0xFF;
	__asm        mov    ds:[0x598EA0], eax;
// LINE 410:
	__asm        mov    eax, bhdr;
	__asm        mov    ds:[0x662834], eax;
// LINE 411:
	__asm        mov    eax, bhdr;
	__asm        mov    eax, [eax+4];
	__asm        shl    eax, 2;
	__asm        add    eax, 0xC;
	__asm        add    ds:[0x662834], eax;
// LINE 412:
	__asm        mov    eax, ds:[0x662834];
	__asm        mov    ds:[0x662868], eax;
// LINE 414:
	__asm        mov    eax, farZ;
	__asm        sub    eax, fogpct;
	__asm        mov    ds:[0x662818], eax;
// LINE 415:
	__asm        mov    eax, farZ;
	__asm        add    eax, 0x10000;
	__asm        sub    eax, ds:[0x662818];
	__asm        mov    ds:[0x666388], eax;
// LINE 416:
	__asm        mov    eax, ds:[0x662818];
	__asm        sub    eax, fogpct;
	__asm        mov    ds:[0x66281C], eax;
// LINE 417:
	__asm        cmp    dword ptr ds:[0x66281C], 0x2580000;
	__asm        jge    near ptr 0x0050A5DA;
// LINE 418:
	__asm        mov    dword ptr ds:[0x66281C], 0x2580000;
// LINE 419:
}

// FUNCTION: COPTER_D 0x0050a5df
short S3CityInitOmap() {
	long tile;
	struct _STOBJ_INST* sptr;
	int32_t obj;
	struct _CELL_INFO* cptr;
	short alt;
	long k;
	long j;
	long y;
	short i;
	long x;
	long obj2user;
	long objcount;
	int32_t obj2;
	short size;
	short flags;
	long obj1user;

// LINE 462:
	__asm        mov    edi, 0x67ED30;
	__asm        xor    eax, eax;
	__asm        mov    ecx, 0x10000;
	__asm        rep stosd;
// LINE 467:
	__asm        mov    x, 0;
	__asm        jmp    near ptr 0x0050A605;

	__asm        inc    x;
	__asm        cmp    x, 0x80;
	__asm        jge    near ptr 0x0050E426;
// LINE 469:
	__asm        mov    y, 0;
	__asm        jmp    near ptr 0x0050A621;

	__asm        inc    y;
	__asm        cmp    y, 0x80;
	__asm        jge    near ptr 0x0050E421;
// LINE 473:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        cmp    dword ptr [ecx+eax*4+0x67ED30], 0;
	__asm        je     near ptr 0x0050A655;
// LINE 474:
	__asm        jmp    near ptr 0x0050A61E;
// LINE 477:
	__asm        cmp    dword ptr ds:[0x5B491C], 0;
	__asm        jne    near ptr 0x0050A6A2;

	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x639DE0];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    dl, 0xF;
	__asm        cmp    dl, 8;
	__asm        jne    near ptr 0x0050A6A2;
// LINE 479:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityCreateHeliBase;
	__asm        add    esp, 8;
// LINE 480:
	__asm        cmp    dword ptr ds:[0x5B491C], 1;
	__asm        jne    near ptr 0x0050A6A2;
// LINE 481:
	__asm        jmp    near ptr 0x0050A61E;
// LINE 485:
	__asm        mov    objcount, 1;
// LINE 488:
	__asm        mov    flags, 0;
// LINE 491:
	__asm        mov    obj1user, 4;
// LINE 492:
	__asm        mov    obj2user, 0x10;
// LINE 495:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x639850];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        mov    tile, edx;
// LINE 498:
	__asm        mov    eax, tile;
	__asm        push   eax;
	__asm        call   S2TileSize;
	__asm        add    esp, 4;
	__asm        mov    size, ax;
// LINE 501:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   GetAltitude;
	__asm        add    esp, 8;
	__asm        mov    alt, ax;
// LINE 503:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x63A270];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        cmp    edx, 0xD;
	__asm        je     near ptr 0x0050A72C;

	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x63A270];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        cmp    edx, 0xE;
	__asm        jne    near ptr 0x0050A730;
// LINE 504:
	__asm        inc    alt;
// LINE 505:
	__asm        movsx  eax, alt;
	__asm        shl    eax, 5;
	__asm        add    eax, 0x20;
	__asm        mov    alt, ax;
// LINE 508:
	__asm        cmp    tile, 0;
	__asm        jne    near ptr 0x0050A752;
// LINE 510:
	__asm        jmp    near ptr 0x0050A61E;
// LINE 512:
	__asm        jmp    near ptr 0x0050DDF3;

	__asm        cmp    tile, 4;
	__asm        jg     near ptr 0x0050A778;
// LINE 514:
	__asm        push   0x14F;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 515:
	__asm        mov    obj1user, 0x400;
// LINE 518:
	__asm        jmp    near ptr 0x0050DDF3;

	__asm        cmp    tile, 0x1D;
	__asm        jge    near ptr 0x0050AB9D;
// LINE 520:
	__asm        mov    eax, tile;
	__asm        mov    [ebp-0x44], eax;
	__asm        jmp    near ptr 0x0050AB24;
// LINE 526:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityLowestTerrAlt;
	__asm        add    esp, 0xC;
	__asm        mov    alt, ax;
// LINE 527:
	__asm        push   0x10D;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 528:
	__asm        mov    obj1user, 8;
// LINE 529:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 531:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityLowestTerrAlt;
	__asm        add    esp, 0xC;
	__asm        mov    alt, ax;
// LINE 532:
	__asm        push   0x10E;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 533:
	__asm        mov    obj1user, 8;
// LINE 534:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 536:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityLowestTerrAlt;
	__asm        add    esp, 0xC;
	__asm        mov    alt, ax;
// LINE 537:
	__asm        push   0x10F;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 538:
	__asm        mov    obj1user, 8;
// LINE 539:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 541:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityLowestTerrAlt;
	__asm        add    esp, 0xC;
	__asm        mov    alt, ax;
// LINE 542:
	__asm        push   0x110;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 543:
	__asm        mov    obj1user, 8;
// LINE 544:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 546:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityLowestTerrAlt;
	__asm        add    esp, 0xC;
	__asm        mov    alt, ax;
// LINE 547:
	__asm        push   0x111;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 548:
	__asm        mov    obj1user, 8;
// LINE 549:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 551:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityLowestTerrAlt;
	__asm        add    esp, 0xC;
	__asm        mov    alt, ax;
// LINE 552:
	__asm        push   0x112;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 553:
	__asm        mov    obj1user, 8;
// LINE 554:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 556:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityLowestTerrAlt;
	__asm        add    esp, 0xC;
	__asm        mov    alt, ax;
// LINE 557:
	__asm        push   0x113;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 558:
	__asm        mov    obj1user, 8;
// LINE 559:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 561:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityLowestTerrAlt;
	__asm        add    esp, 0xC;
	__asm        mov    alt, ax;
// LINE 562:
	__asm        push   0x143;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 563:
	__asm        mov    obj1user, 8;
// LINE 564:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 566:
	__asm        push   0x55;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 567:
	__asm        mov    obj1user, 0x80;
// LINE 568:
	__asm        or     obj1user, 0x200;
// LINE 569:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 571:
	__asm        push   0x56;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 572:
	__asm        mov    obj1user, 0x80;
// LINE 573:
	__asm        or     obj1user, 0x200;
// LINE 574:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 576:
	__asm        push   0x57;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 577:
	__asm        mov    obj1user, 0x80;
// LINE 578:
	__asm        or     obj1user, 0x200;
// LINE 579:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 581:
	__asm        push   0x58;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 582:
	__asm        mov    obj1user, 0x80;
// LINE 583:
	__asm        or     obj1user, 0x200;
// LINE 584:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 586:
	__asm        push   0x59;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 587:
	__asm        mov    obj1user, 0x80;
// LINE 588:
	__asm        or     obj1user, 0x200;
// LINE 589:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 591:
	__asm        push   0x5A;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 592:
	__asm        mov    obj1user, 0x80;
// LINE 593:
	__asm        or     obj1user, 0x200;
// LINE 594:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 596:
	__asm        push   0x5B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 597:
	__asm        mov    obj1user, 0x80;
// LINE 598:
	__asm        or     obj1user, 0x200;
// LINE 599:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 601:
	__asm        push   0x5C;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 602:
	__asm        mov    obj1user, 0x80;
// LINE 603:
	__asm        or     obj1user, 0x200;
// LINE 604:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 606:
	__asm        push   0x5D;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 607:
	__asm        mov    obj1user, 0x80;
// LINE 608:
	__asm        or     obj1user, 0x200;
// LINE 609:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 611:
	__asm        push   0x5E;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 612:
	__asm        mov    obj1user, 0x80;
// LINE 613:
	__asm        or     obj1user, 0x200;
// LINE 614:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 616:
	__asm        push   0x5F;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 617:
	__asm        mov    obj1user, 0x80;
// LINE 618:
	__asm        or     obj1user, 0x200;
// LINE 619:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 621:
	__asm        push   0x60;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 622:
	__asm        mov    obj1user, 0x80;
// LINE 623:
	__asm        or     obj1user, 0x200;
// LINE 624:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 626:
	__asm        push   0x61;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 627:
	__asm        mov    obj1user, 0x80;
// LINE 628:
	__asm        or     obj1user, 0x200;
// LINE 629:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 631:
	__asm        push   0x62;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 632:
	__asm        mov    obj1user, 0x80;
// LINE 633:
	__asm        or     obj1user, 0x200;
// LINE 634:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 636:
	__asm        push   0x63;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 637:
	__asm        mov    obj1user, 0x80;
// LINE 638:
	__asm        or     obj1user, 0x200;
// LINE 639:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 644:
	__asm        jmp    near ptr 0x0050A61E;
// LINE 645:
	__asm        jmp    near ptr 0x0050AB98;
// LINE 646:
	__asm        jmp    near ptr 0x0050AB98;

	__asm        sub    dword ptr [ebp-0x44], 6;
	__asm        cmp    dword ptr [ebp-0x44], 0x16;
	__asm        ja     near ptr 0x0050A61E;

	__asm        mov    eax, [ebp-0x44];
	__asm        jmp    dword ptr [eax*4+0x50AB3C];
// Switch pointers
// LINE 649:
	__asm        jmp    near ptr 0x0050DDF3;

	__asm        cmp    tile, 0x70;
	__asm        jge    near ptr 0x0050BDF5;
// LINE 653:
	__asm        mov    eax, tile;
	__asm        mov    [ebp-0x48], eax;
	__asm        jmp    near ptr 0x0050BC9C;
// LINE 659:
	__asm        mov    obj1user, 0x20;
// LINE 660:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityIsCellFlat;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050ABE9;
// LINE 662:
	__asm        push   0x3B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 663:
	__asm        mov    flags, 1;
// LINE 665:
	__asm        jmp    near ptr 0x0050ABF6;
// LINE 667:
	__asm        push   0x1D;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 669:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 671:
	__asm        mov    obj1user, 0x20;
// LINE 672:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityIsCellFlat;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050AC32;
// LINE 674:
	__asm        push   0x3C;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 675:
	__asm        mov    flags, 1;
// LINE 677:
	__asm        jmp    near ptr 0x0050AC3F;
// LINE 679:
	__asm        push   0x1E;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 681:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 683:
	__asm        push   0x1F;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 684:
	__asm        mov    obj1user, 0x20;
// LINE 685:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 687:
	__asm        push   0x20;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 688:
	__asm        mov    obj1user, 0x20;
// LINE 689:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 691:
	__asm        push   0x21;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 692:
	__asm        mov    obj1user, 0x20;
// LINE 693:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 695:
	__asm        push   0x22;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 696:
	__asm        mov    obj1user, 0x20;
// LINE 697:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 699:
	__asm        mov    obj1user, 0x20;
// LINE 700:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityIsCellFlat;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050ACDF;
// LINE 702:
	__asm        push   0x3D;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 703:
	__asm        mov    flags, 1;
// LINE 705:
	__asm        jmp    near ptr 0x0050ACEC;
// LINE 707:
	__asm        push   0x23;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 709:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 711:
	__asm        mov    obj1user, 0x20;
// LINE 712:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityIsCellFlat;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050AD28;
// LINE 714:
	__asm        push   0x3E;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 715:
	__asm        mov    flags, 1;
// LINE 717:
	__asm        jmp    near ptr 0x0050AD35;
// LINE 719:
	__asm        push   0x24;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 721:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 723:
	__asm        mov    obj1user, 0x20;
// LINE 724:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityIsCellFlat;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050AD71;
// LINE 726:
	__asm        push   0x3F;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 727:
	__asm        mov    flags, 1;
// LINE 729:
	__asm        jmp    near ptr 0x0050AD7E;
// LINE 731:
	__asm        push   0x25;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 733:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 735:
	__asm        mov    obj1user, 0x20;
// LINE 736:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityIsCellFlat;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050ADBA;
// LINE 738:
	__asm        push   0x40;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 739:
	__asm        mov    flags, 1;
// LINE 741:
	__asm        jmp    near ptr 0x0050ADC7;
// LINE 743:
	__asm        push   0x26;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 745:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 747:
	__asm        mov    obj1user, 0x20;
// LINE 748:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityIsCellFlat;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050AE03;
// LINE 750:
	__asm        push   0x41;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 751:
	__asm        mov    flags, 1;
// LINE 753:
	__asm        jmp    near ptr 0x0050AE10;
// LINE 755:
	__asm        push   0x27;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 757:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 759:
	__asm        mov    obj1user, 0x20;
// LINE 760:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityIsCellFlat;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050AE4C;
// LINE 762:
	__asm        push   0x42;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 763:
	__asm        mov    flags, 1;
// LINE 765:
	__asm        jmp    near ptr 0x0050AE59;
// LINE 767:
	__asm        push   0x28;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 769:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 771:
	__asm        mov    obj1user, 0x20;
// LINE 772:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityIsCellFlat;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050AE95;
// LINE 774:
	__asm        push   0x43;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 775:
	__asm        mov    flags, 1;
// LINE 777:
	__asm        jmp    near ptr 0x0050AEA2;
// LINE 779:
	__asm        push   0x29;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 781:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 783:
	__asm        mov    obj1user, 0x20;
// LINE 784:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityIsCellFlat;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050AEDE;
// LINE 786:
	__asm        push   0x44;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 787:
	__asm        mov    flags, 1;
// LINE 789:
	__asm        jmp    near ptr 0x0050AEEB;
// LINE 791:
	__asm        push   0x2A;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 793:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 795:
	__asm        mov    obj1user, 0x20;
// LINE 796:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityIsCellFlat;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050AF27;
// LINE 798:
	__asm        push   0x45;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 799:
	__asm        mov    flags, 1;
// LINE 801:
	__asm        jmp    near ptr 0x0050AF34;
// LINE 803:
	__asm        push   0x2B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 805:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 810:
	__asm        push   0x2C;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 811:
	__asm        mov    obj1user, 0x40;
// LINE 812:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 816:
	__asm        push   0x2D;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 817:
	__asm        mov    obj1user, 0x40;
// LINE 818:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 820:
	__asm        push   0x2E;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 821:
	__asm        mov    obj1user, 0x40;
// LINE 822:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 824:
	__asm        push   0x2F;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 825:
	__asm        mov    obj1user, 0x40;
// LINE 826:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 828:
	__asm        push   0x30;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 829:
	__asm        mov    obj1user, 0x40;
// LINE 830:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 832:
	__asm        push   0x31;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 833:
	__asm        mov    obj1user, 0x40;
// LINE 834:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 836:
	__asm        push   0x32;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 837:
	__asm        mov    obj1user, 0x40;
// LINE 838:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 840:
	__asm        push   0x33;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 841:
	__asm        mov    obj1user, 0x40;
// LINE 842:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 844:
	__asm        push   0x34;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 845:
	__asm        mov    obj1user, 0x40;
// LINE 846:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 848:
	__asm        push   0x35;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 849:
	__asm        mov    obj1user, 0x40;
// LINE 850:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 852:
	__asm        push   0x36;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 853:
	__asm        mov    obj1user, 0x40;
// LINE 854:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 856:
	__asm        push   0x37;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 857:
	__asm        mov    obj1user, 0x40;
// LINE 858:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 860:
	__asm        push   0x38;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 861:
	__asm        mov    obj1user, 0x40;
// LINE 862:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 864:
	__asm        push   0x39;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 865:
	__asm        mov    obj1user, 0x40;
// LINE 866:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 868:
	__asm        push   0x3A;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 869:
	__asm        mov    obj1user, 0x40;
// LINE 870:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 873:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityIsCellFlat;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050B0E3;
// LINE 875:
	__asm        push   0x128;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 876:
	__asm        mov    flags, 1;
// LINE 878:
	__asm        jmp    near ptr 0x0050B0F3;
// LINE 880:
	__asm        push   0x17F;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 882:
	__asm        mov    obj1user, 0x20;
// LINE 883:
	__asm        or     obj1user, 0x200;
// LINE 884:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 886:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityIsCellFlat;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050B139;
// LINE 888:
	__asm        push   0x129;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 889:
	__asm        mov    flags, 1;
// LINE 891:
	__asm        jmp    near ptr 0x0050B149;
// LINE 893:
	__asm        push   0x180;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 895:
	__asm        mov    obj1user, 0x20;
// LINE 896:
	__asm        or     obj1user, 0x200;
// LINE 897:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 900:
	__asm        mov    objcount, 2;
// LINE 901:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityIsCellFlat;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050B193;
// LINE 903:
	__asm        push   0x3B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 904:
	__asm        mov    flags, 1;
// LINE 906:
	__asm        jmp    near ptr 0x0050B1A0;
// LINE 908:
	__asm        push   0x1D;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 910:
	__asm        push   0x2D;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj2, eax;
// LINE 911:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 913:
	__asm        mov    objcount, 2;
// LINE 914:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityIsCellFlat;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050B1E9;
// LINE 916:
	__asm        push   0x3C;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 917:
	__asm        mov    flags, 1;
// LINE 919:
	__asm        jmp    near ptr 0x0050B1F6;
// LINE 921:
	__asm        push   0x1E;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 923:
	__asm        push   0x2C;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj2, eax;
// LINE 924:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 927:
	__asm        push   0x17D;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 928:
	__asm        mov    obj1user, 0x40;
// LINE 929:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 931:
	__asm        push   0x17E;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 932:
	__asm        mov    obj1user, 0x40;
// LINE 933:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 937:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x638F70];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        shr    edx, 1;
	__asm        mov    i, dx;
// LINE 938:
	__asm        movsx  eax, i;
	__asm        add    eax, 0x64;
	__asm        push   eax;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 939:
	__asm        or     obj1user, 0x200;
// LINE 940:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 942:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x638F70];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        shr    edx, 1;
	__asm        mov    i, dx;
// LINE 943:
	__asm        movsx  eax, i;
	__asm        add    eax, 0x66;
	__asm        push   eax;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 944:
	__asm        or     obj1user, 0x200;
// LINE 945:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 947:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x638F70];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        shr    edx, 1;
	__asm        mov    i, dx;
// LINE 948:
	__asm        movsx  eax, i;
	__asm        add    eax, 0x68;
	__asm        push   eax;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 949:
	__asm        or     obj1user, 0x200;
// LINE 950:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 952:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x638F70];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        shr    edx, 1;
	__asm        mov    i, dx;
// LINE 953:
	__asm        movsx  eax, i;
	__asm        add    eax, 0x6A;
	__asm        push   eax;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 954:
	__asm        or     obj1user, 0x200;
// LINE 955:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 957:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x638F70];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        shr    edx, 1;
	__asm        mov    i, dx;
// LINE 958:
	__asm        movsx  eax, i;
	__asm        add    eax, 0x6C;
	__asm        push   eax;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 959:
	__asm        or     obj1user, 0x200;
// LINE 960:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 962:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x638F70];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        shr    edx, 1;
	__asm        mov    i, dx;
// LINE 963:
	__asm        movsx  eax, i;
	__asm        add    eax, 0x6E;
	__asm        push   eax;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 964:
	__asm        or     obj1user, 0x200;
// LINE 965:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 967:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x638F70];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        shr    edx, 1;
	__asm        mov    i, dx;
// LINE 968:
	__asm        movsx  eax, i;
	__asm        add    eax, 0x70;
	__asm        push   eax;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 969:
	__asm        or     obj1user, 0x200;
// LINE 970:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 973:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x638F70];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        shr    edx, 1;
	__asm        mov    i, dx;
// LINE 974:
	__asm        movsx  eax, i;
	__asm        add    eax, 0x72;
	__asm        push   eax;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 975:
	__asm        or     obj1user, 0x200;
// LINE 976:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 978:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x638F70];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        shr    edx, 1;
	__asm        mov    i, dx;
// LINE 979:
	__asm        movsx  eax, i;
	__asm        add    eax, 0x74;
	__asm        push   eax;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 980:
	__asm        or     obj1user, 0x200;
// LINE 981:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 983:
	__asm        mov    size, 1;
// LINE 984:
	__asm        mov    objcount, 1;
// LINE 985:
	__asm        push   0xF7;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 986:
	__asm        or     obj1user, 0x200;
// LINE 987:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 989:
	__asm        mov    size, 1;
// LINE 990:
	__asm        mov    objcount, 1;
// LINE 991:
	__asm        push   0xF8;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 992:
	__asm        or     obj1user, 0x200;
// LINE 993:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 995:
	__asm        mov    size, 1;
// LINE 996:
	__asm        mov    objcount, 1;
// LINE 997:
	__asm        push   0xF9;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 998:
	__asm        or     obj1user, 0x200;
// LINE 999:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1001:
	__asm        mov    size, 1;
// LINE 1002:
	__asm        mov    objcount, 1;
// LINE 1003:
	__asm        push   0xFA;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1004:
	__asm        or     obj1user, 0x200;
// LINE 1005:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1007:
	__asm        mov    size, 1;
// LINE 1008:
	__asm        mov    objcount, 2;
// LINE 1009:
	__asm        push   0xF7;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1010:
	__asm        push   0x2D;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj2, eax;
// LINE 1011:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1013:
	__asm        mov    size, 1;
// LINE 1014:
	__asm        mov    objcount, 2;
// LINE 1015:
	__asm        push   0xF8;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1016:
	__asm        push   0x2C;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj2, eax;
// LINE 1017:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1019:
	__asm        mov    size, 1;
// LINE 1020:
	__asm        mov    objcount, 1;
// LINE 1021:
	__asm        push   0xF7;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1022:
	__asm        or     obj1user, 0x200;
// LINE 1024:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1026:
	__asm        mov    size, 1;
// LINE 1027:
	__asm        mov    objcount, 1;
// LINE 1028:
	__asm        push   0xF8;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1029:
	__asm        or     obj1user, 0x200;
// LINE 1031:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1033:
	__asm        mov    objcount, 1;
// LINE 1034:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x638F70];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        shr    edx, 1;
	__asm        mov    i, dx;
// LINE 1035:
	__asm        movsx  eax, i;
	__asm        add    eax, 0xFB;
	__asm        push   eax;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1036:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1038:
	__asm        mov    objcount, 1;
// LINE 1039:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x638F70];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        shr    edx, 1;
	__asm        mov    i, dx;
// LINE 1040:
	__asm        movsx  eax, i;
	__asm        add    eax, 0xFD;
	__asm        push   eax;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1041:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1043:
	__asm        mov    objcount, 1;
// LINE 1044:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x638F70];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        shr    edx, 1;
	__asm        mov    i, dx;
// LINE 1045:
	__asm        movsx  eax, i;
	__asm        add    eax, 0xFF;
	__asm        push   eax;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1046:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1048:
	__asm        mov    objcount, 1;
// LINE 1049:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x638F70];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        shr    edx, 1;
	__asm        mov    i, dx;
// LINE 1050:
	__asm        movsx  eax, i;
	__asm        add    eax, 0x101;
	__asm        push   eax;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1051:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1053:
	__asm        mov    objcount, 1;
// LINE 1054:
	__asm        push   0x103;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1056:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        push   eax;
	__asm        call   GetAltitude;
	__asm        add    esp, 8;
	__asm        mov    alt, ax;
// LINE 1058:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x63A274];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx+1];
	__asm        cmp    edx, 0xD;
	__asm        je     near ptr 0x0050B700;

	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x63A274];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx+1];
	__asm        cmp    edx, 0xE;
	__asm        jne    near ptr 0x0050B704;
// LINE 1059:
	__asm        inc    alt;
// LINE 1060:
	__asm        movsx  eax, alt;
	__asm        shl    eax, 5;
	__asm        add    eax, 0x20;
	__asm        mov    alt, ax;
// LINE 1061:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1063:
	__asm        mov    objcount, 1;
// LINE 1064:
	__asm        push   0x104;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1066:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        push   eax;
	__asm        call   GetAltitude;
	__asm        add    esp, 8;
	__asm        mov    alt, ax;
// LINE 1068:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x63A274];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx+1];
	__asm        cmp    edx, 0xD;
	__asm        je     near ptr 0x0050B77C;

	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x63A274];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx+1];
	__asm        cmp    edx, 0xE;
	__asm        jne    near ptr 0x0050B780;
// LINE 1069:
	__asm        inc    alt;
// LINE 1070:
	__asm        movsx  eax, alt;
	__asm        shl    eax, 5;
	__asm        add    eax, 0x20;
	__asm        mov    alt, ax;
// LINE 1071:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1073:
	__asm        mov    objcount, 1;
// LINE 1074:
	__asm        push   0x105;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1075:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1077:
	__asm        mov    objcount, 1;
// LINE 1078:
	__asm        push   0x106;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1079:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1081:
	__asm        mov    objcount, 1;
// LINE 1082:
	__asm        push   0x107;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1083:
	__asm        or     obj1user, 0x200;
// LINE 1084:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1086:
	__asm        mov    objcount, 1;
// LINE 1087:
	__asm        push   0x108;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1088:
	__asm        or     obj1user, 0x200;
// LINE 1089:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1091:
	__asm        mov    objcount, 1;
// LINE 1092:
	__asm        push   0x109;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1093:
	__asm        or     obj1user, 0x200;
// LINE 1094:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1096:
	__asm        mov    objcount, 1;
// LINE 1097:
	__asm        push   0x10A;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1098:
	__asm        or     obj1user, 0x200;
// LINE 1099:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1101:
	__asm        mov    objcount, 1;
// LINE 1102:
	__asm        push   0x10B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1103:
	__asm        or     obj1user, 0x200;
// LINE 1104:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1107:
	__asm        mov    objcount, 1;
// LINE 1108:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x638F70];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        shr    edx, 1;
	__asm        mov    i, dx;
// LINE 1109:
	__asm        movsx  eax, i;
	__asm        add    eax, 0x114;
	__asm        push   eax;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1110:
	__asm        or     obj1user, 0x200;
// LINE 1111:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1121:
	__asm        push   0x178;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1122:
	__asm        push   0x18;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    cptr, eax;
// LINE 1123:
	__asm        push   0x10;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    sptr, eax;
// LINE 1124:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        dec    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 1126:
	__asm        mov    eax, x;
	__asm        dec    eax;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FE0;
	__asm        mov    i, ax;
// LINE 1127:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 1128:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x20;
	__asm        mov    i, ax;
// LINE 1129:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 1130:
	__asm        mov    ax, alt;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+4], ax;
// LINE 1131:
	__asm        mov    ax, size;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+8], ax;
// LINE 1132:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax], 0;
// LINE 1133:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+0xA], 0;
// LINE 1134:
	__asm        mov    eax, sptr;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+0xC], eax;
// LINE 1135:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 1137:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax], 0;
// LINE 1138:
	__asm        mov    eax, obj;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx+4], eax;
// LINE 1139:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+8], 0;
// LINE 1140:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 1141:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1143:
	__asm        push   0x17A;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1144:
	__asm        push   0x18;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    cptr, eax;
// LINE 1145:
	__asm        push   0x10;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    sptr, eax;
// LINE 1146:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 1148:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FE0;
	__asm        mov    i, ax;
// LINE 1149:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 1150:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x20;
	__asm        mov    i, ax;
// LINE 1151:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 1152:
	__asm        mov    ax, alt;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+4], ax;
// LINE 1153:
	__asm        mov    ax, size;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+8], ax;
// LINE 1154:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax], 0;
// LINE 1155:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+0xA], 0;
// LINE 1156:
	__asm        mov    eax, sptr;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+0xC], eax;
// LINE 1157:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 1159:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax], 0;
// LINE 1160:
	__asm        mov    eax, obj;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx+4], eax;
// LINE 1161:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+8], 0;
// LINE 1162:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 1163:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1165:
	__asm        push   0x179;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1166:
	__asm        push   0x18;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    cptr, eax;
// LINE 1167:
	__asm        push   0x10;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    sptr, eax;
// LINE 1168:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        dec    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 1170:
	__asm        mov    eax, x;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FE0;
	__asm        mov    i, ax;
// LINE 1171:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 1172:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y;
	__asm        dec    ecx;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x20;
	__asm        mov    i, ax;
// LINE 1173:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 1174:
	__asm        mov    ax, alt;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+4], ax;
// LINE 1175:
	__asm        mov    ax, size;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+8], ax;
// LINE 1176:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax], 0;
// LINE 1177:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+0xA], 0;
// LINE 1178:
	__asm        mov    eax, sptr;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+0xC], eax;
// LINE 1179:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 1181:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax], 0;
// LINE 1182:
	__asm        mov    eax, obj;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx+4], eax;
// LINE 1183:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+8], 0;
// LINE 1184:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 1185:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1187:
	__asm        push   0x17B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1188:
	__asm        push   0x18;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    cptr, eax;
// LINE 1189:
	__asm        push   0x10;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    sptr, eax;
// LINE 1190:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 1192:
	__asm        mov    eax, x;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FE0;
	__asm        mov    i, ax;
// LINE 1193:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 1194:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x20;
	__asm        mov    i, ax;
// LINE 1195:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 1196:
	__asm        mov    ax, alt;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+4], ax;
// LINE 1197:
	__asm        mov    ax, size;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+8], ax;
// LINE 1198:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax], 0;
// LINE 1199:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+0xA], 0;
// LINE 1200:
	__asm        mov    eax, sptr;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+0xC], eax;
// LINE 1201:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 1203:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax], 0;
// LINE 1204:
	__asm        mov    eax, obj;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx+4], eax;
// LINE 1205:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+8], 0;
// LINE 1206:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 1207:
	__asm        jmp    near ptr 0x0050BDF0;
// LINE 1209:
	__asm        jmp    near ptr 0x0050A61E;
// LINE 1210:
	__asm        jmp    near ptr 0x0050BDF0;

	__asm        sub    dword ptr [ebp-0x48], 0x1D;
	__asm        cmp    dword ptr [ebp-0x48], 0x4E;
	__asm        ja     near ptr 0x0050A61E;

	__asm        mov    eax, [ebp-0x48];
	__asm        jmp    dword ptr [eax*4+0x50BCB4];
// Switch pointers
// LINE 1213:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1217:
	__asm        mov    flags, 1;
// LINE 1221:
	__asm        mov    eax, tile;
	__asm        mov    [ebp-0x4C], eax;
	__asm        jmp    near ptr 0x0050DB98;
// LINE 1224:
	__asm        mov    objcount, 2;
// LINE 1225:
	__asm        push   0xAF;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1226:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1227:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1229:
	__asm        mov    objcount, 1;
// LINE 1230:
	__asm        mov    flags, 0;
// LINE 1231:
	__asm        push   0x144;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1232:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1234:
	__asm        mov    objcount, 2;
// LINE 1235:
	__asm        push   0xB0;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1236:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1237:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1239:
	__asm        mov    objcount, 2;
// LINE 1240:
	__asm        push   0xB1;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1241:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1242:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1244:
	__asm        mov    objcount, 2;
// LINE 1245:
	__asm        push   0xB2;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1246:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1247:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1249:
	__asm        mov    objcount, 2;
// LINE 1250:
	__asm        push   0xB3;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1251:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1252:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1254:
	__asm        mov    objcount, 2;
// LINE 1255:
	__asm        push   0xB4;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1256:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1257:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1259:
	__asm        mov    objcount, 2;
// LINE 1260:
	__asm        push   0xB5;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1261:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1262:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1264:
	__asm        mov    objcount, 2;
// LINE 1265:
	__asm        push   0xB6;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1266:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1267:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1269:
	__asm        mov    objcount, 2;
// LINE 1270:
	__asm        push   0xB7;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1271:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1272:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1274:
	__asm        mov    objcount, 2;
// LINE 1275:
	__asm        push   0xB8;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1276:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1277:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1279:
	__asm        mov    objcount, 2;
// LINE 1280:
	__asm        push   0xB9;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1281:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1282:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1284:
	__asm        mov    objcount, 2;
// LINE 1285:
	__asm        push   0xBA;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1286:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1287:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1289:
	__asm        mov    objcount, 2;
// LINE 1290:
	__asm        push   0xBB;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1291:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1292:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1294:
	__asm        mov    objcount, 2;
// LINE 1295:
	__asm        push   0xBC;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1296:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1297:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1299:
	__asm        mov    objcount, 2;
// LINE 1300:
	__asm        push   0xBD;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1301:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1302:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1304:
	__asm        mov    objcount, 2;
// LINE 1305:
	__asm        push   0xBE;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1306:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1307:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1309:
	__asm        mov    objcount, 2;
// LINE 1310:
	__asm        push   0xBF;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1311:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1312:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1314:
	__asm        mov    objcount, 2;
// LINE 1315:
	__asm        or     obj1user, 0x200;
// LINE 1316:
	__asm        push   0xC0;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1317:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1318:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1320:
	__asm        mov    objcount, 2;
// LINE 1321:
	__asm        push   0xC1;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1322:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1323:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1325:
	__asm        mov    objcount, 2;
// LINE 1326:
	__asm        push   0x9D;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1327:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1328:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1330:
	__asm        mov    objcount, 2;
// LINE 1331:
	__asm        or     obj1user, 0x200;
// LINE 1332:
	__asm        push   0xC2;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1333:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1334:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1336:
	__asm        mov    objcount, 2;
// LINE 1337:
	__asm        push   0xC3;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1338:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1339:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1341:
	__asm        mov    objcount, 2;
// LINE 1342:
	__asm        push   0x9E;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1343:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1344:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1346:
	__asm        mov    objcount, 2;
// LINE 1347:
	__asm        push   5;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1348:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1349:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1351:
	__asm        mov    objcount, 2;
// LINE 1352:
	__asm        push   0x9F;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1353:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1354:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1356:
	__asm        mov    objcount, 2;
// LINE 1357:
	__asm        push   0xA0;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1358:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1359:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1361:
	__asm        mov    objcount, 2;
// LINE 1362:
	__asm        push   0xA1;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1363:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1364:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1366:
	__asm        mov    objcount, 2;
// LINE 1367:
	__asm        push   0xA2;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1368:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1369:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1371:
	__asm        mov    objcount, 2;
// LINE 1372:
	__asm        push   0xA3;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1373:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1374:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1376:
	__asm        mov    objcount, 2;
// LINE 1377:
	__asm        push   0xA4;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1378:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1379:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1381:
	__asm        mov    objcount, 2;
// LINE 1382:
	__asm        push   0xA5;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1383:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1384:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1386:
	__asm        mov    objcount, 2;
// LINE 1387:
	__asm        push   0x84;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1388:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1389:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1391:
	__asm        mov    objcount, 2;
// LINE 1392:
	__asm        push   0x85;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1393:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1394:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1396:
	__asm        mov    objcount, 2;
// LINE 1397:
	__asm        push   0xA7;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1398:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1399:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1401:
	__asm        mov    objcount, 2;
// LINE 1402:
	__asm        push   0xD1;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1403:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1404:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1406:
	__asm        mov    objcount, 2;
// LINE 1407:
	__asm        push   0xA8;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1408:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1409:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1411:
	__asm        mov    objcount, 2;
// LINE 1412:
	__asm        push   0xD2;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1413:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1414:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1416:
	__asm        mov    objcount, 2;
// LINE 1417:
	__asm        push   0xD3;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1418:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1419:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1421:
	__asm        mov    objcount, 2;
// LINE 1422:
	__asm        push   0xD4;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1423:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1424:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1426:
	__asm        mov    objcount, 2;
// LINE 1427:
	__asm        push   0xD5;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1428:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1429:
	__asm        or     obj1user, 0x200;
// LINE 1430:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1432:
	__asm        mov    objcount, 2;
// LINE 1433:
	__asm        push   0xD6;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1434:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1435:
	__asm        or     obj1user, 0x200;
// LINE 1436:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1438:
	__asm        mov    objcount, 2;
// LINE 1439:
	__asm        push   0xD7;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1440:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1441:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1443:
	__asm        mov    objcount, 2;
// LINE 1444:
	__asm        push   0xD8;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1445:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1446:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1448:
	__asm        mov    objcount, 1;
// LINE 1449:
	__asm        mov    flags, 0;
// LINE 1450:
	__asm        push   0xD9;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1451:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1453:
	__asm        mov    objcount, 1;
// LINE 1454:
	__asm        mov    flags, 0;
// LINE 1455:
	__asm        push   0xDA;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1456:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1458:
	__asm        mov    objcount, 2;
// LINE 1459:
	__asm        push   0xDB;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1460:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1461:
	__asm        or     obj1user, 0x200;
// LINE 1462:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1464:
	__asm        mov    objcount, 2;
// LINE 1465:
	__asm        push   0xDC;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1466:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1467:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1469:
	__asm        mov    objcount, 2;
// LINE 1470:
	__asm        push   0xDD;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1471:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1472:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1474:
	__asm        mov    objcount, 2;
// LINE 1475:
	__asm        push   0xDE;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1476:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1477:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1479:
	__asm        mov    objcount, 2;
// LINE 1480:
	__asm        push   0xDF;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1481:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1482:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1484:
	__asm        mov    objcount, 2;
// LINE 1485:
	__asm        push   0xE0;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1486:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1487:
	__asm        or     obj1user, 0x200;
// LINE 1488:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1490:
	__asm        mov    objcount, 2;
// LINE 1491:
	__asm        push   0xE1;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1492:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1493:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1495:
	__asm        mov    objcount, 2;
// LINE 1496:
	__asm        push   0xE2;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1497:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1498:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1500:
	__asm        mov    objcount, 2;
// LINE 1501:
	__asm        push   0xA9;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1502:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1503:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1505:
	__asm        mov    objcount, 2;
// LINE 1506:
	__asm        push   0xAA;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1507:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1508:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1510:
	__asm        mov    objcount, 2;
// LINE 1511:
	__asm        push   0xAB;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1512:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1513:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1515:
	__asm        mov    objcount, 2;
// LINE 1516:
	__asm        push   0xAC;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1517:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1518:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1520:
	__asm        mov    objcount, 2;
// LINE 1521:
	__asm        push   0xAD;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1522:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1523:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1525:
	__asm        mov    objcount, 2;
// LINE 1526:
	__asm        push   0xA6;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1527:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1528:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1530:
	__asm        mov    objcount, 2;
// LINE 1531:
	__asm        push   0x86;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1532:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1533:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1535:
	__asm        mov    objcount, 2;
// LINE 1536:
	__asm        push   0x87;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1537:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1538:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1540:
	__asm        mov    objcount, 2;
// LINE 1541:
	__asm        push   0x88;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1542:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1543:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1545:
	__asm        mov    objcount, 2;
// LINE 1546:
	__asm        push   0x89;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1547:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1548:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1550:
	__asm        mov    objcount, 2;
// LINE 1551:
	__asm        push   0x9A;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1552:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1553:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1555:
	__asm        mov    objcount, 2;
// LINE 1556:
	__asm        push   0x9B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1557:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1558:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1560:
	__asm        mov    objcount, 2;
// LINE 1561:
	__asm        push   0xCB;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1562:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1563:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1565:
	__asm        mov    objcount, 2;
// LINE 1566:
	__asm        push   0xCC;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1567:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1568:
	__asm        or     obj1user, 0x200;
// LINE 1569:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1571:
	__asm        mov    objcount, 2;
// LINE 1572:
	__asm        push   0x9C;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1573:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1574:
	__asm        or     obj1user, 0x200;
// LINE 1575:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1577:
	__asm        mov    objcount, 2;
// LINE 1578:
	__asm        push   0xCD;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1579:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1580:
	__asm        or     obj1user, 0x200;
// LINE 1581:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1583:
	__asm        mov    objcount, 1;
// LINE 1584:
	__asm        mov    flags, 0;
// LINE 1585:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x638F70];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        shr    edx, 1;
	__asm        mov    i, dx;
// LINE 1586:
	__asm        movsx  eax, i;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050CC8E;
// LINE 1587:
	__asm        push   0x8A;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1588:
	__asm        jmp    near ptr 0x0050CC9E;
// LINE 1589:
	__asm        push   0x11B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1590:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1592:
	__asm        mov    objcount, 1;
// LINE 1593:
	__asm        mov    flags, 0;
// LINE 1594:
	__asm        push   0x8B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1595:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1597:
	__asm        mov    objcount, 1;
// LINE 1598:
	__asm        mov    flags, 0;
// LINE 1599:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x638F70];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 2;
	__asm        shr    edx, 1;
	__asm        mov    i, dx;
// LINE 1600:
	__asm        movsx  eax, i;
	__asm        test   eax, eax;
	__asm        je     near ptr 0x0050CD0F;
// LINE 1601:
	__asm        push   0x8C;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1602:
	__asm        jmp    near ptr 0x0050CD1F;
// LINE 1603:
	__asm        push   0x10C;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1604:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1606:
	__asm        mov    objcount, 2;
// LINE 1607:
	__asm        push   0x8D;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1608:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1609:
	__asm        or     obj1user, 0x200;
// LINE 1610:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1612:
	__asm        mov    objcount, 2;
// LINE 1613:
	__asm        push   0x8E;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1614:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1615:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1617:
	__asm        mov    objcount, 2;
// LINE 1618:
	__asm        push   0x8F;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1619:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1620:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1622:
	__asm        mov    objcount, 2;
// LINE 1623:
	__asm        push   0x90;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1624:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1625:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1627:
	__asm        mov    objcount, 2;
// LINE 1628:
	__asm        push   0x91;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1629:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1630:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1632:
	__asm        mov    objcount, 2;
// LINE 1633:
	__asm        push   0x92;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1634:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1635:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1637:
	__asm        mov    objcount, 2;
// LINE 1638:
	__asm        push   0x93;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1639:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1640:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1644:
	__asm        cmp    dword ptr ds:[0x5B4920], 0;
	__asm        jne    near ptr 0x0050CEE2;
// LINE 1646:
	__asm        mov    objcount, 1;
// LINE 1647:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj, eax;
// LINE 1648:
	__asm        mov    dword ptr ds:[0x5B4920], 1;
// LINE 1649:
	__asm        mov    eax, x;
	__asm        mov    ds:[0x6C11F8], eax;
// LINE 1650:
	__asm        mov    eax, y;
	__asm        mov    ds:[0x6C11FC], eax;
// LINE 1652:
	__asm        jmp    near ptr 0x0050CF11;
// LINE 1654:
	__asm        mov    objcount, 2;
// LINE 1655:
	__asm        push   0x94;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1656:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1658:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1660:
	__asm        mov    objcount, 2;
// LINE 1661:
	__asm        push   0x95;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1662:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1663:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1665:
	__asm        mov    objcount, 2;
// LINE 1666:
	__asm        push   0xE8;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1667:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1668:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1670:
	__asm        mov    objcount, 2;
// LINE 1671:
	__asm        push   0xE9;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1672:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1673:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1675:
	__asm        mov    objcount, 2;
// LINE 1676:
	__asm        push   0x96;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1677:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1678:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1681:
	__asm        mov    objcount, 2;
// LINE 1682:
	__asm        push   0x97;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1683:
	__asm        or     obj1user, 0x200;
// LINE 1684:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1685:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1687:
	__asm        mov    objcount, 2;
// LINE 1688:
	__asm        push   0xF5;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1689:
	__asm        or     obj1user, 0x200;
// LINE 1690:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1691:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1693:
	__asm        mov    objcount, 2;
// LINE 1694:
	__asm        push   0xF6;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1695:
	__asm        or     obj1user, 0x200;
// LINE 1696:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1697:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1699:
	__asm        mov    objcount, 2;
// LINE 1700:
	__asm        push   0x98;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1701:
	__asm        or     obj1user, 0x200;
// LINE 1702:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1703:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1705:
	__asm        mov    objcount, 2;
// LINE 1706:
	__asm        push   0x99;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1707:
	__asm        or     obj1user, 0x200;
// LINE 1708:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1709:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1711:
	__asm        mov    objcount, 2;
// LINE 1712:
	__asm        push   6;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1713:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1714:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1716:
	__asm        mov    objcount, 2;
// LINE 1717:
	__asm        push   7;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1718:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1719:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1721:
	__asm        mov    objcount, 2;
// LINE 1722:
	__asm        push   8;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1723:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1724:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1726:
	__asm        mov    objcount, 2;
// LINE 1727:
	__asm        push   9;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1728:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1729:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1731:
	__asm        mov    objcount, 2;
// LINE 1732:
	__asm        push   0xD0;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1733:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1734:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1736:
	__asm        mov    objcount, 2;
// LINE 1737:
	__asm        push   0xA;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1738:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1739:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1741:
	__asm        mov    objcount, 2;
// LINE 1742:
	__asm        push   0xCE;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1743:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1744:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1746:
	__asm        mov    objcount, 2;
// LINE 1747:
	__asm        push   0xB;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1748:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1749:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1751:
	__asm        mov    objcount, 2;
// LINE 1752:
	__asm        push   0xCF;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1753:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1754:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1756:
	__asm        mov    objcount, 2;
// LINE 1757:
	__asm        push   0xC;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1758:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1759:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1761:
	__asm        mov    objcount, 2;
// LINE 1762:
	__asm        push   0xD;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1763:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1764:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1766:
	__asm        mov    objcount, 2;
// LINE 1767:
	__asm        push   0xE;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1768:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1769:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1771:
	__asm        mov    objcount, 2;
// LINE 1772:
	__asm        push   0x80;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1773:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1774:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1776:
	__asm        mov    objcount, 2;
// LINE 1777:
	__asm        push   0x81;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1778:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1779:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1781:
	__asm        mov    objcount, 2;
// LINE 1782:
	__asm        push   0xC9;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1783:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1784:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1786:
	__asm        mov    objcount, 2;
// LINE 1787:
	__asm        push   0xCA;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1788:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1789:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1791:
	__asm        mov    objcount, 2;
// LINE 1792:
	__asm        push   0xF;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1793:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1794:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1796:
	__asm        mov    objcount, 2;
// LINE 1797:
	__asm        push   0x10;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1798:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1799:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1801:
	__asm        mov    objcount, 2;
// LINE 1802:
	__asm        push   0x11;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1803:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1804:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1806:
	__asm        mov    objcount, 2;
// LINE 1807:
	__asm        push   0x12;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1808:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1809:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1811:
	__asm        mov    objcount, 2;
// LINE 1812:
	__asm        push   0x13;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1813:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1814:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1816:
	__asm        mov    objcount, 2;
// LINE 1817:
	__asm        push   0x14;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1818:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1819:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1821:
	__asm        mov    objcount, 1;
// LINE 1822:
	__asm        mov    flags, 0;
// LINE 1823:
	__asm        push   0xF3;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1825:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1827:
	__asm        mov    objcount, 2;
// LINE 1828:
	__asm        push   0xF4;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1829:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1830:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1832:
	__asm        mov    objcount, 2;
// LINE 1833:
	__asm        push   0x15;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1834:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1835:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1837:
	__asm        mov    objcount, 2;
// LINE 1838:
	__asm        push   0x16;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1839:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1840:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1842:
	__asm        mov    objcount, 2;
// LINE 1843:
	__asm        push   0x17;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1844:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1845:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1847:
	__asm        mov    objcount, 2;
// LINE 1848:
	__asm        push   0xE3;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1849:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1850:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1852:
	__asm        mov    objcount, 2;
// LINE 1853:
	__asm        push   0x18;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1854:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1855:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1857:
	__asm        mov    objcount, 2;
// LINE 1858:
	__asm        push   0xC4;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1859:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1860:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1862:
	__asm        mov    objcount, 2;
// LINE 1863:
	__asm        push   0x19;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1864:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1865:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1867:
	__asm        mov    objcount, 2;
// LINE 1868:
	__asm        push   0x1A;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1869:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1870:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1872:
	__asm        mov    objcount, 2;
// LINE 1873:
	__asm        push   0xC5;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1874:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1875:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1877:
	__asm        mov    objcount, 2;
// LINE 1878:
	__asm        push   0xC6;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1879:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1880:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1882:
	__asm        mov    objcount, 2;
// LINE 1883:
	__asm        push   0xC7;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1884:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1885:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1887:
	__asm        mov    objcount, 2;
// LINE 1888:
	__asm        push   0xC8;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1889:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1890:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1892:
	__asm        mov    objcount, 2;
// LINE 1893:
	__asm        push   0x1B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1894:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1895:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1897:
	__asm        mov    objcount, 2;
// LINE 1898:
	__asm        push   0x82;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1899:
	__asm        push   4;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj2, eax;
// LINE 1900:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1902:
	__asm        mov    objcount, 2;
// LINE 1903:
	__asm        push   0xE4;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1904:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1905:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1907:
	__asm        mov    objcount, 2;
// LINE 1908:
	__asm        push   0xE5;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1909:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1910:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1912:
	__asm        push   0x16F;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1913:
	__asm        mov    flags, 0;
// LINE 1914:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1916:
	__asm        mov    objcount, 2;
// LINE 1917:
	__asm        push   0xE6;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1918:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1919:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1921:
	__asm        mov    objcount, 2;
// LINE 1922:
	__asm        push   0xE7;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1923:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1924:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1926:
	__asm        mov    objcount, 2;
// LINE 1927:
	__asm        push   0x1C;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1928:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1929:
	__asm        or     obj1user, 0x200;
// LINE 1930:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1932:
	__asm        mov    objcount, 2;
// LINE 1933:
	__asm        push   0xEA;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1934:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1935:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1937:
	__asm        mov    objcount, 2;
// LINE 1938:
	__asm        push   0xEB;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1939:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1940:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1942:
	__asm        mov    objcount, 2;
// LINE 1943:
	__asm        push   0xEC;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1944:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1945:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1947:
	__asm        mov    objcount, 2;
// LINE 1948:
	__asm        push   0xED;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1949:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1950:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1952:
	__asm        mov    objcount, 2;
// LINE 1953:
	__asm        push   0xEE;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1954:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1955:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1957:
	__asm        mov    objcount, 2;
// LINE 1958:
	__asm        push   0xEF;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1959:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1960:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1962:
	__asm        mov    objcount, 2;
// LINE 1963:
	__asm        push   0xF0;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1964:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1965:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1967:
	__asm        mov    objcount, 2;
// LINE 1968:
	__asm        push   0xF1;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1969:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1970:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1972:
	__asm        mov    objcount, 2;
// LINE 1973:
	__asm        push   0xF2;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1974:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1975:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1977:
	__asm        mov    objcount, 2;
// LINE 1978:
	__asm        push   0;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    obj, eax;
// LINE 1979:
	__asm        movsx  eax, size;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityGetBase;
	__asm        add    esp, 0xC;
	__asm        mov    obj2, eax;
// LINE 1980:
	__asm        jmp    near ptr 0x0050DDF3;
// LINE 1982:
	__asm        jmp    near ptr 0x0050A61E;
// LINE 2012:
	__asm        jmp    near ptr 0x0050DDF3;

	__asm        sub    dword ptr [ebp-0x4C], 0x70;
	__asm        cmp    dword ptr [ebp-0x4C], 0x8F;
	__asm        ja     near ptr 0x0050A61E;

	__asm        mov    eax, [ebp-0x4C];
	__asm        jmp    dword ptr [eax*4+0x50DBB3];
// Switch pointers
// LINE 2017:
	__asm        push   0x18;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    cptr, eax;
// LINE 2018:
	__asm        push   0x10;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    sptr, eax;
// LINE 2021:
	__asm        movsx  eax, size;
	__asm        mov    [ebp-0x50], eax;
	__asm        jmp    near ptr 0x0050E31F;
// LINE 2024:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2026:
	__asm        mov    eax, x;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FE0;
	__asm        mov    i, ax;
// LINE 2027:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 2028:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x20;
	__asm        mov    i, ax;
// LINE 2029:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 2030:
	__asm        jmp    near ptr 0x0050E346;
// LINE 2032:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2033:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 2034:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2035:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2037:
	__asm        mov    eax, x;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FC0;
	__asm        mov    i, ax;
// LINE 2038:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 2039:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x40;
	__asm        mov    i, ax;
// LINE 2040:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 2041:
	__asm        jmp    near ptr 0x0050E346;
// LINE 2043:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2044:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 2045:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 2046:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2047:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2048:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        add    edx, 2;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2049:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2050:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2051:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        add    edx, 2;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2053:
	__asm        mov    eax, x;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FA0;
	__asm        mov    i, ax;
// LINE 2054:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 2055:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x60;
	__asm        mov    i, ax;
// LINE 2056:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 2057:
	__asm        jmp    near ptr 0x0050E346;
// LINE 2059:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2060:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 2061:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 2062:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        add    ecx, 3;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 2063:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2064:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2065:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        add    edx, 2;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2066:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        add    edx, 3;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2067:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2068:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2069:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        add    edx, 2;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2070:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        add    edx, 3;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2071:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 3;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2072:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 3;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2073:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        add    edx, 3;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 2074:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        add    ecx, 3;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        add    edx, 3;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 2076:
	__asm        mov    eax, x;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1F80;
	__asm        mov    i, ax;
// LINE 2077:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 2078:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x80;
	__asm        mov    i, ax;
// LINE 2079:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 2080:
	__asm        jmp    near ptr 0x0050E346;
// LINE 2083:
	__asm        jmp    near ptr 0x0050E346;
// LINE 2084:
	__asm        jmp    near ptr 0x0050E346;

	__asm        dec    dword ptr [ebp-0x50];
	__asm        cmp    dword ptr [ebp-0x50], 3;
	__asm        ja     near ptr 0x0050E346;

	__asm        mov    eax, [ebp-0x50];
	__asm        jmp    dword ptr [eax*4+0x50E336];
// Switch pointers
// LINE 2086:
	__asm        mov    ax, alt;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+4], ax;
// LINE 2087:
	__asm        mov    ax, size;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+8], ax;
// LINE 2088:
	__asm        mov    ax, flags;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx], ax;
// LINE 2089:
	__asm        cmp    dword ptr ds:[0x598E98], 1;
	__asm        jne    near ptr 0x0050E382;
// LINE 2090:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        or     eax, 1;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx], ax;
// LINE 2091:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+0xA], 0;
// LINE 2092:
	__asm        mov    eax, sptr;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+0xC], eax;
// LINE 2093:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 2095:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax], 0;
// LINE 2096:
	__asm        mov    eax, obj;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx+4], eax;
// LINE 2097:
	__asm        mov    eax, obj1user;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx+8], eax;
// LINE 2098:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 2100:
	__asm        cmp    objcount, 2;
	__asm        jne    near ptr 0x0050E41C;

	__asm        cmp    dword ptr ds:[0x598E98], 0;
	__asm        jne    near ptr 0x0050E41C;
// LINE 2102:
	__asm        push   0x10;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx], eax;
// LINE 2103:
	__asm        mov    eax, sptr;
	__asm        mov    eax, [eax];
	__asm        mov    sptr, eax;
// LINE 2104:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax], 0;
// LINE 2105:
	__asm        mov    eax, obj2;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx+4], eax;
// LINE 2106:
	__asm        mov    eax, obj2user;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx+8], eax;
// LINE 2107:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 2109:
	__asm        jmp    near ptr 0x0050A61E;
// LINE 2110:
	__asm        jmp    near ptr 0x0050A602;
// LINE 2119:
	__asm        mov    x, 0;
	__asm        jmp    near ptr 0x0050E435;

	__asm        inc    x;
	__asm        cmp    x, 0x80;
	__asm        jge    near ptr 0x0050EBB0;
// LINE 2121:
	__asm        mov    y, 0;
	__asm        jmp    near ptr 0x0050E451;

	__asm        inc    y;
	__asm        cmp    y, 0x80;
	__asm        jge    near ptr 0x0050EBAB;
// LINE 2124:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        cmp    dword ptr [ecx+eax*4+0x67ED30], 0;
	__asm        je     near ptr 0x0050E485;
// LINE 2125:
	__asm        jmp    near ptr 0x0050E44E;
// LINE 2128:
	__asm        mov    eax, ds:[0x598EB4];
	__asm        mov    size, ax;
// LINE 2131:
	__asm        movsx  eax, size;
	__asm        mov    ecx, 0x80;
	__asm        sub    ecx, y;
	__asm        cmp    eax, ecx;
	__asm        jle    near ptr 0x0050E4AE;

	__asm        mov    eax, 0x80;
	__asm        sub    eax, y;
	__asm        mov    size, ax;
// LINE 2132:
	__asm        mov    eax, 0x80;
	__asm        sub    eax, x;
	__asm        movsx  ecx, size;
	__asm        cmp    eax, ecx;
	__asm        jge    near ptr 0x0050E4CE;

	__asm        mov    eax, 0x80;
	__asm        sub    eax, x;
	__asm        mov    size, ax;
// LINE 2135:
	__asm        mov    j, 0;
	__asm        jmp    near ptr 0x0050E4DD;

	__asm        inc    j;
	__asm        movsx  eax, size;
	__asm        cmp    eax, j;
	__asm        jle    near ptr 0x0050E5AD;
// LINE 2137:
	__asm        mov    k, 0;
	__asm        jmp    near ptr 0x0050E4F9;

	__asm        inc    k;
	__asm        movsx  eax, size;
	__asm        cmp    eax, k;
	__asm        jle    near ptr 0x0050E5A8;
// LINE 2140:
	__asm        movsx  eax, size;
	__asm        cmp    eax, 1;
	__asm        jne    near ptr 0x0050E518;
// LINE 2141:
	__asm        jmp    near ptr 0x0050E5A8;
// LINE 2144:
	__asm        mov    eax, x;
	__asm        add    eax, j;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, k;
	__asm        add    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        cmp    dword ptr [eax+ecx*4+0x67ED30], 0;
	__asm        jne    near ptr 0x0050E545;
// LINE 2145:
	__asm        jmp    near ptr 0x0050E4F6;
// LINE 2148:
	__asm        mov    eax, j;
	__asm        cmp    k, eax;
	__asm        jge    near ptr 0x0050E56A;
// LINE 2150:
	__asm        movsx  eax, size;
	__asm        cmp    eax, j;
	__asm        jle    near ptr 0x0050E565;

	__asm        mov    eax, j;
	__asm        mov    size, ax;
// LINE 2152:
	__asm        jmp    near ptr 0x0050E5A3;

	__asm        mov    eax, j;
	__asm        cmp    k, eax;
	__asm        jle    near ptr 0x0050E58F;
// LINE 2154:
	__asm        movsx  eax, size;
	__asm        cmp    eax, k;
	__asm        jle    near ptr 0x0050E58A;

	__asm        mov    eax, k;
	__asm        mov    size, ax;
// LINE 2156:
	__asm        jmp    near ptr 0x0050E5A3;
// LINE 2158:
	__asm        movsx  eax, size;
	__asm        cmp    eax, k;
	__asm        jle    near ptr 0x0050E5A3;

	__asm        mov    eax, k;
	__asm        mov    size, ax;
// LINE 2160:
	__asm        jmp    near ptr 0x0050E4F6;
// LINE 2161:
	__asm        jmp    near ptr 0x0050E4DA;
// LINE 2165:
	__asm        push   0x18;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    cptr, eax;
// LINE 2167:
	__asm        movsx  eax, size;
	__asm        mov    [ebp-0x54], eax;
	__asm        jmp    near ptr 0x0050EACC;
// LINE 2170:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2172:
	__asm        mov    eax, x;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FE0;
	__asm        mov    i, ax;
// LINE 2173:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 2174:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x20;
	__asm        mov    i, ax;
// LINE 2175:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 2176:
	__asm        jmp    near ptr 0x0050EAF3;
// LINE 2178:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2179:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 2180:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2181:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2183:
	__asm        mov    eax, x;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FC0;
	__asm        mov    i, ax;
// LINE 2184:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 2185:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x40;
	__asm        mov    i, ax;
// LINE 2186:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 2187:
	__asm        jmp    near ptr 0x0050EAF3;
// LINE 2189:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2190:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 2191:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 2192:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2193:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2194:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        add    edx, 2;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2195:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2196:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2197:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        add    edx, 2;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2199:
	__asm        mov    eax, x;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FA0;
	__asm        mov    i, ax;
// LINE 2200:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 2201:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x60;
	__asm        mov    i, ax;
// LINE 2202:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 2203:
	__asm        jmp    near ptr 0x0050EAF3;
// LINE 2205:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2206:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 2207:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 2208:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        add    ecx, 3;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 2209:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2210:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2211:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        add    edx, 2;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2212:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        add    edx, 3;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2213:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2214:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2215:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        add    edx, 2;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2216:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        add    edx, 3;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2217:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 3;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2218:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 3;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 2219:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        add    edx, 3;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 2220:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        add    ecx, 3;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        add    edx, 3;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 2222:
	__asm        mov    eax, x;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1F80;
	__asm        mov    i, ax;
// LINE 2223:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 2224:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x80;
	__asm        mov    i, ax;
// LINE 2225:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 2226:
	__asm        jmp    near ptr 0x0050EAF3;
// LINE 2228:
	__asm        mov    i, 1;
// LINE 2230:
	__asm        jmp    near ptr 0x0050EAF3;
// LINE 2231:
	__asm        jmp    near ptr 0x0050EAF3;

	__asm        dec    dword ptr [ebp-0x54];
	__asm        cmp    dword ptr [ebp-0x54], 3;
	__asm        ja     near ptr 0x0050EABC;

	__asm        mov    eax, [ebp-0x54];
	__asm        jmp    dword ptr [eax*4+0x50EAE3];
// Switch pointers
// LINE 2234:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   GetAltitude;
	__asm        add    esp, 8;
	__asm        mov    alt, ax;
// LINE 2236:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x63A270];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        cmp    edx, 0xD;
	__asm        je     near ptr 0x0050EB3D;

	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x63A270];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        cmp    edx, 0xE;
	__asm        jne    near ptr 0x0050EB41;
// LINE 2237:
	__asm        inc    alt;
// LINE 2238:
	__asm        movsx  eax, alt;
	__asm        shl    eax, 5;
	__asm        add    eax, 0x20;
	__asm        mov    alt, ax;
// LINE 2241:
	__asm        mov    ax, alt;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+4], ax;
// LINE 2242:
	__asm        mov    ax, size;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+8], ax;
// LINE 2243:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax], 0;
// LINE 2244:
	__asm        cmp    dword ptr ds:[0x598E98], 1;
	__asm        jne    near ptr 0x0050EB89;
// LINE 2245:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        or     eax, 1;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx], ax;
// LINE 2246:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+0xA], 0;
// LINE 2247:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 2248:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 2251:
	__asm        jmp    near ptr 0x0050E44E;
// LINE 2252:
	__asm        jmp    near ptr 0x0050E432;
// LINE 2264:
	__asm        mov    x, 0x80;
	__asm        jmp    near ptr 0x0050EBC0;

	__asm        add    x, 0x10;
	__asm        cmp    x, 0x100;
	__asm        jge    near ptr 0x0050ED22;
// LINE 2266:
	__asm        mov    y, 0;
	__asm        jmp    near ptr 0x0050EBDD;

	__asm        add    y, 0x10;
	__asm        cmp    y, 0x80;
	__asm        jge    near ptr 0x0050ED1D;
// LINE 2268:
	__asm        push   0x18;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    cptr, eax;
// LINE 2269:
	__asm        cmp    cptr, 0;
	__asm        jne    near ptr 0x0050EC14;
// LINE 2270:
	__asm        push   0x5B5A34;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 2272:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x0050EC23;

	__asm        inc    i;
	__asm        movsx  eax, i;
	__asm        cmp    eax, 0x10;
	__asm        jge    near ptr 0x0050EC79;
// LINE 2273:
	__asm        mov    j, 0;
	__asm        jmp    near ptr 0x0050EC3F;

	__asm        inc    j;
	__asm        cmp    j, 0x10;
	__asm        jge    near ptr 0x0050EC74;
// LINE 2274:
	__asm        mov    eax, cptr;
	__asm        movsx  ecx, i;
	__asm        add    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, j;
	__asm        add    edx, y;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
	__asm        jmp    near ptr 0x0050EC3C;

	__asm        jmp    near ptr 0x0050EC1F;
// LINE 2276:
	__asm        mov    eax, x;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1E00;
	__asm        mov    i, ax;
// LINE 2277:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 2278:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x200;
	__asm        mov    i, ax;
// LINE 2279:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 2280:
	__asm        mov    eax, y;
	__asm        add    eax, 4;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        add    ecx, 4;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        mov    ax, [eax+ecx];
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+4], ax;
// LINE 2283:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+8], 0x10;
// LINE 2284:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax], 0;
// LINE 2285:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+0xA], 0;
// LINE 2286:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 2287:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 2290:
	__asm        jmp    near ptr 0x0050EBD9;
// LINE 2291:
	__asm        jmp    near ptr 0x0050EBBC;
// LINE 2294:
	__asm        mov    x, 0;
	__asm        jmp    near ptr 0x0050ED32;

	__asm        add    x, 0x10;
	__asm        cmp    x, 0x100;
	__asm        jge    near ptr 0x0050EED0;
// LINE 2296:
	__asm        mov    y, 0x80;
	__asm        jmp    near ptr 0x0050ED4F;

	__asm        add    y, 0x10;
	__asm        cmp    y, 0x100;
	__asm        jge    near ptr 0x0050EECB;
// LINE 2299:
	__asm        cmp    x, 0x80;
	__asm        jne    near ptr 0x0050ED98;

	__asm        cmp    y, 0x80;
	__asm        jne    near ptr 0x0050ED98;

	__asm        cmp    dword ptr ds:[0x5B491C], 0;
	__asm        jne    near ptr 0x0050ED98;
// LINE 2301:
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CityCreateHeliBase;
	__asm        add    esp, 8;
// LINE 2302:
	__asm        jmp    near ptr 0x0050ED4B;
// LINE 2305:
	__asm        push   0x18;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    cptr, eax;
// LINE 2306:
	__asm        cmp    cptr, 0;
	__asm        jne    near ptr 0x0050EDC2;
// LINE 2307:
	__asm        push   0x5B5A50;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 2309:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x0050EDD1;

	__asm        inc    i;
	__asm        movsx  eax, i;
	__asm        cmp    eax, 0x10;
	__asm        jge    near ptr 0x0050EE27;
// LINE 2310:
	__asm        mov    j, 0;
	__asm        jmp    near ptr 0x0050EDED;

	__asm        inc    j;
	__asm        cmp    j, 0x10;
	__asm        jge    near ptr 0x0050EE22;
// LINE 2311:
	__asm        mov    eax, cptr;
	__asm        movsx  ecx, i;
	__asm        add    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, j;
	__asm        add    edx, y;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
	__asm        jmp    near ptr 0x0050EDEA;

	__asm        jmp    near ptr 0x0050EDCD;
// LINE 2314:
	__asm        mov    eax, x;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1E00;
	__asm        mov    i, ax;
// LINE 2315:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 2316:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x200;
	__asm        mov    i, ax;
// LINE 2317:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 2318:
	__asm        mov    eax, y;
	__asm        add    eax, 4;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        add    ecx, 4;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        mov    ax, [eax+ecx];
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+4], ax;
// LINE 2321:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+8], 0x10;
// LINE 2322:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax], 0;
// LINE 2323:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+0xA], 0;
// LINE 2324:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 2325:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 2328:
	__asm        jmp    near ptr 0x0050ED4B;
// LINE 2329:
	__asm        jmp    near ptr 0x0050ED2E;
// LINE 2419:
	__asm        mov    x, 0;
	__asm        jmp    near ptr 0x0050EEDF;

	__asm        inc    x;
	__asm        cmp    x, 0x100;
	__asm        jge    near ptr 0x0050EF41;
// LINE 2421:
	__asm        mov    y, 0;
	__asm        jmp    near ptr 0x0050EEFB;

	__asm        inc    y;
	__asm        cmp    y, 0x100;
	__asm        jge    near ptr 0x0050EF3C;
// LINE 2423:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        cmp    dword ptr [ecx+eax*4+0x67ED30], 0;
	__asm        jne    near ptr 0x0050EF37;
// LINE 2424:
	__asm        push   0x5B5A6C;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 2425:
	__asm        jmp    near ptr 0x0050EEF8;
// LINE 2426:
	__asm        jmp    near ptr 0x0050EEDC;
// LINE 2430:
	__asm        xor    ax, ax;
	__asm        jmp    near ptr 0x0050EF49;
// LINE 2431:
}

// FUNCTION: COPTER_D 0x0050ef4e
void S3CityGrid() {
	int32_t view_changed;
	short y_pos;
	long spiral_dist;
	short x_pos;
	int32_t tmpfix;

// LINE 2447:
	__asm        mov    view_changed, 1;
// LINE 2455:
	__asm        push   0x609C00;
	__asm        mov    eax, 0x6C1210;
	__asm        add    eax, 0x44;
	__asm        push   eax;
	__asm        mov    eax, 0x6C1210;
	__asm        add    eax, 0x14;
	__asm        push   eax;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 2456:
	__asm        push   0x62A458;
	__asm        mov    eax, 0x6C1210;
	__asm        add    eax, 0x2C;
	__asm        push   eax;
	__asm        mov    eax, 0x6C1210;
	__asm        add    eax, 0x14;
	__asm        push   eax;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 2458:
	__asm        call   S3CityCheckGridPos;
// LINE 2461:
	__asm        mov    dword ptr ds:[0x6090A4], 0;
// LINE 2462:
	__asm        cmp    dword ptr ds:[0x6BF1B0], 0x2BC0000;
	__asm        jl     near ptr 0x0050F000;

	__asm        cmp    dword ptr ds:[0x6BF1B0], 0x3840000;
	__asm        jg     near ptr 0x0050F000;
// LINE 2466:
	__asm        mov    dword ptr ds:[0x6090A4], 1;
// LINE 2467:
	__asm        mov    eax, ds:[0x5B59D0];
	__asm        sar    eax, 5;
	__asm        add    eax, 5;
	__asm        mov    spiral_dist, eax;
// LINE 2468:
	__asm        mov    eax, spiral_dist;
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6BED34];
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6BED30];
	__asm        push   eax;
	__asm        call   S3CitySpiralScan;
	__asm        add    esp, 0xC;
// LINE 2469:
	__asm        jmp    near ptr 0x0050F679;
// LINE 2473:
	__asm        cmp    view_changed, 1;
	__asm        jne    near ptr 0x0050F667;
// LINE 2475:
	__asm        mov    dword ptr ds:[0x609BE8], 0;
// LINE 2483:
	__asm        mov    dword ptr ds:[0x609098], 0xFFC00000;
// LINE 2484:
	__asm        mov    eax, ds:[0x5B59D0];
	__asm        shl    eax, 0x10;
	__asm        sar    eax, 8;
	__asm        mov    tmpfix, eax;
// LINE 2485:
	__asm        xor    eax, eax;
	__asm        mov    ecx, tmpfix;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        sub    ds:[0x609098], eax;
// LINE 2570:
	__asm        mov    eax, ds:[0x609098];
	__asm        neg    eax;
	__asm        mov    ds:[0x62A4A8], eax;
// LINE 2573:
	__asm        push   0x6C1370;
	__asm        push   0x609BF0;
	__asm        push   0x609098;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 2574:
	__asm        push   0x6C1370;
	__asm        push   0x62A4C8;
	__asm        push   0x62A4A8;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 2580:
	__asm        mov    eax, ds:[0x6C126C];
	__asm        mov    ecx, ds:[0x6C1224];
	__asm        shl    ecx, 6;
	__asm        lea    ecx, [ecx+ecx*2];
	__asm        sub    eax, ecx;
	__asm        mov    ds:[0x62A4E8], eax;
// LINE 2582:
	__asm        mov    eax, ds:[0x6C1274];
	__asm        mov    ecx, ds:[0x6C122C];
	__asm        shl    ecx, 6;
	__asm        lea    ecx, [ecx+ecx*2];
	__asm        sub    eax, ecx;
	__asm        mov    ds:[0x62A4F0], eax;
// LINE 2583:
	__asm        mov    eax, ds:[0x6C1270];
	__asm        mov    ds:[0x62A4EC], eax;
// LINE 2585:
	__asm        mov    eax, ds:[0x62A4E8];
	__asm        add    ds:[0x609BF0], eax;
// LINE 2586:
	__asm        mov    eax, ds:[0x62A4EC];
	__asm        add    ds:[0x609BF4], eax;
// LINE 2587:
	__asm        mov    eax, ds:[0x62A4F0];
	__asm        add    ds:[0x609BF8], eax;
// LINE 2588:
	__asm        mov    eax, ds:[0x62A4E8];
	__asm        add    ds:[0x62A4C8], eax;
// LINE 2589:
	__asm        mov    eax, ds:[0x62A4EC];
	__asm        add    ds:[0x62A4CC], eax;
// LINE 2590:
	__asm        mov    eax, ds:[0x62A4F0];
	__asm        add    ds:[0x62A4D0], eax;
// LINE 2694:
	__asm        mov    eax, ds:[0x62A4E8];
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    ds:[0x62A498], eax;
// LINE 2695:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, ds:[0x62A4F0];
	__asm        sar    eax, 0x16;
	__asm        mov    ds:[0x62A49C], eax;
// LINE 2698:
	__asm        cmp    dword ptr ds:[0x6C1224], 0;
	__asm        jle    near ptr 0x0050F151;
// LINE 2700:
	__asm        cmp    dword ptr ds:[0x6C122C], 0;
	__asm        jle    near ptr 0x0050F142;
// LINE 2702:
	__asm        mov    dword ptr ds:[0x609100], 0x609C40;
// LINE 2704:
	__asm        jmp    near ptr 0x0050F14C;
// LINE 2706:
	__asm        mov    dword ptr ds:[0x609100], 0x609908;
// LINE 2709:
	__asm        jmp    near ptr 0x0050F177;
// LINE 2711:
	__asm        cmp    dword ptr ds:[0x6C122C], 0;
	__asm        jle    near ptr 0x0050F16D;
// LINE 2713:
	__asm        mov    dword ptr ds:[0x609100], 0x62A4D8;
// LINE 2715:
	__asm        jmp    near ptr 0x0050F177;
// LINE 2717:
	__asm        mov    dword ptr ds:[0x609100], 0x62A4B8;
// LINE 2724:
	__asm        push   0x62A498;
	__asm        push   0x609BF0;
	__asm        push   0x62A4A0;
	__asm        push   0x609108;
	__asm        mov    eax, 0x6C1210;
	__asm        add    eax, 0x2C;
	__asm        push   eax;
	__asm        call   S3CityGetCells;
	__asm        add    esp, 0x14;
// LINE 2725:
	__asm        push   0x62A498;
	__asm        push   0x62A4C8;
	__asm        push   0x609104;
	__asm        push   0x629C50;
	__asm        mov    eax, 0x6C1210;
	__asm        add    eax, 0x44;
	__asm        push   eax;
	__asm        call   S3CityGetCells;
	__asm        add    esp, 0x14;
// LINE 2733:
	__asm        mov    eax, ds:[0x6C126C];
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    x_pos, ax;
// LINE 2734:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, ds:[0x6C1274];
	__asm        sar    eax, 0x16;
	__asm        mov    y_pos, ax;
// LINE 2735:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx+4];
	__asm        cmp    [eax+4], ecx;
	__asm        jne    near ptr 0x0050F205;
// LINE 2737:
	__asm        call   city_fovscan_horizedge;
// LINE 2739:
	__asm        jmp    near ptr 0x0050F667;

	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx];
	__asm        cmp    [eax], ecx;
	__asm        jne    near ptr 0x0050F224;
// LINE 2741:
	__asm        call   city_fovscan_vertedge;
// LINE 2743:
	__asm        jmp    near ptr 0x0050F667;

	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx];
	__asm        cmp    [eax], ecx;
	__asm        jle    near ptr 0x0050F336;

	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx+4];
	__asm        cmp    [eax+4], ecx;
	__asm        jge    near ptr 0x0050F336;
// LINE 2750:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        movsx  ecx, y_pos;
	__asm        cmp    [eax+4], ecx;
	__asm        jl     near ptr 0x0050F2D4;

	__asm        mov    eax, ds:[0x609104];
	__asm        movsx  ecx, y_pos;
	__asm        cmp    [eax+4], ecx;
	__asm        jg     near ptr 0x0050F2D4;
// LINE 2753:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    eax, [eax];
	__asm        dec    eax;
	__asm        mov    x_pos, ax;
// LINE 2754:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    eax, [eax+4];
	__asm        mov    y_pos, ax;
// LINE 2755:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx];
	__asm        cmp    [eax], ecx;
	__asm        jle    near ptr 0x0050F2CA;
// LINE 2757:
	__asm        add    dword ptr ds:[0x609104], 8;
// LINE 2758:
	__asm        movsx  eax, y_pos;
	__asm        mov    ecx, ds:[0x609104];
	__asm        mov    [ecx+4], eax;
// LINE 2759:
	__asm        movsx  eax, x_pos;
	__asm        mov    ecx, ds:[0x609104];
	__asm        mov    [ecx], eax;
// LINE 2760:
	__asm        dec    x_pos;
// LINE 2761:
	__asm        jmp    near ptr 0x0050F28C;
// LINE 2762:
	__asm        call   city_fovscan_vertedge;
// LINE 2764:
	__asm        jmp    near ptr 0x0050F331;
// LINE 2767:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        mov    eax, [eax];
	__asm        mov    x_pos, ax;
// LINE 2768:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        mov    eax, [eax+4];
	__asm        dec    eax;
	__asm        mov    y_pos, ax;
// LINE 2769:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx+4];
	__asm        cmp    [eax+4], ecx;
	__asm        jge    near ptr 0x0050F32C;
// LINE 2771:
	__asm        add    dword ptr ds:[0x62A4A0], 8;
// LINE 2772:
	__asm        movsx  eax, y_pos;
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    [ecx+4], eax;
// LINE 2773:
	__asm        movsx  eax, x_pos;
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    [ecx], eax;
// LINE 2774:
	__asm        dec    y_pos;
// LINE 2775:
	__asm        jmp    near ptr 0x0050F2EC;
// LINE 2776:
	__asm        call   city_fovscan_horizedge;
// LINE 2780:
	__asm        jmp    near ptr 0x0050F667;

	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx];
	__asm        cmp    [eax], ecx;
	__asm        jle    near ptr 0x0050F448;

	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx+4];
	__asm        cmp    [eax+4], ecx;
	__asm        jle    near ptr 0x0050F448;
// LINE 2787:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        movsx  ecx, y_pos;
	__asm        cmp    [eax+4], ecx;
	__asm        jg     near ptr 0x0050F3E6;

	__asm        mov    eax, ds:[0x609104];
	__asm        movsx  ecx, y_pos;
	__asm        cmp    [eax+4], ecx;
	__asm        jl     near ptr 0x0050F3E6;
// LINE 2790:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        mov    eax, [eax];
	__asm        inc    eax;
	__asm        mov    x_pos, ax;
// LINE 2791:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        mov    eax, [eax+4];
	__asm        mov    y_pos, ax;
// LINE 2792:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx];
	__asm        cmp    [eax], ecx;
	__asm        jle    near ptr 0x0050F3DC;
// LINE 2794:
	__asm        add    dword ptr ds:[0x62A4A0], 8;
// LINE 2795:
	__asm        movsx  eax, y_pos;
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    [ecx+4], eax;
// LINE 2796:
	__asm        movsx  eax, x_pos;
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    [ecx], eax;
// LINE 2797:
	__asm        inc    x_pos;
// LINE 2798:
	__asm        jmp    near ptr 0x0050F39E;
// LINE 2799:
	__asm        call   city_fovscan_vertedge;
// LINE 2801:
	__asm        jmp    near ptr 0x0050F443;
// LINE 2804:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    eax, [eax];
	__asm        mov    x_pos, ax;
// LINE 2805:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    eax, [eax+4];
	__asm        dec    eax;
	__asm        mov    y_pos, ax;
// LINE 2806:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx+4];
	__asm        cmp    [eax+4], ecx;
	__asm        jle    near ptr 0x0050F43E;
// LINE 2808:
	__asm        add    dword ptr ds:[0x609104], 8;
// LINE 2809:
	__asm        movsx  eax, y_pos;
	__asm        mov    ecx, ds:[0x609104];
	__asm        mov    [ecx+4], eax;
// LINE 2810:
	__asm        movsx  eax, x_pos;
	__asm        mov    ecx, ds:[0x609104];
	__asm        mov    [ecx], eax;
// LINE 2811:
	__asm        dec    y_pos;
// LINE 2812:
	__asm        jmp    near ptr 0x0050F3FE;
// LINE 2813:
	__asm        call   city_fovscan_horizedge;
// LINE 2817:
	__asm        jmp    near ptr 0x0050F667;

	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx];
	__asm        cmp    [eax], ecx;
	__asm        jge    near ptr 0x0050F55A;

	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx+4];
	__asm        cmp    [eax+4], ecx;
	__asm        jle    near ptr 0x0050F55A;
// LINE 2824:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        movsx  ecx, y_pos;
	__asm        cmp    [eax+4], ecx;
	__asm        jg     near ptr 0x0050F4F8;

	__asm        mov    eax, ds:[0x609104];
	__asm        movsx  ecx, y_pos;
	__asm        cmp    [eax+4], ecx;
	__asm        jl     near ptr 0x0050F4F8;
// LINE 2827:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    eax, [eax];
	__asm        inc    eax;
	__asm        mov    x_pos, ax;
// LINE 2828:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    eax, [eax+4];
	__asm        mov    y_pos, ax;
// LINE 2829:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx];
	__asm        cmp    [eax], ecx;
	__asm        jge    near ptr 0x0050F4EE;
// LINE 2831:
	__asm        add    dword ptr ds:[0x609104], 8;
// LINE 2832:
	__asm        movsx  eax, y_pos;
	__asm        mov    ecx, ds:[0x609104];
	__asm        mov    [ecx+4], eax;
// LINE 2833:
	__asm        movsx  eax, x_pos;
	__asm        mov    ecx, ds:[0x609104];
	__asm        mov    [ecx], eax;
// LINE 2834:
	__asm        inc    x_pos;
// LINE 2835:
	__asm        jmp    near ptr 0x0050F4B0;
// LINE 2836:
	__asm        call   city_fovscan_vertedge;
// LINE 2838:
	__asm        jmp    near ptr 0x0050F555;
// LINE 2841:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        mov    eax, [eax];
	__asm        mov    x_pos, ax;
// LINE 2842:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        mov    eax, [eax+4];
	__asm        inc    eax;
	__asm        mov    y_pos, ax;
// LINE 2843:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx+4];
	__asm        cmp    [eax+4], ecx;
	__asm        jle    near ptr 0x0050F550;
// LINE 2845:
	__asm        add    dword ptr ds:[0x62A4A0], 8;
// LINE 2846:
	__asm        movsx  eax, y_pos;
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    [ecx+4], eax;
// LINE 2847:
	__asm        movsx  eax, x_pos;
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    [ecx], eax;
// LINE 2848:
	__asm        inc    y_pos;
// LINE 2849:
	__asm        jmp    near ptr 0x0050F510;
// LINE 2850:
	__asm        call   city_fovscan_horizedge;
// LINE 2854:
	__asm        jmp    near ptr 0x0050F667;

	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx];
	__asm        cmp    [eax], ecx;
	__asm        jge    near ptr 0x0050F667;

	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx+4];
	__asm        cmp    [eax+4], ecx;
	__asm        jge    near ptr 0x0050F667;
// LINE 2861:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        movsx  ecx, y_pos;
	__asm        cmp    [eax+4], ecx;
	__asm        jl     near ptr 0x0050F60A;

	__asm        mov    eax, ds:[0x609104];
	__asm        movsx  ecx, y_pos;
	__asm        cmp    [eax+4], ecx;
	__asm        jg     near ptr 0x0050F60A;
// LINE 2864:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        mov    eax, [eax];
	__asm        dec    eax;
	__asm        mov    x_pos, ax;
// LINE 2865:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        mov    eax, [eax+4];
	__asm        mov    y_pos, ax;
// LINE 2866:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx];
	__asm        cmp    [eax], ecx;
	__asm        jge    near ptr 0x0050F600;
// LINE 2868:
	__asm        add    dword ptr ds:[0x62A4A0], 8;
// LINE 2869:
	__asm        movsx  eax, y_pos;
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    [ecx+4], eax;
// LINE 2870:
	__asm        movsx  eax, x_pos;
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    [ecx], eax;
// LINE 2871:
	__asm        dec    x_pos;
// LINE 2872:
	__asm        jmp    near ptr 0x0050F5C2;
// LINE 2873:
	__asm        call   city_fovscan_vertedge;
// LINE 2875:
	__asm        jmp    near ptr 0x0050F667;
// LINE 2878:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    eax, [eax];
	__asm        mov    x_pos, ax;
// LINE 2879:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    eax, [eax+4];
	__asm        inc    eax;
	__asm        mov    y_pos, ax;
// LINE 2880:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    ecx, ds:[0x62A4A0];
	__asm        mov    ecx, [ecx+4];
	__asm        cmp    [eax+4], ecx;
	__asm        jge    near ptr 0x0050F662;
// LINE 2882:
	__asm        add    dword ptr ds:[0x609104], 8;
// LINE 2883:
	__asm        movsx  eax, y_pos;
	__asm        mov    ecx, ds:[0x609104];
	__asm        mov    [ecx+4], eax;
// LINE 2884:
	__asm        movsx  eax, x_pos;
	__asm        mov    ecx, ds:[0x609104];
	__asm        mov    [ecx], eax;
// LINE 2885:
	__asm        inc    y_pos;
// LINE 2886:
	__asm        jmp    near ptr 0x0050F622;
// LINE 2887:
	__asm        call   city_fovscan_horizedge;
// LINE 2893:
	__asm        cmp    dword ptr ds:[0x609BE8], 0;
	__asm        jne    near ptr 0x0050F679;
// LINE 2894:
	__asm        jmp    near ptr 0x0050F679;
// LINE 2896:
}

// FUNCTION: COPTER_D 0x0050f67e
void S3CityGetCells(struct Point3d* vec, struct Point2d* cell_array, struct Point2d** cell_last, struct Point3d* spos, struct Point2d* startcell) {
	int32_t x_delta;
	int32_t x_bound;
	int32_t x_end;
	double xdist;
	int32_t y_pos;
	long y_coord;
	int32_t slope;
	int32_t xstepi;
	int32_t ystepi;
	long x_coord;
	int32_t y_delta;
	struct Point2d* curr_cell;
	int32_t y_bound;
	int32_t y_end;
	int32_t yi;
	unsigned short get_x_next;
	double ydist;
	int32_t islope;
	int32_t x_pos;
	long y_cell_adj;
	long x_cell_adj;
	unsigned short get_y_next;
	int32_t xi;

// LINE 2937:
	__asm        mov    eax, spos;
	__asm        mov    eax, [eax+8];
	__asm        mov    y_pos, eax;
// LINE 2938:
	__asm        mov    eax, spos;
	__asm        mov    eax, [eax];
	__asm        mov    x_pos, eax;
// LINE 2947:
	__asm        mov    eax, vec;
	__asm        cmp    dword ptr [eax+8], 0xFFFFFFEC;
	__asm        jl     near ptr 0x0050F7CF;

	__asm        mov    eax, vec;
	__asm        cmp    dword ptr [eax+8], 0x14;
	__asm        jg     near ptr 0x0050F7CF;
// LINE 2949:
	__asm        mov    eax, vec;
	__asm        cmp    dword ptr [eax], 0;
	__asm        jle    near ptr 0x0050F6FB;
// LINE 2952:
	__asm        mov    x_end, 0x20000000;
// LINE 2953:
	__asm        mov    x_delta, 0x400000;
// LINE 2954:
	__asm        mov    eax, x_pos;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        inc    eax;
	__asm        mov    x_bound, eax;
// LINE 2955:
	__asm        mov    eax, x_bound;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x2000;
	__asm        shl    eax, 0x10;
	__asm        mov    x_bound, eax;
// LINE 2956:
	__asm        mov    x_cell_adj, 0xFFFFFFFF;
// LINE 2958:
	__asm        jmp    near ptr 0x0050F72F;
// LINE 2961:
	__asm        mov    x_end, 0xE0000000;
// LINE 2962:
	__asm        mov    x_delta, 0xFFC00000;
// LINE 2963:
	__asm        mov    eax, x_pos;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    x_bound, eax;
// LINE 2964:
	__asm        mov    eax, x_bound;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x2000;
	__asm        shl    eax, 0x10;
	__asm        mov    x_bound, eax;
// LINE 2965:
	__asm        mov    x_cell_adj, 0;
// LINE 2970:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, y_pos;
	__asm        sar    eax, 0x16;
	__asm        mov    y_coord, eax;
// LINE 2973:
	__asm        mov    eax, cell_array;
	__asm        mov    curr_cell, eax;
// LINE 2974:
	__asm        mov    eax, x_bound;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        add    eax, x_cell_adj;
	__asm        movsx  eax, ax;
	__asm        mov    ecx, curr_cell;
	__asm        mov    [ecx], eax;
// LINE 2975:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y_coord);
	__asm        mov    ecx, curr_cell;
	__asm        mov    [ecx+4], eax;
// LINE 2978:
	__asm        add    curr_cell, 8;
// LINE 2979:
	__asm        mov    eax, x_delta;
	__asm        add    x_bound, eax;
// LINE 2980:
	__asm        mov    eax, x_bound;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        add    eax, x_cell_adj;
	__asm        movsx  eax, ax;
	__asm        mov    ecx, curr_cell;
	__asm        mov    [ecx], eax;
// LINE 2981:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y_coord);
	__asm        mov    ecx, curr_cell;
	__asm        mov    [ecx+4], eax;
// LINE 2986:
	__asm        mov    eax, ds:[0x67ED28];
	__asm        dec    eax;
	__asm        mov    ecx, curr_cell;
	__asm        cmp    eax, [ecx];
	__asm        jg     near ptr 0x0050F7B5;

	__asm        mov    eax, ds:[0x67ED28];
	__asm        add    eax, ds:[0x6663A0];
	__asm        inc    eax;
	__asm        mov    ecx, curr_cell;
	__asm        cmp    eax, [ecx];
	__asm        jge    near ptr 0x0050F7BA;
// LINE 2988:
	__asm        jmp    near ptr 0x0050F7BF;
// LINE 2990:
	__asm        jmp    near ptr 0x0050F763;
// LINE 2991:
	__asm        mov    eax, curr_cell;
	__asm        sub    eax, 8;
	__asm        mov    ecx, cell_last;
	__asm        mov    [ecx], eax;
// LINE 2992:
	__asm        jmp    near ptr 0x0050FE2D;
// LINE 2995:
	__asm        mov    eax, vec;
	__asm        cmp    dword ptr [eax], 0xFFFFFFEC;
	__asm        jl     near ptr 0x0050F908;

	__asm        mov    eax, vec;
	__asm        cmp    dword ptr [eax], 0x14;
	__asm        jg     near ptr 0x0050F908;
// LINE 2997:
	__asm        mov    eax, vec;
	__asm        cmp    dword ptr [eax+8], 0;
	__asm        jle    near ptr 0x0050F830;
// LINE 3000:
	__asm        mov    y_end, 0x20000000;
// LINE 3001:
	__asm        mov    y_delta, 0x400000;
// LINE 3002:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, y_pos;
	__asm        sar    eax, 0x16;
	__asm        inc    eax;
	__asm        mov    y_bound, eax;
// LINE 3003:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y_bound;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        shl    eax, 0x10;
	__asm        mov    y_bound, eax;
// LINE 3004:
	__asm        mov    y_cell_adj, 0;
// LINE 3007:
	__asm        jmp    near ptr 0x0050F866;
// LINE 3010:
	__asm        mov    y_end, 0xE0000000;
// LINE 3011:
	__asm        mov    y_delta, 0xFFC00000;
// LINE 3012:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, y_pos;
	__asm        sar    eax, 0x16;
	__asm        mov    y_bound, eax;
// LINE 3013:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y_bound;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        shl    eax, 0x10;
	__asm        mov    y_bound, eax;
// LINE 3014:
	__asm        mov    y_cell_adj, 0;
// LINE 3019:
	__asm        mov    eax, x_pos;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    x_coord, eax;
// LINE 3022:
	__asm        mov    eax, cell_array;
	__asm        mov    curr_cell, eax;
// LINE 3023:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, y_bound;
	__asm        sar    eax, 0x16;
	__asm        add    eax, y_cell_adj;
	__asm        movsx  eax, ax;
	__asm        mov    ecx, curr_cell;
	__asm        mov    [ecx+4], eax;
// LINE 3024:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x_coord);
	__asm        mov    ecx, curr_cell;
	__asm        mov    [ecx], eax;
// LINE 3027:
	__asm        add    curr_cell, 8;
// LINE 3028:
	__asm        mov    eax, y_delta;
	__asm        add    y_bound, eax;
// LINE 3029:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, y_bound;
	__asm        sar    eax, 0x16;
	__asm        add    eax, y_cell_adj;
	__asm        movsx  eax, ax;
	__asm        mov    ecx, curr_cell;
	__asm        mov    [ecx+4], eax;
// LINE 3030:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x_coord);
	__asm        mov    ecx, curr_cell;
	__asm        mov    [ecx], eax;
// LINE 3034:
	__asm        mov    eax, ds:[0x67ED2C];
	__asm        dec    eax;
	__asm        mov    ecx, curr_cell;
	__asm        cmp    eax, [ecx+4];
	__asm        jg     near ptr 0x0050F8EE;

	__asm        mov    eax, ds:[0x67ED2C];
	__asm        add    eax, ds:[0x6663A0];
	__asm        inc    eax;
	__asm        mov    ecx, curr_cell;
	__asm        cmp    eax, [ecx+4];
	__asm        jge    near ptr 0x0050F8F3;
// LINE 3036:
	__asm        jmp    near ptr 0x0050F8F8;
// LINE 3038:
	__asm        jmp    near ptr 0x0050F89A;
// LINE 3039:
	__asm        mov    eax, curr_cell;
	__asm        sub    eax, 8;
	__asm        mov    ecx, cell_last;
	__asm        mov    [ecx], eax;
// LINE 3040:
	__asm        jmp    near ptr 0x0050FE2D;
// LINE 3046:
	__asm        mov    eax, vec;
	__asm        mov    eax, [eax];
	__asm        push   eax;
	__asm        mov    eax, vec;
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D19DF;
	__asm        add    esp, 8;
	__asm        mov    slope, eax;
// LINE 3047:
	__asm        mov    eax, vec;
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        mov    eax, vec;
	__asm        mov    eax, [eax];
	__asm        push   eax;
	__asm        call   0x004D19DF;
	__asm        add    esp, 8;
	__asm        mov    islope, eax;
// LINE 3060:
	__asm        mov    eax, vec;
	__asm        cmp    dword ptr [eax+8], 0;
	__asm        jge    near ptr 0x0050F97A;
// LINE 3062:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, y_pos;
	__asm        sar    eax, 0x16;
	__asm        inc    eax;
	__asm        mov    y_bound, eax;
// LINE 3063:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y_bound;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        shl    eax, 0x10;
	__asm        mov    y_bound, eax;
// LINE 3064:
	__asm        mov    y_delta, 0xFFC00000;
// LINE 3065:
	__asm        mov    y_cell_adj, 0;
// LINE 3071:
	__asm        jmp    near ptr 0x0050F9A9;
// LINE 3073:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, y_pos;
	__asm        sar    eax, 0x16;
	__asm        mov    y_bound, eax;
// LINE 3074:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y_bound;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        shl    eax, 0x10;
	__asm        mov    y_bound, eax;
// LINE 3075:
	__asm        mov    y_delta, 0x400000;
// LINE 3076:
	__asm        mov    y_cell_adj, 0;
// LINE 3079:
	__asm        mov    eax, y_bound;
	__asm        sub    eax, y_pos;
	__asm        push   eax;
	__asm        mov    eax, islope;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, x_pos;
	__asm        add    ecx, eax;
	__asm        mov    xi, ecx;
// LINE 3090:
	__asm        mov    eax, vec;
	__asm        cmp    dword ptr [eax], 0;
	__asm        jge    near ptr 0x0050FA02;
// LINE 3092:
	__asm        mov    eax, x_pos;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    x_bound, eax;
// LINE 3093:
	__asm        mov    eax, x_bound;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x2000;
	__asm        shl    eax, 0x10;
	__asm        mov    x_bound, eax;
// LINE 3094:
	__asm        mov    x_delta, 0xFFC00000;
// LINE 3095:
	__asm        mov    x_cell_adj, 0;
// LINE 3100:
	__asm        jmp    near ptr 0x0050FA30;
// LINE 3102:
	__asm        mov    eax, x_pos;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        inc    eax;
	__asm        mov    x_bound, eax;
// LINE 3103:
	__asm        mov    eax, x_bound;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x2000;
	__asm        shl    eax, 0x10;
	__asm        mov    x_bound, eax;
// LINE 3104:
	__asm        mov    x_delta, 0x400000;
// LINE 3105:
	__asm        mov    x_cell_adj, 0;
// LINE 3111:
	__asm        mov    eax, x_bound;
	__asm        sub    eax, x_pos;
	__asm        push   eax;
	__asm        mov    eax, slope;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ecx, y_pos;
	__asm        add    ecx, eax;
	__asm        mov    yi, ecx;
// LINE 3118:
	__asm        mov    eax, cell_array;
	__asm        mov    curr_cell, eax;
// LINE 3121:
	__asm        mov    eax, y_bound;
	__asm        mov    [ebp-0x68], eax;
	__asm        fild   dword ptr [ebp-0x68];
	__asm        mov    eax, y_pos;
	__asm        mov    [ebp-0x6C], eax;
	__asm        fisub  dword ptr [ebp-0x6C];
	__asm        fdiv   qword ptr ds:[0x592FD0];
	__asm        mov    eax, y_bound;
	__asm        mov    [ebp-0x70], eax;
	__asm        fild   dword ptr [ebp-0x70];
	__asm        mov    eax, y_pos;
	__asm        mov    [ebp-0x74], eax;
	__asm        fisub  dword ptr [ebp-0x74];
	__asm        fdiv   qword ptr ds:[0x592FD0];
	__asm        fmulp;
	__asm        mov    eax, xi;
	__asm        mov    [ebp-0x78], eax;
	__asm        fild   dword ptr [ebp-0x78];
	__asm        mov    eax, x_pos;
	__asm        mov    [ebp-0x7C], eax;
	__asm        fisub  dword ptr [ebp-0x7C];
	__asm        fdiv   qword ptr ds:[0x592FD0];
	__asm        mov    eax, xi;
	__asm        mov    [ebp-0x80], eax;
	__asm        fild   dword ptr [ebp-0x80];
	__asm        mov    eax, x_pos;
	__asm        mov    [ebp-0x84], eax;
	__asm        fisub  dword ptr [ebp-0x84];
	__asm        fdiv   qword ptr ds:[0x592FD0];
	__asm        fmulp;
	__asm        faddp;
	__asm        fstp   xdist;
// LINE 3123:
	__asm        mov    eax, x_bound;
	__asm        mov    [ebp-0x88], eax;
	__asm        fild   dword ptr [ebp-0x88];
	__asm        mov    eax, x_pos;
	__asm        mov    [ebp-0x8C], eax;
	__asm        fisub  dword ptr [ebp-0x8C];
	__asm        fdiv   qword ptr ds:[0x592FD0];
	__asm        mov    eax, x_bound;
	__asm        mov    [ebp-0x90], eax;
	__asm        fild   dword ptr [ebp-0x90];
	__asm        mov    eax, x_pos;
	__asm        mov    [ebp-0x94], eax;
	__asm        fisub  dword ptr [ebp-0x94];
	__asm        fdiv   qword ptr ds:[0x592FD0];
	__asm        fmulp;
	__asm        mov    eax, yi;
	__asm        mov    [ebp-0x98], eax;
	__asm        fild   dword ptr [ebp-0x98];
	__asm        mov    eax, y_pos;
	__asm        mov    [ebp-0x9C], eax;
	__asm        fisub  dword ptr [ebp-0x9C];
	__asm        fdiv   qword ptr ds:[0x592FD0];
	__asm        mov    eax, yi;
	__asm        mov    [ebp-0xA0], eax;
	__asm        fild   dword ptr [ebp-0xA0];
	__asm        mov    eax, y_pos;
	__asm        mov    [ebp-0xA4], eax;
	__asm        fisub  dword ptr [ebp-0xA4];
	__asm        fdiv   qword ptr ds:[0x592FD0];
	__asm        fmulp;
	__asm        faddp;
	__asm        fstp   ydist;
// LINE 3125:
	__asm        mov    eax, y_delta;
	__asm        push   eax;
	__asm        mov    eax, islope;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    xstepi, eax;
// LINE 3126:
	__asm        mov    eax, x_delta;
	__asm        push   eax;
	__asm        mov    eax, slope;
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ystepi, eax;
// LINE 3134:
	__asm        fld    xdist;
	__asm        fcomp  ydist;
	__asm        fnstsw ax;
	__asm        test   ah, 1;
	__asm        je     near ptr 0x0050FBCE;
// LINE 3136:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, y_bound;
	__asm        sar    eax, 0x16;
	__asm        add    eax, y_cell_adj;
	__asm        movsx  eax, ax;
	__asm        mov    ecx, curr_cell;
	__asm        mov    [ecx+4], eax;
// LINE 3137:
	__asm        mov    eax, xi;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        add    eax, x_cell_adj;
	__asm        movsx  eax, ax;
	__asm        mov    ecx, curr_cell;
	__asm        mov    [ecx], eax;
// LINE 3138:
	__asm        mov    get_x_next, 1;
// LINE 3139:
	__asm        mov    get_y_next, 0;
// LINE 3141:
	__asm        jmp    near ptr 0x0050FC56;

	__asm        fld    xdist;
	__asm        fcomp  ydist;
	__asm        fnstsw ax;
	__asm        test   ah, 0x41;
	__asm        jne    near ptr 0x0050FC1D;
// LINE 3143:
	__asm        mov    eax, x_bound;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        add    eax, x_cell_adj;
	__asm        movsx  eax, ax;
	__asm        mov    ecx, curr_cell;
	__asm        mov    [ecx], eax;
// LINE 3144:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, yi;
	__asm        sar    eax, 0x16;
	__asm        add    eax, y_cell_adj;
	__asm        movsx  eax, ax;
	__asm        mov    ecx, curr_cell;
	__asm        mov    [ecx+4], eax;
// LINE 3145:
	__asm        mov    get_y_next, 1;
// LINE 3146:
	__asm        mov    get_x_next, 0;
// LINE 3148:
	__asm        jmp    near ptr 0x0050FC56;
// LINE 3150:
	__asm        mov    eax, xi;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        add    eax, x_cell_adj;
	__asm        movsx  eax, ax;
	__asm        mov    ecx, curr_cell;
	__asm        mov    [ecx], eax;
// LINE 3151:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, yi;
	__asm        sar    eax, 0x16;
	__asm        add    eax, y_cell_adj;
	__asm        movsx  eax, ax;
	__asm        mov    ecx, curr_cell;
	__asm        mov    [ecx+4], eax;
// LINE 3152:
	__asm        mov    get_y_next, 1;
// LINE 3153:
	__asm        mov    get_x_next, 1;
// LINE 3161:
	__asm        mov    eax, ds:[0x67ED2C];
	__asm        dec    eax;
	__asm        mov    ecx, curr_cell;
	__asm        cmp    eax, [ecx+4];
	__asm        jg     near ptr 0x0050FCA8;

	__asm        mov    eax, ds:[0x67ED2C];
	__asm        add    eax, ds:[0x6663A0];
	__asm        inc    eax;
	__asm        mov    ecx, curr_cell;
	__asm        cmp    eax, [ecx+4];
	__asm        jl     near ptr 0x0050FCA8;

	__asm        mov    eax, ds:[0x67ED28];
	__asm        dec    eax;
	__asm        mov    ecx, curr_cell;
	__asm        cmp    eax, [ecx];
	__asm        jg     near ptr 0x0050FCA8;

	__asm        mov    eax, ds:[0x67ED28];
	__asm        add    eax, ds:[0x6663A0];
	__asm        inc    eax;
	__asm        mov    ecx, curr_cell;
	__asm        cmp    eax, [ecx];
	__asm        jge    near ptr 0x0050FCAD;
// LINE 3163:
	__asm        jmp    near ptr 0x0050FE22;
// LINE 3166:
	__asm        add    curr_cell, 8;
// LINE 3172:
	__asm        mov    eax, reinterpret_cast<uint32_t>(get_x_next);
	__asm        and    eax, 0xFFFF;
	__asm        cmp    eax, 1;
	__asm        jne    near ptr 0x0050FD67;
// LINE 3174:
	__asm        mov    eax, xstepi;
	__asm        add    xi, eax;
// LINE 3175:
	__asm        mov    eax, y_delta;
	__asm        add    y_bound, eax;
// LINE 3177:
	__asm        mov    eax, y_bound;
	__asm        mov    [ebp-0xA8], eax;
	__asm        fild   dword ptr [ebp-0xA8];
	__asm        mov    eax, y_pos;
	__asm        mov    [ebp-0xAC], eax;
	__asm        fisub  dword ptr [ebp-0xAC];
	__asm        fdiv   qword ptr ds:[0x592FD0];
	__asm        mov    eax, y_bound;
	__asm        mov    [ebp-0xB0], eax;
	__asm        fild   dword ptr [ebp-0xB0];
	__asm        mov    eax, y_pos;
	__asm        mov    [ebp-0xB4], eax;
	__asm        fisub  dword ptr [ebp-0xB4];
	__asm        fdiv   qword ptr ds:[0x592FD0];
	__asm        fmulp;
	__asm        mov    eax, xi;
	__asm        mov    [ebp-0xB8], eax;
	__asm        fild   dword ptr [ebp-0xB8];
	__asm        mov    eax, x_pos;
	__asm        mov    [ebp-0xBC], eax;
	__asm        fisub  dword ptr [ebp-0xBC];
	__asm        fdiv   qword ptr ds:[0x592FD0];
	__asm        mov    eax, xi;
	__asm        mov    [ebp-0xC0], eax;
	__asm        fild   dword ptr [ebp-0xC0];
	__asm        mov    eax, x_pos;
	__asm        mov    [ebp-0xC4], eax;
	__asm        fisub  dword ptr [ebp-0xC4];
	__asm        fdiv   qword ptr ds:[0x592FD0];
	__asm        fmulp;
	__asm        faddp;
	__asm        fstp   xdist;
// LINE 3180:
	__asm        mov    eax, reinterpret_cast<uint32_t>(get_y_next);
	__asm        and    eax, 0xFFFF;
	__asm        cmp    eax, 1;
	__asm        jne    near ptr 0x0050FE1D;
// LINE 3182:
	__asm        mov    eax, ystepi;
	__asm        add    yi, eax;
// LINE 3183:
	__asm        mov    eax, x_delta;
	__asm        add    x_bound, eax;
// LINE 3185:
	__asm        mov    eax, x_bound;
	__asm        mov    [ebp-0xC8], eax;
	__asm        fild   dword ptr [ebp-0xC8];
	__asm        mov    eax, x_pos;
	__asm        mov    [ebp-0xCC], eax;
	__asm        fisub  dword ptr [ebp-0xCC];
	__asm        fdiv   qword ptr ds:[0x592FD0];
	__asm        mov    eax, x_bound;
	__asm        mov    [ebp-0xD0], eax;
	__asm        fild   dword ptr [ebp-0xD0];
	__asm        mov    eax, x_pos;
	__asm        mov    [ebp-0xD4], eax;
	__asm        fisub  dword ptr [ebp-0xD4];
	__asm        fdiv   qword ptr ds:[0x592FD0];
	__asm        fmulp;
	__asm        mov    eax, yi;
	__asm        mov    [ebp-0xD8], eax;
	__asm        fild   dword ptr [ebp-0xD8];
	__asm        mov    eax, y_pos;
	__asm        mov    [ebp-0xDC], eax;
	__asm        fisub  dword ptr [ebp-0xDC];
	__asm        fdiv   qword ptr ds:[0x592FD0];
	__asm        mov    eax, yi;
	__asm        mov    [ebp-0xE0], eax;
	__asm        fild   dword ptr [ebp-0xE0];
	__asm        mov    eax, y_pos;
	__asm        mov    [ebp-0xE4], eax;
	__asm        fisub  dword ptr [ebp-0xE4];
	__asm        fdiv   qword ptr ds:[0x592FD0];
	__asm        fmulp;
	__asm        faddp;
	__asm        fstp   ydist;
// LINE 3187:
	__asm        jmp    near ptr 0x0050FB7F;
// LINE 3190:
	__asm        mov    eax, curr_cell;
	__asm        sub    eax, 8;
	__asm        mov    ecx, cell_last;
	__asm        mov    [ecx], eax;
// LINE 3191:
}

// FUNCTION: COPTER_D 0x0050fe32
void city_fovscan_horizedge() {
	struct Point2d* fovcell;
	struct Point2d* lend;
	long y_dir;
	struct Point2d* lcell;
	struct Point2d* rend;
	long x_last;
	struct _CELL_INFO* cptr;
	long y_pos;
	long y;
	long x;
	struct Point2d* rcell;
	long y_start;
	long x_pos;

// LINE 3219:
	__asm        mov    eax, ds:[0x6C126C];
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    x_pos, eax;
// LINE 3221:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, ds:[0x62A4F0];
	__asm        sar    eax, 0x16;
	__asm        mov    y_pos, eax;
// LINE 3223:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        mov    eax, [eax+4];
	__asm        mov    y_start, eax;
// LINE 3226:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        mov    ecx, y_pos;
	__asm        cmp    [eax+4], ecx;
	__asm        jge    near ptr 0x0050FEA2;
// LINE 3228:
	__asm        mov    y_dir, 1;
// LINE 3229:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        mov    lcell, eax;
// LINE 3230:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    rcell, eax;
// LINE 3231:
	__asm        mov    lend, 0x609108;
// LINE 3232:
	__asm        mov    rend, 0x629C50;
// LINE 3234:
	__asm        jmp    near ptr 0x0050FEC7;
// LINE 3236:
	__asm        mov    y_dir, 0xFFFFFFFF;
// LINE 3237:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    lcell, eax;
// LINE 3238:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        mov    rcell, eax;
// LINE 3239:
	__asm        mov    rend, 0x609108;
// LINE 3240:
	__asm        mov    lend, 0x629C50;
// LINE 3242:
	__asm        mov    fovcell, 0x609C50;
// LINE 3247:
	__asm        mov    eax, y_start;
	__asm        mov    y, eax;
	__asm        jmp    near ptr 0x0050FEDF;

	__asm        mov    eax, y_dir;
	__asm        add    y, eax;
	__asm        mov    eax, y_dir;
	__asm        add    eax, y_pos;
	__asm        cmp    eax, y;
	__asm        je     near ptr 0x005102C4;
// LINE 3250:
	__asm        mov    eax, lcell;
	__asm        mov    eax, [eax];
	__asm        mov    x, eax;
	__asm        jmp    near ptr 0x0050FEFE;

	__asm        inc    x;
	__asm        mov    eax, x;
	__asm        cmp    x_pos, eax;
	__asm        jle    near ptr 0x00510084;

	__asm        mov    eax, rcell;
	__asm        mov    ecx, x;
	__asm        cmp    [eax], ecx;
	__asm        jl     near ptr 0x00510084;
// LINE 3253:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    eax, [eax+ecx*4+0x67ED30];
	__asm        mov    cptr, eax;
// LINE 3254:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0xFFF7;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx], ax;
// LINE 3259:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+8];
	__asm        cmp    eax, 1;
	__asm        jle    near ptr 0x00510040;

	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 1;
	__asm        je     near ptr 0x00510040;

	__asm        mov    eax, y;
	__asm        add    eax, y_dir;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, cptr;
	__asm        cmp    [ecx+eax*4+0x67ED30], edx;
	__asm        jne    near ptr 0x00510040;
// LINE 3262:
	__asm        mov    eax, x;
	__asm        mov    x_last, eax;
// LINE 3263:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x_last;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, cptr;
	__asm        cmp    [ecx+eax*4+0x67ED30], edx;
	__asm        jne    near ptr 0x0050FFBE;
// LINE 3264:
	__asm        inc    x_last;
	__asm        jmp    near ptr 0x0050FF92;
// LINE 3265:
	__asm        dec    x_last;
// LINE 3267:
	__asm        mov    eax, x_last;
	__asm        cmp    x_pos, eax;
	__asm        jle    near ptr 0x0050FFF0;
// LINE 3269:
	__asm        lea    eax, fovcell;
	__asm        push   eax;
	__asm        mov    eax, lend;
	__asm        push   eax;
	__asm        mov    eax, lcell;
	__asm        push   eax;
	__asm        mov    eax, y_dir;
	__asm        push   eax;
	__asm        push   1;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   city_subscan_horiz;
	__asm        add    esp, 0x18;
// LINE 3271:
	__asm        jmp    near ptr 0x0050FFF6;
// LINE 3273:
	__asm        mov    eax, x;
	__asm        mov    x_last, eax;
// LINE 3276:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3277:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3278:
	__asm        add    fovcell, 8;
// LINE 3279:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x00510035;
// LINE 3280:
	__asm        push   0x5B5A7C;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3281:
	__asm        mov    eax, x_last;
	__asm        mov    x, eax;
// LINE 3283:
	__asm        jmp    near ptr 0x0051007F;
// LINE 3285:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3286:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3287:
	__asm        add    fovcell, 8;
// LINE 3288:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x0051007F;
// LINE 3289:
	__asm        push   0x5B5A8C;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3291:
	__asm        jmp    near ptr 0x0050FEFB;
// LINE 3293:
	__asm        mov    eax, rcell;
	__asm        mov    eax, [eax];
	__asm        mov    x, eax;
	__asm        jmp    near ptr 0x00510094;

	__asm        dec    x;
	__asm        mov    eax, x;
	__asm        cmp    x_pos, eax;
	__asm        jge    near ptr 0x0051021A;

	__asm        mov    eax, lcell;
	__asm        mov    ecx, x;
	__asm        cmp    [eax], ecx;
	__asm        jg     near ptr 0x0051021A;
// LINE 3296:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    eax, [eax+ecx*4+0x67ED30];
	__asm        mov    cptr, eax;
// LINE 3297:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0xFFF7;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx], ax;
// LINE 3302:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+8];
	__asm        cmp    eax, 1;
	__asm        jle    near ptr 0x005101D6;

	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 1;
	__asm        je     near ptr 0x005101D6;

	__asm        mov    eax, y;
	__asm        add    eax, y_dir;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, cptr;
	__asm        cmp    [ecx+eax*4+0x67ED30], edx;
	__asm        jne    near ptr 0x005101D6;
// LINE 3305:
	__asm        mov    eax, x;
	__asm        mov    x_last, eax;
// LINE 3306:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x_last;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, cptr;
	__asm        cmp    [ecx+eax*4+0x67ED30], edx;
	__asm        jne    near ptr 0x00510154;
// LINE 3307:
	__asm        dec    x_last;
	__asm        jmp    near ptr 0x00510128;
// LINE 3308:
	__asm        inc    x_last;
// LINE 3310:
	__asm        mov    eax, x_last;
	__asm        cmp    x_pos, eax;
	__asm        jge    near ptr 0x00510186;
// LINE 3312:
	__asm        lea    eax, fovcell;
	__asm        push   eax;
	__asm        mov    eax, rend;
	__asm        push   eax;
	__asm        mov    eax, rcell;
	__asm        push   eax;
	__asm        mov    eax, y_dir;
	__asm        push   eax;
	__asm        push   0xFFFFFFFF;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   city_subscan_horiz;
	__asm        add    esp, 0x18;
// LINE 3314:
	__asm        jmp    near ptr 0x0051018C;
// LINE 3316:
	__asm        mov    eax, x;
	__asm        mov    x_last, eax;
// LINE 3319:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3320:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3321:
	__asm        add    fovcell, 8;
// LINE 3322:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x005101CB;
// LINE 3323:
	__asm        push   0x5B5A9C;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3324:
	__asm        mov    eax, x_last;
	__asm        mov    x, eax;
// LINE 3326:
	__asm        jmp    near ptr 0x00510215;
// LINE 3328:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3329:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3330:
	__asm        add    fovcell, 8;
// LINE 3331:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x00510215;
// LINE 3332:
	__asm        push   0x5B5AAC;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3334:
	__asm        jmp    near ptr 0x00510091;
// LINE 3336:
	__asm        mov    eax, lcell;
	__asm        movsx  ecx, reinterpret_cast<uint16_t>(x_pos);
	__asm        cmp    [eax], ecx;
	__asm        jg     near ptr 0x00510277;

	__asm        mov    eax, rcell;
	__asm        movsx  ecx, reinterpret_cast<uint16_t>(x_pos);
	__asm        cmp    [eax], ecx;
	__asm        jl     near ptr 0x00510277;
// LINE 3338:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x_pos);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3339:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3340:
	__asm        add    fovcell, 8;
// LINE 3341:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x00510277;
// LINE 3342:
	__asm        push   0x5B5ABC;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3346:
	__asm        mov    eax, lcell;
	__asm        mov    ecx, y;
	__asm        cmp    [eax+4], ecx;
	__asm        jne    near ptr 0x0051029B;

	__asm        mov    eax, lcell;
	__asm        cmp    lend, eax;
	__asm        jae    near ptr 0x0051029B;
// LINE 3347:
	__asm        sub    lcell, 8;
	__asm        jmp    near ptr 0x00510277;
// LINE 3348:
	__asm        mov    eax, rcell;
	__asm        mov    ecx, y;
	__asm        cmp    [eax+4], ecx;
	__asm        jne    near ptr 0x005102BF;

	__asm        mov    eax, rcell;
	__asm        cmp    rend, eax;
	__asm        jae    near ptr 0x005102BF;
// LINE 3349:
	__asm        sub    rcell, 8;
	__asm        jmp    near ptr 0x0051029B;
// LINE 3350:
	__asm        jmp    near ptr 0x0050FED9;
// LINE 3352:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 8;
	__asm        mov    ds:[0x609BE8], eax;
// LINE 3353:
}

// FUNCTION: COPTER_D 0x005102d4
void city_fovscan_vertedge() {
	struct Point2d* fovcell;
	struct Point2d* bcell;
	struct Point2d* bend;
	long x_start;
	struct _CELL_INFO* cptr;
	long y_pos;
	long y;
	long y_last;
	long x;
	long x_dir;
	struct Point2d* tcell;
	long x_pos;
	struct Point2d* tend;

// LINE 3369:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, ds:[0x6C1274];
	__asm        sar    eax, 0x16;
	__asm        mov    y_pos, eax;
// LINE 3371:
	__asm        mov    eax, ds:[0x62A4E8];
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    x_pos, eax;
// LINE 3373:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        mov    eax, [eax];
	__asm        mov    x_start, eax;
// LINE 3376:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        mov    ecx, x_pos;
	__asm        cmp    [eax], ecx;
	__asm        jge    near ptr 0x00510342;
// LINE 3378:
	__asm        mov    x_dir, 1;
// LINE 3379:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        mov    bcell, eax;
// LINE 3380:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    tcell, eax;
// LINE 3381:
	__asm        mov    bend, 0x609108;
// LINE 3382:
	__asm        mov    tend, 0x629C50;
// LINE 3384:
	__asm        jmp    near ptr 0x00510367;
// LINE 3386:
	__asm        mov    x_dir, 0xFFFFFFFF;
// LINE 3387:
	__asm        mov    eax, ds:[0x609104];
	__asm        mov    bcell, eax;
// LINE 3388:
	__asm        mov    eax, ds:[0x62A4A0];
	__asm        mov    tcell, eax;
// LINE 3389:
	__asm        mov    tend, 0x609108;
// LINE 3390:
	__asm        mov    bend, 0x629C50;
// LINE 3392:
	__asm        mov    fovcell, 0x609C50;
// LINE 3398:
	__asm        mov    eax, x_start;
	__asm        mov    x, eax;
	__asm        jmp    near ptr 0x0051037F;

	__asm        mov    eax, x_dir;
	__asm        add    x, eax;
	__asm        mov    eax, x_dir;
	__asm        add    eax, x_pos;
	__asm        cmp    eax, x;
	__asm        je     near ptr 0x00510766;
// LINE 3401:
	__asm        mov    eax, tcell;
	__asm        mov    eax, [eax+4];
	__asm        mov    y, eax;
	__asm        jmp    near ptr 0x0051039F;

	__asm        inc    y;
	__asm        mov    eax, y_pos;
	__asm        cmp    y, eax;
	__asm        jge    near ptr 0x00510526;

	__asm        mov    eax, bcell;
	__asm        mov    ecx, y;
	__asm        cmp    [eax+4], ecx;
	__asm        jl     near ptr 0x00510526;
// LINE 3404:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, [ecx+eax*4+0x67ED30];
	__asm        mov    cptr, eax;
// LINE 3405:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0xFFF7;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx], ax;
// LINE 3410:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+8];
	__asm        cmp    eax, 1;
	__asm        jle    near ptr 0x005104E2;

	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 1;
	__asm        je     near ptr 0x005104E2;

	__asm        mov    eax, x;
	__asm        add    eax, x_dir;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, cptr;
	__asm        cmp    [eax+ecx*4+0x67ED30], edx;
	__asm        jne    near ptr 0x005104E2;
// LINE 3413:
	__asm        mov    eax, y;
	__asm        mov    y_last, eax;
// LINE 3414:
	__asm        mov    eax, y_last;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, cptr;
	__asm        cmp    [ecx+eax*4+0x67ED30], edx;
	__asm        jne    near ptr 0x00510460;

	__asm        inc    y_last;
	__asm        jmp    near ptr 0x00510434;
// LINE 3415:
	__asm        dec    y_last;
// LINE 3417:
	__asm        mov    eax, y_pos;
	__asm        cmp    y_last, eax;
	__asm        jge    near ptr 0x00510492;
// LINE 3419:
	__asm        lea    eax, fovcell;
	__asm        push   eax;
	__asm        mov    eax, tend;
	__asm        push   eax;
	__asm        mov    eax, tcell;
	__asm        push   eax;
	__asm        push   1;
	__asm        mov    eax, x_dir;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        call   city_subscan_vert;
	__asm        add    esp, 0x18;
// LINE 3421:
	__asm        jmp    near ptr 0x00510498;
// LINE 3423:
	__asm        mov    eax, y;
	__asm        mov    y_last, eax;
// LINE 3426:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3427:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3428:
	__asm        add    fovcell, 8;
// LINE 3429:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x005104D7;

	__asm        push   0x5B5ACC;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3430:
	__asm        mov    eax, y_last;
	__asm        mov    y, eax;
// LINE 3432:
	__asm        jmp    near ptr 0x00510521;
// LINE 3434:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3435:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3436:
	__asm        add    fovcell, 8;
// LINE 3437:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x00510521;

	__asm        push   0x5B5ADC;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3439:
	__asm        jmp    near ptr 0x0051039C;
// LINE 3441:
	__asm        mov    eax, bcell;
	__asm        mov    eax, [eax+4];
	__asm        mov    y, eax;
	__asm        jmp    near ptr 0x00510537;

	__asm        dec    y;
	__asm        mov    eax, y_pos;
	__asm        cmp    y, eax;
	__asm        jle    near ptr 0x005106BE;

	__asm        mov    eax, tcell;
	__asm        mov    ecx, y;
	__asm        cmp    [eax+4], ecx;
	__asm        jg     near ptr 0x005106BE;
// LINE 3444:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, [ecx+eax*4+0x67ED30];
	__asm        mov    cptr, eax;
// LINE 3445:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0xFFF7;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx], ax;
// LINE 3450:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+8];
	__asm        cmp    eax, 1;
	__asm        jle    near ptr 0x0051067A;

	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 1;
	__asm        je     near ptr 0x0051067A;

	__asm        mov    eax, x;
	__asm        add    eax, x_dir;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, cptr;
	__asm        cmp    [eax+ecx*4+0x67ED30], edx;
	__asm        jne    near ptr 0x0051067A;
// LINE 3453:
	__asm        mov    eax, y;
	__asm        mov    y_last, eax;
// LINE 3454:
	__asm        mov    eax, y_last;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, cptr;
	__asm        cmp    [ecx+eax*4+0x67ED30], edx;
	__asm        jne    near ptr 0x005105F8;

	__asm        dec    y_last;
	__asm        jmp    near ptr 0x005105CC;
// LINE 3455:
	__asm        inc    y_last;
// LINE 3457:
	__asm        mov    eax, y_pos;
	__asm        cmp    y_last, eax;
	__asm        jle    near ptr 0x0051062A;
// LINE 3459:
	__asm        lea    eax, fovcell;
	__asm        push   eax;
	__asm        mov    eax, bend;
	__asm        push   eax;
	__asm        mov    eax, bcell;
	__asm        push   eax;
	__asm        push   0xFFFFFFFF;
	__asm        mov    eax, x_dir;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        call   city_subscan_vert;
	__asm        add    esp, 0x18;
// LINE 3461:
	__asm        jmp    near ptr 0x00510630;
// LINE 3463:
	__asm        mov    eax, y;
	__asm        mov    y_last, eax;
// LINE 3466:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3467:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3468:
	__asm        add    fovcell, 8;
// LINE 3469:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x0051066F;

	__asm        push   0x5B5AEC;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3470:
	__asm        mov    eax, y_last;
	__asm        mov    y, eax;
// LINE 3472:
	__asm        jmp    near ptr 0x005106B9;
// LINE 3474:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3475:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3476:
	__asm        add    fovcell, 8;
// LINE 3477:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x005106B9;

	__asm        push   0x5B5AFC;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3479:
	__asm        jmp    near ptr 0x00510534;
// LINE 3481:
	__asm        mov    eax, tcell;
	__asm        mov    ecx, y_pos;
	__asm        cmp    [eax+4], ecx;
	__asm        jg     near ptr 0x0051071B;

	__asm        mov    eax, bcell;
	__asm        mov    ecx, y_pos;
	__asm        cmp    [eax+4], ecx;
	__asm        jl     near ptr 0x0051071B;
// LINE 3483:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y_pos);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3484:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3485:
	__asm        add    fovcell, 8;
// LINE 3486:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x0051071B;

	__asm        push   0x5B5B0C;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3490:
	__asm        mov    eax, tcell;
	__asm        mov    ecx, x;
	__asm        cmp    [eax], ecx;
	__asm        jne    near ptr 0x0051073E;

	__asm        mov    eax, tcell;
	__asm        cmp    tend, eax;
	__asm        jae    near ptr 0x0051073E;

	__asm        sub    tcell, 8;
	__asm        jmp    near ptr 0x0051071B;
// LINE 3491:
	__asm        mov    eax, bcell;
	__asm        mov    ecx, x;
	__asm        cmp    [eax], ecx;
	__asm        jne    near ptr 0x00510761;

	__asm        mov    eax, bcell;
	__asm        cmp    bend, eax;
	__asm        jae    near ptr 0x00510761;

	__asm        sub    bcell, 8;
	__asm        jmp    near ptr 0x0051073E;
// LINE 3492:
	__asm        jmp    near ptr 0x00510379;
// LINE 3494:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 8;
	__asm        mov    ds:[0x609BE8], eax;
// LINE 3495:
}

// FUNCTION: COPTER_D 0x00510776
void city_subscan_horiz(long cellpos, long x_dir, long y_dir, struct Point2d* edge, struct Point2d* endedge, struct Point2d** curr_fovcell) {
	struct Point2d* fovcell;
	struct _CELL_INFO* cptr;
	long y;
	long x;

// LINE 3523:
	__asm        mov    eax, curr_fovcell;
	__asm        mov    eax, [eax];
	__asm        mov    fovcell, eax;
// LINE 3525:
	__asm        inc    dword ptr ds:[0x5B59EC];
// LINE 3526:
	__asm        cmp    dword ptr ds:[0x5B59EC], 0x1E;
	__asm        jle    near ptr 0x005107A1;
// LINE 3527:
	__asm        mov    y, 1;
// LINE 3531:
	__asm        mov    eax, edge;
	__asm        mov    eax, [eax+4];
	__asm        mov    y, eax;
// LINE 3532:
	__asm        mov    eax, edge;
	__asm        mov    ecx, y;
	__asm        cmp    [eax+4], ecx;
	__asm        jne    near ptr 0x005107CE;

	__asm        mov    eax, edge;
	__asm        cmp    endedge, eax;
	__asm        jae    near ptr 0x005107CE;

	__asm        sub    edge, 8;
	__asm        jmp    near ptr 0x005107AA;
// LINE 3533:
	__asm        mov    eax, edge;
	__asm        mov    ecx, y;
	__asm        cmp    [eax+4], ecx;
	__asm        jne    near ptr 0x005107E8;
// LINE 3535:
	__asm        dec    dword ptr ds:[0x5B59EC];
// LINE 3536:
	__asm        jmp    near ptr 0x00510BE6;
// LINE 3539:
	__asm        mov    eax, edge;
	__asm        mov    eax, [eax+4];
	__asm        mov    y, eax;
// LINE 3542:
	__asm        cmp    x_dir, 1;
	__asm        jne    near ptr 0x0051097F;
// LINE 3545:
	__asm        mov    eax, edge;
	__asm        movsx  ecx, reinterpret_cast<uint16_t>(cellpos);
	__asm        cmp    [eax], ecx;
	__asm        jle    near ptr 0x00510813;

	__asm        movsx  eax, reinterpret_cast<uint16_t>(cellpos);
	__asm        mov    ecx, edge;
	__asm        mov    [ecx], eax;
// LINE 3548:
	__asm        mov    eax, edge;
	__asm        mov    eax, [eax];
	__asm        mov    x, eax;
	__asm        jmp    near ptr 0x00510823;

	__asm        inc    x;
	__asm        mov    eax, cellpos;
	__asm        cmp    x, eax;
	__asm        jg     near ptr 0x0051097A;
// LINE 3550:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, [ecx+eax*4+0x67ED30];
	__asm        mov    cptr, eax;
// LINE 3551:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0xFFF7;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx], ax;
// LINE 3556:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+8];
	__asm        cmp    eax, 1;
	__asm        jle    near ptr 0x00510936;

	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 1;
	__asm        je     near ptr 0x00510936;

	__asm        mov    eax, y;
	__asm        add    eax, y_dir;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, cptr;
	__asm        cmp    [ecx+eax*4+0x67ED30], edx;
	__asm        jne    near ptr 0x00510936;
// LINE 3558:
	__asm        lea    eax, fovcell;
	__asm        push   eax;
	__asm        mov    eax, endedge;
	__asm        push   eax;
	__asm        mov    eax, edge;
	__asm        push   eax;
	__asm        mov    eax, y_dir;
	__asm        push   eax;
	__asm        mov    eax, x_dir;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   0x00510776;
	__asm        add    esp, 0x18;
// LINE 3560:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3561:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3562:
	__asm        add    fovcell, 8;
// LINE 3563:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x00510902;

	__asm        push   0x5B5B1C;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3565:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, cptr;
	__asm        cmp    [ecx+eax*4+0x67ED30], edx;
	__asm        jne    near ptr 0x0051092E;

	__asm        inc    x;
	__asm        jmp    near ptr 0x00510902;
// LINE 3566:
	__asm        dec    x;
// LINE 3568:
	__asm        jmp    near ptr 0x00510975;
// LINE 3570:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3571:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3572:
	__asm        add    fovcell, 8;
// LINE 3573:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x00510975;

	__asm        push   0x5B5B2C;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3575:
	__asm        jmp    near ptr 0x00510820;
// LINE 3577:
	__asm        jmp    near ptr 0x00510AFE;
// LINE 3581:
	__asm        mov    eax, edge;
	__asm        movsx  ecx, reinterpret_cast<uint16_t>(cellpos);
	__asm        cmp    [eax], ecx;
	__asm        jge    near ptr 0x00510997;

	__asm        movsx  eax, reinterpret_cast<uint16_t>(cellpos);
	__asm        mov    ecx, edge;
	__asm        mov    [ecx], eax;
// LINE 3583:
	__asm        mov    eax, edge;
	__asm        mov    eax, [eax];
	__asm        mov    x, eax;
	__asm        jmp    near ptr 0x005109A7;

	__asm        dec    x;
	__asm        mov    eax, cellpos;
	__asm        cmp    x, eax;
	__asm        jl     near ptr 0x00510AFE;
// LINE 3585:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, [ecx+eax*4+0x67ED30];
	__asm        mov    cptr, eax;
// LINE 3586:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0xFFF7;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx], ax;
// LINE 3591:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+8];
	__asm        cmp    eax, 1;
	__asm        jle    near ptr 0x00510ABA;

	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 1;
	__asm        je     near ptr 0x00510ABA;

	__asm        mov    eax, y;
	__asm        add    eax, y_dir;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, cptr;
	__asm        cmp    [ecx+eax*4+0x67ED30], edx;
	__asm        jne    near ptr 0x00510ABA;
// LINE 3593:
	__asm        lea    eax, fovcell;
	__asm        push   eax;
	__asm        mov    eax, endedge;
	__asm        push   eax;
	__asm        mov    eax, edge;
	__asm        push   eax;
	__asm        mov    eax, y_dir;
	__asm        push   eax;
	__asm        mov    eax, x_dir;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   0x00510776;
	__asm        add    esp, 0x18;
// LINE 3595:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3596:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3597:
	__asm        add    fovcell, 8;
// LINE 3598:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x00510A86;

	__asm        push   0x5B5B3C;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3600:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, cptr;
	__asm        cmp    [ecx+eax*4+0x67ED30], edx;
	__asm        jne    near ptr 0x00510AB2;

	__asm        dec    x;
	__asm        jmp    near ptr 0x00510A86;
// LINE 3601:
	__asm        inc    x;
// LINE 3603:
	__asm        jmp    near ptr 0x00510AF9;
// LINE 3605:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3606:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3607:
	__asm        add    fovcell, 8;
// LINE 3608:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x00510AF9;

	__asm        push   0x5B5B4C;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3610:
	__asm        jmp    near ptr 0x005109A4;
// LINE 3617:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, cellpos;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, [ecx+eax*4+0x67ED30];
	__asm        mov    cptr, eax;
// LINE 3618:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0xFFF7;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx], ax;
// LINE 3619:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+8];
	__asm        cmp    eax, 1;
	__asm        jle    near ptr 0x00510B92;

	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 1;
	__asm        je     near ptr 0x00510B92;

	__asm        mov    eax, y;
	__asm        add    eax, y_dir;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, cellpos;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, cptr;
	__asm        cmp    [ecx+eax*4+0x67ED30], edx;
	__asm        jne    near ptr 0x00510B92;
// LINE 3621:
	__asm        lea    eax, fovcell;
	__asm        push   eax;
	__asm        mov    eax, endedge;
	__asm        push   eax;
	__asm        mov    eax, edge;
	__asm        push   eax;
	__asm        mov    eax, y_dir;
	__asm        push   eax;
	__asm        mov    eax, x_dir;
	__asm        push   eax;
	__asm        mov    eax, cellpos;
	__asm        push   eax;
	__asm        call   0x00510776;
	__asm        add    esp, 0x18;
// LINE 3624:
	__asm        mov    eax, fovcell;
	__asm        mov    ecx, curr_fovcell;
	__asm        mov    [ecx], eax;
// LINE 3627:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x_dir);
	__asm        movsx  ecx, reinterpret_cast<uint16_t>(cellpos);
	__asm        add    eax, ecx;
	__asm        mov    ecx, edge;
	__asm        mov    [ecx], eax;
// LINE 3628:
	__asm        mov    eax, edge;
	__asm        mov    eax, [eax+4];
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, edge;
	__asm        mov    ecx, [ecx];
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, cptr;
	__asm        cmp    [ecx+eax*4+0x67ED30], edx;
	__asm        jne    near ptr 0x00510BE0;

	__asm        movsx  eax, reinterpret_cast<uint16_t>(x_dir);
	__asm        mov    ecx, edge;
	__asm        add    [ecx], eax;
	__asm        jmp    near ptr 0x00510BA9;
// LINE 3630:
	__asm        dec    dword ptr ds:[0x5B59EC];
// LINE 3632:
}

// FUNCTION: COPTER_D 0x00510beb
void city_subscan_vert(long cellpos, long x_dir, long y_dir, struct Point2d* edge, struct Point2d* endedge, struct Point2d** curr_fovcell) {
	struct Point2d* fovcell;
	struct _CELL_INFO* cptr;
	long y;
	long x;

// LINE 3640:
	__asm        mov    eax, curr_fovcell;
	__asm        mov    eax, [eax];
	__asm        mov    fovcell, eax;
// LINE 3643:
	__asm        mov    eax, edge;
	__asm        mov    eax, [eax];
	__asm        mov    x, eax;
// LINE 3644:
	__asm        mov    eax, edge;
	__asm        mov    ecx, x;
	__asm        cmp    [eax], ecx;
	__asm        jne    near ptr 0x00510C27;

	__asm        mov    eax, edge;
	__asm        cmp    endedge, eax;
	__asm        jae    near ptr 0x00510C27;

	__asm        sub    edge, 8;
	__asm        jmp    near ptr 0x00510C04;
// LINE 3645:
	__asm        mov    eax, edge;
	__asm        mov    ecx, x;
	__asm        cmp    [eax], ecx;
	__asm        jne    near ptr 0x00510C3A;
// LINE 3646:
	__asm        jmp    near ptr 0x00511039;
// LINE 3648:
	__asm        mov    eax, edge;
	__asm        mov    eax, [eax];
	__asm        mov    x, eax;
// LINE 3650:
	__asm        cmp    y_dir, 1;
	__asm        jne    near ptr 0x00510DD3;
// LINE 3653:
	__asm        mov    eax, edge;
	__asm        movsx  ecx, reinterpret_cast<uint16_t>(cellpos);
	__asm        cmp    [eax+4], ecx;
	__asm        jle    near ptr 0x00510C66;

	__asm        movsx  eax, reinterpret_cast<uint16_t>(cellpos);
	__asm        mov    ecx, edge;
	__asm        mov    [ecx+4], eax;
// LINE 3655:
	__asm        mov    eax, edge;
	__asm        mov    eax, [eax+4];
	__asm        mov    y, eax;
	__asm        jmp    near ptr 0x00510C77;

	__asm        inc    y;
	__asm        mov    eax, cellpos;
	__asm        cmp    y, eax;
	__asm        jg     near ptr 0x00510DCE;
// LINE 3657:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    eax, [eax+ecx*4+0x67ED30];
	__asm        mov    cptr, eax;
// LINE 3658:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0xFFF7;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx], ax;
// LINE 3663:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+8];
	__asm        cmp    eax, 1;
	__asm        jle    near ptr 0x00510D8A;

	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 1;
	__asm        je     near ptr 0x00510D8A;

	__asm        mov    eax, x;
	__asm        add    eax, x_dir;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, cptr;
	__asm        cmp    [eax+ecx*4+0x67ED30], edx;
	__asm        jne    near ptr 0x00510D8A;
// LINE 3665:
	__asm        lea    eax, fovcell;
	__asm        push   eax;
	__asm        mov    eax, endedge;
	__asm        push   eax;
	__asm        mov    eax, edge;
	__asm        push   eax;
	__asm        mov    eax, y_dir;
	__asm        push   eax;
	__asm        mov    eax, x_dir;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        call   0x00510BEB;
	__asm        add    esp, 0x18;
// LINE 3667:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3668:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3669:
	__asm        add    fovcell, 8;
// LINE 3670:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x00510D56;

	__asm        push   0x5B5B5C;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3672:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, cptr;
	__asm        cmp    [eax+ecx*4+0x67ED30], edx;
	__asm        jne    near ptr 0x00510D82;

	__asm        inc    y;
	__asm        jmp    near ptr 0x00510D56;
// LINE 3673:
	__asm        dec    y;
// LINE 3675:
	__asm        jmp    near ptr 0x00510DC9;
// LINE 3677:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3678:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3679:
	__asm        add    fovcell, 8;
// LINE 3680:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x00510DC9;

	__asm        push   0x5B5B6C;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3682:
	__asm        jmp    near ptr 0x00510C74;
// LINE 3684:
	__asm        jmp    near ptr 0x00510F55;
// LINE 3688:
	__asm        mov    eax, edge;
	__asm        movsx  ecx, reinterpret_cast<uint16_t>(cellpos);
	__asm        cmp    [eax+4], ecx;
	__asm        jge    near ptr 0x00510DED;

	__asm        movsx  eax, reinterpret_cast<uint16_t>(cellpos);
	__asm        mov    ecx, edge;
	__asm        mov    [ecx+4], eax;
// LINE 3690:
	__asm        mov    eax, edge;
	__asm        mov    eax, [eax+4];
	__asm        mov    y, eax;
	__asm        jmp    near ptr 0x00510DFE;

	__asm        dec    y;
	__asm        mov    eax, cellpos;
	__asm        cmp    y, eax;
	__asm        jl     near ptr 0x00510F55;
// LINE 3692:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    eax, [eax+ecx*4+0x67ED30];
	__asm        mov    cptr, eax;
// LINE 3693:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0xFFF7;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx], ax;
// LINE 3698:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+8];
	__asm        cmp    eax, 1;
	__asm        jle    near ptr 0x00510F11;

	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 1;
	__asm        je     near ptr 0x00510F11;

	__asm        mov    eax, x;
	__asm        add    eax, x_dir;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, cptr;
	__asm        cmp    [eax+ecx*4+0x67ED30], edx;
	__asm        jne    near ptr 0x00510F11;
// LINE 3700:
	__asm        lea    eax, fovcell;
	__asm        push   eax;
	__asm        mov    eax, endedge;
	__asm        push   eax;
	__asm        mov    eax, edge;
	__asm        push   eax;
	__asm        mov    eax, y_dir;
	__asm        push   eax;
	__asm        mov    eax, x_dir;
	__asm        push   eax;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        call   0x00510BEB;
	__asm        add    esp, 0x18;
// LINE 3702:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3703:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3704:
	__asm        add    fovcell, 8;
// LINE 3705:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x00510EDD;

	__asm        push   0x5B5B7C;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3707:
	__asm        mov    eax, x;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, y;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, cptr;
	__asm        cmp    [eax+ecx*4+0x67ED30], edx;
	__asm        jne    near ptr 0x00510F09;

	__asm        dec    y;
	__asm        jmp    near ptr 0x00510EDD;
// LINE 3708:
	__asm        inc    y;
// LINE 3710:
	__asm        jmp    near ptr 0x00510F50;
// LINE 3712:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 3713:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 3714:
	__asm        add    fovcell, 8;
// LINE 3715:
	__asm        mov    eax, fovcell;
	__asm        sub    eax, 0x609C50;
	__asm        and    eax, 0xFFFFFFF8;
	__asm        mov    ecx, 0x20000;
	__asm        and    ecx, 0xFFFFFFF8;
	__asm        cmp    eax, ecx;
	__asm        jl     near ptr 0x00510F50;

	__asm        push   0x5B5B8C;
	__asm        call   ERexit;
	__asm        add    esp, 4;
// LINE 3717:
	__asm        jmp    near ptr 0x00510DFB;
// LINE 3725:
	__asm        mov    eax, cellpos;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    eax, [ecx+eax*4+0x67ED30];
	__asm        mov    cptr, eax;
// LINE 3726:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0xFFF7;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx], ax;
// LINE 3727:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+8];
	__asm        cmp    eax, 1;
	__asm        jle    near ptr 0x00510FE9;

	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 1;
	__asm        je     near ptr 0x00510FE9;

	__asm        mov    eax, x;
	__asm        add    eax, x_dir;
	__asm        and    eax, 0xFF;
	__asm        shl    eax, 0xA;
	__asm        mov    ecx, cellpos;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, cptr;
	__asm        cmp    [eax+ecx*4+0x67ED30], edx;
	__asm        jne    near ptr 0x00510FE9;
// LINE 3729:
	__asm        lea    eax, fovcell;
	__asm        push   eax;
	__asm        mov    eax, endedge;
	__asm        push   eax;
	__asm        mov    eax, edge;
	__asm        push   eax;
	__asm        mov    eax, y_dir;
	__asm        push   eax;
	__asm        mov    eax, x_dir;
	__asm        push   eax;
	__asm        mov    eax, cellpos;
	__asm        push   eax;
	__asm        call   0x00510BEB;
	__asm        add    esp, 0x18;
// LINE 3732:
	__asm        mov    eax, fovcell;
	__asm        mov    ecx, curr_fovcell;
	__asm        mov    [ecx], eax;
// LINE 3735:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y_dir);
	__asm        movsx  ecx, reinterpret_cast<uint16_t>(cellpos);
	__asm        add    eax, ecx;
	__asm        mov    ecx, edge;
	__asm        mov    [ecx+4], eax;
// LINE 3736:
	__asm        mov    eax, edge;
	__asm        mov    eax, [eax+4];
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, edge;
	__asm        mov    ecx, [ecx];
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, cptr;
	__asm        cmp    [ecx+eax*4+0x67ED30], edx;
	__asm        jne    near ptr 0x00511039;

	__asm        movsx  eax, reinterpret_cast<uint16_t>(y_dir);
	__asm        mov    ecx, edge;
	__asm        add    [ecx+4], eax;
	__asm        jmp    near ptr 0x00511001;
// LINE 3738:
}

// FUNCTION: COPTER_D 0x0051103e
void S3CityDrawGrid() {
	long gy;
	struct _CELL_INFO** cptrptr;
	long deltac;
	long gx;
	long texid;
	short xdiff;
	struct Point2d* cellptr;
	short dist;
	struct _CELL_INFO*** caddr;
	long * sface;
	long coffset;
	short ydiff;

// LINE 3767:
	__asm        mov    eax, ds:[0x666384];
	__asm        mov    cptrptr, eax;
// LINE 3768:
	__asm        mov    eax, ds:[0x666374];
	__asm        mov    caddr, eax;
// LINE 3769:
	__asm        mov    dword ptr ds:[0x666390], 0;
// LINE 3770:
	__asm        mov    dword ptr ds:[0x598EA4], 0;
// LINE 3771:
	__asm        mov    dword ptr ds:[0x62A450], 0;
// LINE 3774:
	__asm        mov    cellptr, 0x609C50;
// LINE 3775:
	__asm        mov    dword ptr ds:[0x662870], 0;
// LINE 3776:
	__asm        mov    eax, ds:[0x666364];
	__asm        mov    sface, eax;
// LINE 3778:
	__asm        jmp    near ptr 0x00511097;

	__asm        add    cellptr, 8;
	__asm        mov    eax, cellptr;
	__asm        cmp    ds:[0x609BE8], eax;
	__asm        jb     near ptr 0x00511401;
// LINE 3781:
	__asm        mov    eax, cellptr;
	__asm        mov    eax, [eax];
	__asm        sub    eax, ds:[0x67ED28];
	__asm        mov    gx, eax;
// LINE 3782:
	__asm        mov    eax, cellptr;
	__asm        mov    eax, [eax+4];
	__asm        sub    eax, ds:[0x67ED2C];
	__asm        mov    gy, eax;
// LINE 3785:
	__asm        cmp    gx, 0;
	__asm        jl     near ptr 0x005110F3;

	__asm        mov    eax, ds:[0x6663A0];
	__asm        cmp    gx, eax;
	__asm        jge    near ptr 0x005110F3;

	__asm        cmp    gy, 0;
	__asm        jl     near ptr 0x005110F3;

	__asm        mov    eax, ds:[0x6663A0];
	__asm        cmp    gy, eax;
	__asm        jl     near ptr 0x005110F8;
// LINE 3786:
	__asm        jmp    near ptr 0x00511093;
// LINE 3789:
	__asm        mov    eax, cellptr;
	__asm        mov    eax, [eax+4];
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, cellptr;
	__asm        mov    ecx, [ecx];
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        lea    eax, [ecx+eax*4];
	__asm        add    eax, 0x67ED30;
	__asm        mov    ecx, caddr;
	__asm        mov    [ecx], eax;
// LINE 3790:
	__asm        mov    eax, caddr;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    ecx, cptrptr;
	__asm        mov    [ecx], eax;
// LINE 3792:
	__asm        mov    eax, cptrptr;
	__asm        mov    eax, [eax];
	__asm        push   eax;
	__asm        call   S3CityCellViewReject;
	__asm        add    esp, 4;
	__asm        cmp    eax, 1;
	__asm        jne    near ptr 0x0051114C;
// LINE 3794:
	__asm        inc    dword ptr ds:[0x598EA4];
// LINE 3795:
	__asm        jmp    near ptr 0x00511093;
// LINE 3798:
	__asm        mov    eax, cellptr;
	__asm        mov    eax, [eax+4];
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, cellptr;
	__asm        mov    ecx, [ecx];
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 8;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx+0x66EB10];
	__asm        mov    texid, edx;
// LINE 3799:
	__asm        cmp    texid, 0;
	__asm        je     near ptr 0x00511185;

	__asm        cmp    texid, 5;
	__asm        jne    near ptr 0x0051118D;
// LINE 3801:
	__asm        mov    eax, ds:[0x5B59F0];
	__asm        add    texid, eax;
// LINE 3803:
	__asm        mov    eax, texid;
	__asm        mov    eax, [eax*4+0x67EB20];
	__asm        mov    texid, eax;
// LINE 3805:
	__asm        cmp    dword ptr ds:[0x598E8C], 1;
	__asm        jne    near ptr 0x005111C8;
// LINE 3807:
	__asm        mov    eax, texid;
	__asm        push   eax;
	__asm        mov    eax, ds:[0x5B476C];
	__asm        push   eax;
	__asm        call   VRInt2BmpHdr;
	__asm        add    esp, 8;
	__asm        mov    texid, eax;
// LINE 3808:
	__asm        mov    deltac, 0;
// LINE 3810:
	__asm        jmp    near ptr 0x005111DE;
// LINE 3812:
	__asm        mov    eax, texid;
	__asm        push   eax;
	__asm        call   VRGetTexColor;
	__asm        add    esp, 4;
	__asm        mov    texid, eax;
// LINE 3813:
	__asm        mov    deltac, 1;
// LINE 3821:
	__asm        mov    eax, gy;
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*2];
	__asm        lea    eax, [eax+eax*8];
	__asm        lea    eax, [eax+eax*8];
	__asm        add    eax, ecx;
	__asm        mov    ecx, gx;
	__asm        mov    eax, [eax+ecx*4+0x662880];
	__asm        mov    coffset, eax;
// LINE 3823:
	__asm        mov    eax, coffset;
	__asm        mov    ecx, sface;
	__asm        mov    [ecx], eax;
// LINE 3824:
	__asm        mov    eax, texid;
	__asm        mov    ecx, sface;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx], eax;
// LINE 3826:
	__asm        add    sface, 4;
// LINE 3827:
	__asm        mov    eax, ds:[0x6662A8];
	__asm        add    eax, coffset;
	__asm        mov    ecx, sface;
	__asm        mov    [ecx], eax;
// LINE 3828:
	__asm        mov    eax, deltac;
	__asm        add    eax, texid;
	__asm        mov    ecx, sface;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx], eax;
// LINE 3830:
	__asm        add    sface, 4;
// LINE 3832:
	__asm        add    dword ptr ds:[0x662870], 2;
// LINE 3836:
	__asm        mov    eax, cptrptr;
	__asm        cmp    dword ptr [eax], 0;
	__asm        je     near ptr 0x005113EE;
// LINE 3839:
	__asm        mov    eax, cptrptr;
	__asm        mov    eax, [eax];
	__asm        mov    dword ptr [eax+0x14], 0;
// LINE 3840:
	__asm        mov    eax, cptrptr;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0xFFFB;
	__asm        mov    ecx, cptrptr;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx], ax;
// LINE 3842:
	__asm        mov    eax, cellptr;
	__asm        mov    eax, [eax];
	__asm        sub    eax, ds:[0x6BED30];
	__asm        mov    xdiff, ax;
// LINE 3843:
	__asm        mov    eax, cellptr;
	__asm        mov    eax, [eax+4];
	__asm        sub    eax, ds:[0x6BED34];
	__asm        mov    ydiff, ax;
// LINE 3844:
	__asm        movsx  eax, xdiff;
	__asm        test   eax, eax;
	__asm        jge    near ptr 0x00511298;

	__asm        movsx  eax, xdiff;
	__asm        neg    eax;
	__asm        mov    xdiff, ax;
// LINE 3845:
	__asm        movsx  eax, ydiff;
	__asm        test   eax, eax;
	__asm        jge    near ptr 0x005112AE;

	__asm        movsx  eax, ydiff;
	__asm        neg    eax;
	__asm        mov    ydiff, ax;
// LINE 3846:
	__asm        movsx  eax, ydiff;
	__asm        movsx  ecx, xdiff;
	__asm        cmp    eax, ecx;
	__asm        jge    near ptr 0x005112D2;
// LINE 3848:
	__asm        movsx  eax, xdiff;
	__asm        movsx  ecx, ydiff;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    dist, ax;
// LINE 3850:
	__asm        jmp    near ptr 0x005112E1;
// LINE 3852:
	__asm        movsx  eax, ydiff;
	__asm        movsx  ecx, xdiff;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    dist, ax;
// LINE 3854:
	__asm        mov    eax, cptrptr;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+8];
	__asm        mov    [ebp-0x34], eax;
	__asm        jmp    near ptr 0x005113CC;
// LINE 3857:
	__asm        movsx  eax, word ptr ds:[0x62A4D4];
	__asm        movsx  ecx, dist;
	__asm        cmp    eax, ecx;
	__asm        jge    near ptr 0x0051131D;
// LINE 3858:
	__asm        mov    eax, cptrptr;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax];
	__asm        or     eax, 2;
	__asm        mov    ecx, cptrptr;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx], ax;
// LINE 3859:
	__asm        jmp    near ptr 0x00511332;
// LINE 3860:
	__asm        mov    eax, cptrptr;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0xFFFD;
	__asm        mov    ecx, cptrptr;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx], ax;
// LINE 3861:
	__asm        jmp    near ptr 0x005113E5;
// LINE 3863:
	__asm        movsx  eax, word ptr ds:[0x62A4D4];
	__asm        add    eax, 9;
	__asm        movsx  ecx, dist;
	__asm        cmp    eax, ecx;
	__asm        jge    near ptr 0x00511365;
// LINE 3864:
	__asm        mov    eax, cptrptr;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax];
	__asm        or     eax, 2;
	__asm        mov    ecx, cptrptr;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx], ax;
// LINE 3865:
	__asm        jmp    near ptr 0x0051137A;
// LINE 3866:
	__asm        mov    eax, cptrptr;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0xFFFD;
	__asm        mov    ecx, cptrptr;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx], ax;
// LINE 3867:
	__asm        jmp    near ptr 0x005113E5;
// LINE 3869:
	__asm        movsx  eax, word ptr ds:[0x62A4D4];
	__asm        add    eax, 0xF;
	__asm        movsx  ecx, dist;
	__asm        cmp    eax, ecx;
	__asm        jge    near ptr 0x005113AD;
// LINE 3870:
	__asm        mov    eax, cptrptr;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax];
	__asm        or     eax, 2;
	__asm        mov    ecx, cptrptr;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx], ax;
// LINE 3871:
	__asm        jmp    near ptr 0x005113C2;
// LINE 3872:
	__asm        mov    eax, cptrptr;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0xFFFD;
	__asm        mov    ecx, cptrptr;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx], ax;
// LINE 3873:
	__asm        jmp    near ptr 0x005113E5;
// LINE 3874:
	__asm        jmp    near ptr 0x005113E5;

	__asm        cmp    dword ptr [ebp-0x34], 1;
	__asm        je     near ptr 0x005112F2;

	__asm        cmp    dword ptr [ebp-0x34], 2;
	__asm        je     near ptr 0x00511337;

	__asm        jmp    near ptr 0x0051137F;
// LINE 3875:
	__asm        mov    eax, cptrptr;
	__asm        mov    eax, [eax];
	__asm        inc    word ptr [eax+0xA];
// LINE 3877:
	__asm        add    cptrptr, 4;
// LINE 3878:
	__asm        add    caddr, 4;
// LINE 3879:
	__asm        inc    dword ptr ds:[0x666390];
// LINE 3880:
	__asm        jmp    near ptr 0x00511093;
// LINE 3883:
	__asm        mov    eax, ds:[0x5B4760];
	__asm        add    ds:[0x5B59F4], eax;
// LINE 3884:
	__asm        cmp    dword ptr ds:[0x5B59F4], 0xFA0;
	__asm        jle    near ptr 0x00511443;
// LINE 3886:
	__asm        mov    dword ptr ds:[0x5B59F4], 0;
// LINE 3887:
	__asm        inc    dword ptr ds:[0x5B59F0];
// LINE 3888:
	__asm        cmp    dword ptr ds:[0x5B59F0], 4;
	__asm        jle    near ptr 0x00511443;
// LINE 3890:
	__asm        mov    dword ptr ds:[0x5B59F0], 0;
// LINE 3896:
	__asm        cmp    dword ptr ds:[0x666390], 0;
	__asm        jne    near ptr 0x00511455;
// LINE 3897:
	__asm        jmp    near ptr 0x00511477;
// LINE 3904:
	__asm        sub    cptrptr, 4;
// LINE 3905:
	__asm        sub    caddr, 4;
// LINE 3906:
	__asm        mov    eax, caddr;
	__asm        push   eax;
	__asm        mov    eax, cptrptr;
	__asm        push   eax;
	__asm        call   S3CityDyObjFixup;
	__asm        add    esp, 8;
// LINE 3911:
	__asm        call   0x004E2090;
// LINE 3912:
	__asm        call   0x004D6AFC;
// LINE 3913:
}

// FUNCTION: COPTER_D 0x0051147c
void S3CityDyObjFixup(struct _CELL_INFO** endcptrptr, struct _CELL_INFO*** endcaddr) {
	struct _CELL_INFO** cptrptr1;
	struct VRview pos;
	long i;
	long y;
	struct _CELL_INFO** cptrptr2;
	long x;
	int32_t rad;
	struct _CELL_INFO*** caddr2;
	struct _CELL_INFO* cptr4;
	struct _CELL_INFO** cadd4;
	struct _CELL_INFO* cptr3;
	struct _CELL_INFO** cadd3;
	struct _CELL_INFO* cptr2;
	struct _CELL_INFO** cadd2;
	struct _CELL_INFO* cptr1;
	struct _CELL_INFO** cadd1;
	struct _DYOBJ_INST* dyobj;
	struct _DYOBJ_INST* tmpdyobj;
	struct _CELL_INFO*** caddr1;

// LINE 3970:
	__asm        mov    i, 0;
	__asm        mov    eax, endcptrptr;
	__asm        mov    cptrptr1, eax;
	__asm        mov    eax, endcaddr;
	__asm        mov    caddr1, eax;
	__asm        jmp    near ptr 0x005114B1;

	__asm        inc    i;
	__asm        sub    cptrptr1, 4;
	__asm        sub    caddr1, 4;
	__asm        mov    eax, ds:[0x666390];
	__asm        cmp    i, eax;
	__asm        jge    near ptr 0x00512159;
// LINE 3973:
	__asm        mov    eax, cptrptr1;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 4;
	__asm        je     near ptr 0x005114D7;
// LINE 3974:
	__asm        jmp    near ptr 0x005114A3;
// LINE 3977:
	__asm        mov    eax, cptrptr1;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax];
	__asm        or     eax, 4;
	__asm        mov    ecx, cptrptr1;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx], ax;
// LINE 3980:
	__asm        mov    eax, cptrptr1;
	__asm        mov    eax, [eax];
	__asm        cmp    dword ptr [eax+0x10], 0;
	__asm        jne    near ptr 0x00511507;
// LINE 3981:
	__asm        jmp    near ptr 0x005114A3;
// LINE 3987:
	__asm        mov    eax, cptrptr1;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax+0x10];
	__asm        mov    dyobj, eax;
// LINE 3988:
	__asm        cmp    dyobj, 0;
	__asm        je     near ptr 0x00512154;
// LINE 3991:
	__asm        mov    eax, dyobj;
	__asm        mov    dword ptr [eax+4], 0;
// LINE 3992:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        and    eax, 0xFFFD;
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+0xC], ax;
// LINE 4044:
	__asm        cmp    dword ptr ds:[0x6090A4], 1;
	__asm        jne    near ptr 0x005115C0;

	__asm        mov    eax, ds:[0x5B4968];
	__asm        mov    ecx, dyobj;
	__asm        cmp    [eax+0xA4], ecx;
	__asm        jne    near ptr 0x005115C0;
// LINE 4047:
	__asm        mov    eax, endcptrptr;
	__asm        mov    eax, [eax];
	__asm        mov    cptr1, eax;
// LINE 4048:
	__asm        mov    eax, cptr1;
	__asm        mov    ecx, dyobj;
	__asm        cmp    [eax+0x14], ecx;
	__asm        jne    near ptr 0x00511590;

	__asm        push   0xFD0;
	__asm        push   0x5B5B9C;
	__asm        push   0x5B5BBC;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    near ptr 0x00511595;

	__asm        jmp    near ptr 0x00511595;
// LINE 4049:
	__asm        mov    eax, cptr1;
	__asm        mov    eax, [eax+0x14];
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+4], eax;
// LINE 4050:
	__asm        mov    eax, dyobj;
	__asm        mov    ecx, cptr1;
	__asm        mov    [ecx+0x14], eax;
// LINE 4051:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        or     eax, 2;
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+0xC], ax;
// LINE 4052:
	__asm        jmp    near ptr 0x00511A59;
// LINE 4056:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax+0x10];
	__asm        mov    rad, eax;
// LINE 4057:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax+0x18];
	__asm        sub    eax, rad;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    x, eax;
// LINE 4058:
	__asm        mov    eax, 0x20000000;
	__asm        mov    ecx, dyobj;
	__asm        sub    eax, [ecx+0x20];
	__asm        sub    eax, rad;
	__asm        sar    eax, 0x16;
	__asm        mov    y, eax;
// LINE 4059:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        lea    eax, [ecx+eax*4];
	__asm        add    eax, 0x67ED30;
	__asm        mov    cadd1, eax;
// LINE 4060:
	__asm        mov    eax, cadd1;
	__asm        mov    eax, [eax];
	__asm        mov    cptr1, eax;
// LINE 4061:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax+0x18];
	__asm        add    eax, rad;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    x, eax;
// LINE 4062:
	__asm        mov    eax, 0x20000000;
	__asm        mov    ecx, dyobj;
	__asm        sub    eax, [ecx+0x20];
	__asm        sub    eax, rad;
	__asm        sar    eax, 0x16;
	__asm        mov    y, eax;
// LINE 4063:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        lea    eax, [ecx+eax*4];
	__asm        add    eax, 0x67ED30;
	__asm        mov    cadd2, eax;
// LINE 4064:
	__asm        mov    eax, cadd2;
	__asm        mov    eax, [eax];
	__asm        mov    cptr2, eax;
// LINE 4065:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax+0x18];
	__asm        sub    eax, rad;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    x, eax;
// LINE 4066:
	__asm        mov    eax, 0x20000000;
	__asm        mov    ecx, dyobj;
	__asm        sub    eax, [ecx+0x20];
	__asm        add    eax, rad;
	__asm        sar    eax, 0x16;
	__asm        mov    y, eax;
// LINE 4067:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        lea    eax, [ecx+eax*4];
	__asm        add    eax, 0x67ED30;
	__asm        mov    cadd3, eax;
// LINE 4068:
	__asm        mov    eax, cadd3;
	__asm        mov    eax, [eax];
	__asm        mov    cptr3, eax;
// LINE 4069:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax+0x18];
	__asm        add    eax, rad;
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    x, eax;
// LINE 4070:
	__asm        mov    eax, 0x20000000;
	__asm        mov    ecx, dyobj;
	__asm        sub    eax, [ecx+0x20];
	__asm        add    eax, rad;
	__asm        sar    eax, 0x16;
	__asm        mov    y, eax;
// LINE 4071:
	__asm        mov    eax, y;
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, x;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        lea    eax, [ecx+eax*4];
	__asm        add    eax, 0x67ED30;
	__asm        mov    cadd4, eax;
// LINE 4072:
	__asm        mov    eax, cadd4;
	__asm        mov    eax, [eax];
	__asm        mov    cptr4, eax;
// LINE 4075:
	__asm        mov    eax, cptr1;
	__asm        cmp    cptr2, eax;
	__asm        jne    near ptr 0x0051172E;

	__asm        mov    eax, cptr2;
	__asm        cmp    cptr3, eax;
	__asm        jne    near ptr 0x0051172E;

	__asm        mov    eax, cptr3;
	__asm        cmp    cptr4, eax;
	__asm        jne    near ptr 0x0051172E;
// LINE 4079:
	__asm        jmp    near ptr 0x00511A59;
// LINE 4086:
	__asm        mov    eax, endcptrptr;
	__asm        mov    cptrptr2, eax;
	__asm        mov    eax, endcaddr;
	__asm        mov    caddr2, eax;
	__asm        jmp    near ptr 0x00511747;

	__asm        sub    cptrptr2, 4;
	__asm        sub    caddr2, 4;
	__asm        mov    eax, cptrptr1;
	__asm        cmp    cptrptr2, eax;
	__asm        jbe    near ptr 0x00511A59;
// LINE 4088:
	__asm        mov    eax, cptrptr2;
	__asm        mov    ecx, cptrptr1;
	__asm        mov    ecx, [ecx];
	__asm        cmp    [eax], ecx;
	__asm        je     near ptr 0x00511A54;
// LINE 4090:
	__asm        mov    eax, cptrptr2;
	__asm        mov    ecx, cptr1;
	__asm        cmp    [eax], ecx;
	__asm        jne    near ptr 0x00511825;
// LINE 4097:
	__asm        mov    eax, cptrptr2;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xA];
	__asm        cmp    eax, 1;
	__asm        jle    near ptr 0x005117C5;

	__asm        mov    eax, cptrptr2;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 1;
	__asm        jne    near ptr 0x005117C5;

	__asm        lea    eax, cptr1;
	__asm        push   eax;
	__asm        mov    eax, cadd1;
	__asm        push   eax;
	__asm        mov    eax, caddr1;
	__asm        push   eax;
	__asm        mov    eax, caddr2;
	__asm        push   eax;
	__asm        call   S3CityCellInFront;
	__asm        add    esp, 0x10;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x005117C5;
// LINE 4099:
	__asm        mov    cptr1, 0;
// LINE 4100:
	__asm        jmp    near ptr 0x0051173F;
// LINE 4104:
	__asm        mov    eax, cptr1;
	__asm        mov    ecx, dyobj;
	__asm        cmp    [eax+0x14], ecx;
	__asm        jne    near ptr 0x005117F0;

	__asm        push   0x1008;
	__asm        push   0x5B5BD4;
	__asm        push   0x5B5BF4;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    near ptr 0x005117F5;

	__asm        jmp    near ptr 0x005117F5;
// LINE 4105:
	__asm        mov    eax, cptr1;
	__asm        mov    eax, [eax+0x14];
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+4], eax;
// LINE 4106:
	__asm        mov    eax, dyobj;
	__asm        mov    ecx, cptr1;
	__asm        mov    [ecx+0x14], eax;
// LINE 4107:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        or     eax, 2;
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+0xC], ax;
// LINE 4108:
	__asm        jmp    near ptr 0x00511A59;
// LINE 4110:
	__asm        jmp    near ptr 0x00511A54;

	__asm        mov    eax, cptrptr2;
	__asm        mov    ecx, cptr2;
	__asm        cmp    [eax], ecx;
	__asm        jne    near ptr 0x005118E1;
// LINE 4117:
	__asm        mov    eax, cptrptr2;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xA];
	__asm        cmp    eax, 1;
	__asm        jle    near ptr 0x00511881;

	__asm        mov    eax, cptrptr2;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 1;
	__asm        jne    near ptr 0x00511881;

	__asm        lea    eax, cptr2;
	__asm        push   eax;
	__asm        mov    eax, cadd2;
	__asm        push   eax;
	__asm        mov    eax, caddr1;
	__asm        push   eax;
	__asm        mov    eax, caddr2;
	__asm        push   eax;
	__asm        call   S3CityCellInFront;
	__asm        add    esp, 0x10;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x00511881;
// LINE 4119:
	__asm        mov    cptr2, 0;
// LINE 4120:
	__asm        jmp    near ptr 0x0051173F;
// LINE 4124:
	__asm        mov    eax, cptr2;
	__asm        mov    ecx, dyobj;
	__asm        cmp    [eax+0x14], ecx;
	__asm        jne    near ptr 0x005118AC;

	__asm        push   0x101C;
	__asm        push   0x5B5C0C;
	__asm        push   0x5B5C2C;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    near ptr 0x005118B1;

	__asm        jmp    near ptr 0x005118B1;
// LINE 4125:
	__asm        mov    eax, cptr2;
	__asm        mov    eax, [eax+0x14];
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+4], eax;
// LINE 4126:
	__asm        mov    eax, dyobj;
	__asm        mov    ecx, cptr2;
	__asm        mov    [ecx+0x14], eax;
// LINE 4127:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        or     eax, 2;
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+0xC], ax;
// LINE 4128:
	__asm        jmp    near ptr 0x00511A59;
// LINE 4130:
	__asm        jmp    near ptr 0x00511A54;

	__asm        mov    eax, cptrptr2;
	__asm        mov    ecx, cptr3;
	__asm        cmp    [eax], ecx;
	__asm        jne    near ptr 0x0051199D;
// LINE 4137:
	__asm        mov    eax, cptrptr2;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xA];
	__asm        cmp    eax, 1;
	__asm        jle    near ptr 0x0051193D;

	__asm        mov    eax, cptrptr2;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 1;
	__asm        jne    near ptr 0x0051193D;

	__asm        lea    eax, cptr3;
	__asm        push   eax;
	__asm        mov    eax, cadd3;
	__asm        push   eax;
	__asm        mov    eax, caddr1;
	__asm        push   eax;
	__asm        mov    eax, caddr2;
	__asm        push   eax;
	__asm        call   S3CityCellInFront;
	__asm        add    esp, 0x10;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x0051193D;
// LINE 4139:
	__asm        mov    cptr3, 0;
// LINE 4140:
	__asm        jmp    near ptr 0x0051173F;
// LINE 4144:
	__asm        mov    eax, cptr3;
	__asm        mov    ecx, dyobj;
	__asm        cmp    [eax+0x14], ecx;
	__asm        jne    near ptr 0x00511968;

	__asm        push   0x1030;
	__asm        push   0x5B5C44;
	__asm        push   0x5B5C64;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    near ptr 0x0051196D;

	__asm        jmp    near ptr 0x0051196D;
// LINE 4145:
	__asm        mov    eax, cptr3;
	__asm        mov    eax, [eax+0x14];
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+4], eax;
// LINE 4146:
	__asm        mov    eax, dyobj;
	__asm        mov    ecx, cptr3;
	__asm        mov    [ecx+0x14], eax;
// LINE 4147:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        or     eax, 2;
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+0xC], ax;
// LINE 4148:
	__asm        jmp    near ptr 0x00511A59;
// LINE 4150:
	__asm        jmp    near ptr 0x00511A54;

	__asm        mov    eax, cptrptr2;
	__asm        mov    ecx, cptr4;
	__asm        cmp    [eax], ecx;
	__asm        jne    near ptr 0x00511A54;
// LINE 4157:
	__asm        mov    eax, cptrptr2;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xA];
	__asm        cmp    eax, 1;
	__asm        jle    near ptr 0x005119F9;

	__asm        mov    eax, cptrptr2;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 1;
	__asm        jne    near ptr 0x005119F9;

	__asm        lea    eax, cptr4;
	__asm        push   eax;
	__asm        mov    eax, cadd4;
	__asm        push   eax;
	__asm        mov    eax, caddr1;
	__asm        push   eax;
	__asm        mov    eax, caddr2;
	__asm        push   eax;
	__asm        call   S3CityCellInFront;
	__asm        add    esp, 0x10;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x005119F9;
// LINE 4159:
	__asm        mov    cptr4, 0;
// LINE 4160:
	__asm        jmp    near ptr 0x0051173F;
// LINE 4164:
	__asm        mov    eax, cptr4;
	__asm        mov    ecx, dyobj;
	__asm        cmp    [eax+0x14], ecx;
	__asm        jne    near ptr 0x00511A24;

	__asm        push   0x1044;
	__asm        push   0x5B5C7C;
	__asm        push   0x5B5C9C;
	__asm        call   _assert;
	__asm        add    esp, 0xC;
	__asm        jmp    near ptr 0x00511A29;

	__asm        jmp    near ptr 0x00511A29;
// LINE 4165:
	__asm        mov    eax, cptr4;
	__asm        mov    eax, [eax+0x14];
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+4], eax;
// LINE 4166:
	__asm        mov    eax, dyobj;
	__asm        mov    ecx, cptr4;
	__asm        mov    [ecx+0x14], eax;
// LINE 4167:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        or     eax, 2;
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+0xC], ax;
// LINE 4168:
	__asm        jmp    near ptr 0x00511A59;
// LINE 4171:
	__asm        jmp    near ptr 0x0051173F;
// LINE 4181:
next_dyobj:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 4;
	__asm        je     near ptr 0x005120F3;
// LINE 4185:
	__asm        cmp    dword ptr ds:[0x5B59E4], 1;
	__asm        jne    near ptr 0x00511E49;
// LINE 4187:
	__asm        mov    eax, dyobj;
	__asm        add    eax, 0x18;
	__asm        lea    ecx, pos.loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4188:
	__asm        mov    esi, dyobj;
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 4189:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 4190:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, pos.loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4191:
	__asm        mov    eax, dyobj;
	__asm        mov    esi, [eax];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 4192:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 4193:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, pos.loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4194:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    esi, [eax];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 4195:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 4196:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, pos.loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4197:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    esi, [eax];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 4198:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 4199:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, pos.loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4200:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    esi, [eax];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 4201:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 4202:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, pos.loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4203:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    esi, [eax];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 4204:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 4205:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, pos.loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4206:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    esi, [eax];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 4207:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 4208:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, pos.loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4209:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    esi, [eax];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 4210:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 4211:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, pos.loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4212:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    esi, [eax];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 4213:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 4214:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        add    eax, 0x18;
	__asm        lea    ecx, pos.loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4215:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    esi, [eax];
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 4216:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 4224:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax+4];
	__asm        mov    tmpdyobj, eax;
// LINE 4226:
	__asm        mov    eax, dyobj;
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        test   al, 2;
	__asm        je     near ptr 0x00511FD7;
// LINE 4228:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        or     eax, 2;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4229:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+4], eax;
// LINE 4231:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4232:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        or     eax, 2;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4233:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+4], eax;
// LINE 4235:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4236:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        or     eax, 2;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4237:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+4], eax;
// LINE 4239:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4240:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        or     eax, 2;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4241:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+4], eax;
// LINE 4243:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4244:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        or     eax, 2;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4245:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+4], eax;
// LINE 4247:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4248:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        or     eax, 2;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4249:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+4], eax;
// LINE 4251:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4252:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        or     eax, 2;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4253:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+4], eax;
// LINE 4255:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4256:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        or     eax, 2;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4257:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+4], eax;
// LINE 4259:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4260:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        or     eax, 2;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4261:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+4], eax;
// LINE 4263:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4264:
	__asm        mov    eax, tmpdyobj;
	__asm        mov    ecx, dyobj;
	__asm        mov    [ecx+4], eax;
// LINE 4266:
	__asm        jmp    near ptr 0x005120EE;
// LINE 4268:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        and    eax, 0xFFFD;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4269:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4270:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        and    eax, 0xFFFD;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4271:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4272:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        and    eax, 0xFFFD;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4273:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4274:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        and    eax, 0xFFFD;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4275:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4276:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        and    eax, 0xFFFD;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4277:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4278:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        and    eax, 0xFFFD;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4279:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4280:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        and    eax, 0xFFFD;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4281:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4282:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        and    eax, 0xFFFD;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4283:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4284:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        movsx  eax, word ptr [eax+0xC];
	__asm        and    eax, 0xFFFD;
	__asm        mov    ecx, dyobj;
	__asm        mov    ecx, [ecx];
	__asm        mov    [ecx+0xC], ax;
// LINE 4285:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4291:
	__asm        jmp    near ptr 0x00512147;

	__asm        cmp    dword ptr ds:[0x5B59E4], 1;
	__asm        jne    near ptr 0x00512147;
// LINE 4293:
	__asm        mov    eax, dyobj;
	__asm        add    eax, 0x18;
	__asm        lea    ecx, pos.loc.x;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4294:
	__asm        mov    esi, dyobj;
	__asm        lea    edi, pos.matrix[0][0];
	__asm        add    esi, 0x24;
	__asm        mov    ecx, 0x10;
	__asm        rep movsd;
// LINE 4295:
	__asm        push   3;
	__asm        lea    eax, pos.loc.x;
	__asm        push   eax;
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   0x004D8781;
	__asm        add    esp, 0xC;
// LINE 4298:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4299:
	__asm        jmp    near ptr 0x00511515;
// LINE 4300:
	__asm        jmp    near ptr 0x005114A3;
// LINE 4301:
}

// FUNCTION: COPTER_D 0x0051215e
int32_t S3CityCellInFront(struct _CELL_INFO*** caddr2, struct _CELL_INFO*** caddr1, struct _CELL_INFO** caddrtest, struct _CELL_INFO** cptrreplace) {
	long i;
	struct _CELL_INFO*** caddr;

// LINE 4318:
	__asm        mov    eax, caddr2;
	__asm        mov    caddr, eax;
// LINE 4320:
	__asm        mov    eax, caddr1;
	__asm        cmp    caddr, eax;
	__asm        jbe    near ptr 0x00512212;
// LINE 4322:
	__asm        mov    eax, caddr;
	__asm        mov    ecx, caddrtest;
	__asm        cmp    [eax], ecx;
	__asm        jne    near ptr 0x00512209;
// LINE 4324:
	__asm        cmp    dword ptr ds:[0x62A450], 0x1E;
	__asm        jge    near ptr 0x005121FF;
// LINE 4326:
	__asm        mov    eax, ds:[0x62A450];
	__asm        lea    eax, [eax+eax*2];
	__asm        lea    eax, [eax*8+0x609918];
	__asm        mov    ecx, cptrreplace;
	__asm        mov    [ecx], eax;
	__asm        inc    dword ptr ds:[0x62A450];
// LINE 4327:
	__asm        mov    eax, cptrreplace;
	__asm        mov    eax, [eax];
	__asm        mov    dword ptr [eax+0x14], 0;
// LINE 4328:
	__asm        mov    eax, cptrreplace;
	__asm        mov    eax, [eax];
	__asm        mov    word ptr [eax+0xA], 1;
// LINE 4329:
	__asm        mov    eax, caddrtest;
	__asm        mov    eax, [eax];
	__asm        dec    word ptr [eax+0xA];
// LINE 4330:
	__asm        mov    eax, caddr;
	__asm        sub    eax, ds:[0x666374];
	__asm        sar    eax, 2;
	__asm        mov    i, eax;
// LINE 4331:
	__asm        mov    eax, cptrreplace;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, i;
	__asm        mov    edx, ds:[0x666384];
	__asm        mov    [edx+ecx*4], eax;
// LINE 4332:
	__asm        mov    eax, i;
	__asm        shl    eax, 2;
	__asm        add    eax, ds:[0x666384];
	__asm        mov    ecx, caddr;
	__asm        mov    [ecx], eax;
// LINE 4334:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x00512219;
// LINE 4336:
	__asm        sub    caddr, 4;
// LINE 4337:
	__asm        jmp    near ptr 0x0051216D;
// LINE 4339:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x00512219;
// LINE 4340:
}

// FUNCTION: COPTER_D 0x0051221e
void S3CityCheckGridPos() {
	long altdiff;
	long xdiff;
	long gsize;
	long ydiff;

// LINE 4360:
	__asm        mov    eax, ds:[0x6C126C];
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    ds:[0x6BED30], eax;
// LINE 4361:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, ds:[0x6C1274];
	__asm        sar    eax, 0x16;
	__asm        mov    ds:[0x6BED34], eax;
// LINE 4364:
	__asm        mov    eax, ds:[0x6C1270];
	__asm        sar    eax, 0x10;
	__asm        mov    edx, ds:[0x6BED34];
	__asm        and    edx, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    edx, cl;
	__asm        mov    ecx, ds:[0x6BED30];
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    edx, [ecx+edx*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [edx+ecx];
	__asm        sub    eax, ebx;
	__asm        mov    altdiff, eax;
// LINE 4365:
	__asm        xor    eax, eax;
	__asm        sub    eax, ds:[0x5B59D0];
	__asm        neg    eax;
	__asm        sub    altdiff, eax;
// LINE 4366:
	__asm        mov    eax, altdiff;
	__asm        add    ds:[0x5B59D0], eax;
// LINE 4368:
	__asm        cmp    dword ptr ds:[0x5B59D0], 0x64;
	__asm        jge    near ptr 0x005122BB;
// LINE 4369:
	__asm        mov    word ptr ds:[0x62A4D4], 0xA;
// LINE 4370:
	__asm        jmp    near ptr 0x005122E2;

	__asm        cmp    dword ptr ds:[0x5B59D0], 0xA0;
	__asm        jge    near ptr 0x005122D9;
// LINE 4371:
	__asm        mov    word ptr ds:[0x62A4D4], 0xE;
// LINE 4372:
	__asm        jmp    near ptr 0x005122E2;
// LINE 4373:
	__asm        mov    word ptr ds:[0x62A4D4], 0x10;
// LINE 4375:
	__asm        cmp    altdiff, 0;
	__asm        jge    near ptr 0x00512301;
// LINE 4377:
	__asm        inc    dword ptr ds:[0x5B59D8];
// LINE 4378:
	__asm        mov    dword ptr ds:[0x5B59DC], 0;
// LINE 4380:
	__asm        jmp    near ptr 0x00512334;

	__asm        cmp    altdiff, 0;
	__asm        jle    near ptr 0x00512320;
// LINE 4382:
	__asm        inc    dword ptr ds:[0x5B59DC];
// LINE 4383:
	__asm        mov    dword ptr ds:[0x5B59D8], 0;
// LINE 4385:
	__asm        jmp    near ptr 0x00512334;
// LINE 4387:
	__asm        mov    dword ptr ds:[0x5B59D8], 0;
// LINE 4388:
	__asm        mov    dword ptr ds:[0x5B59DC], 0;
// LINE 4392:
	__asm        mov    ecx, 0x28;
	__asm        mov    eax, ds:[0x5B59D0];
	__asm        cdq;
	__asm        idiv   ecx;
	__asm        add    eax, eax;
	__asm        add    eax, 0x11;
	__asm        mov    gsize, eax;
// LINE 4393:
	__asm        cmp    gsize, 0x11;
	__asm        jge    near ptr 0x0051235A;

	__asm        mov    gsize, 0x11;
// LINE 4394:
	__asm        cmp    gsize, 0x3D;
	__asm        jle    near ptr 0x0051236B;

	__asm        mov    gsize, 0x3D;
// LINE 4398:
	__asm        cmp    dword ptr ds:[0x598EA8], 0;
	__asm        jne    near ptr 0x00512380;
// LINE 4399:
	__asm        mov    eax, ds:[0x5B59D4];
	__asm        mov    gsize, eax;
// LINE 4405:
	__asm        mov    eax, ds:[0x6BED30];
	__asm        sub    eax, ds:[0x62A4F8];
	__asm        mov    xdiff, eax;
// LINE 4406:
	__asm        mov    eax, ds:[0x6BED34];
	__asm        sub    eax, ds:[0x62A4FC];
	__asm        mov    ydiff, eax;
// LINE 4412:
	__asm        cmp    dword ptr ds:[0x598E5C], 1;
	__asm        jne    near ptr 0x005123B3;
// LINE 4413:
	__asm        call   S3TerrMorphWater;
	__asm        mov    ds:[0x5B59E8], eax;
// LINE 4415:
	__asm        mov    eax, ds:[0x5B59D4];
	__asm        cmp    gsize, eax;
	__asm        je     near ptr 0x0051248B;

	__asm        cmp    dword ptr ds:[0x5B59DC], 0xA;
	__asm        jg     near ptr 0x005123DB;

	__asm        cmp    dword ptr ds:[0x5B59D8], 0xA;
	__asm        jle    near ptr 0x0051248B;
// LINE 4417:
	__asm        mov    dword ptr ds:[0x5B59D8], 0;
// LINE 4418:
	__asm        mov    dword ptr ds:[0x5B59DC], 0;
// LINE 4419:
	__asm        mov    eax, gsize;
	__asm        push   eax;
	__asm        call   VRInitGridObj;
	__asm        add    esp, 4;
// LINE 4420:
	__asm        mov    eax, ds:[0x6663A0];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        sub    eax, 3;
	__asm        shl    eax, 0x16;
	__asm        push   eax;
	__asm        call   VRSetBackPlane;
	__asm        add    esp, 4;
// LINE 4421:
	__asm        mov    eax, ds:[0x6BED30];
	__asm        mov    ecx, ds:[0x6663A0];
	__asm        sar    ecx, 1;
	__asm        sub    eax, ecx;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x67ED28], eax;
// LINE 4422:
	__asm        mov    eax, ds:[0x6BED34];
	__asm        mov    ecx, ds:[0x6663A0];
	__asm        sar    ecx, 1;
	__asm        sub    eax, ecx;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x67ED2C], eax;
// LINE 4423:
	__asm        call   S3TerrSetGridObj;
// LINE 4424:
	__asm        mov    eax, ds:[0x6BED30];
	__asm        mov    ecx, ds:[0x6BED34];
	__asm        mov    ds:[0x62A4F8], eax;
	__asm        mov    ds:[0x62A4FC], ecx;
// LINE 4425:
	__asm        mov    eax, gsize;
	__asm        mov    ds:[0x5B59D4], eax;
// LINE 4427:
	__asm        mov    eax, xdiff;
	__asm        shl    eax, 0x16;
	__asm        add    ds:[0x666300], eax;
// LINE 4428:
	__asm        xor    eax, eax;
	__asm        mov    ecx, ydiff;
	__asm        shl    ecx, 0x16;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        sub    ds:[0x666308], eax;
// LINE 4430:
	__asm        jmp    near ptr 0x005124F9;

	__asm        cmp    xdiff, 0;
	__asm        jne    near ptr 0x005124AC;

	__asm        cmp    ydiff, 0;
	__asm        jne    near ptr 0x005124AC;

	__asm        cmp    dword ptr ds:[0x5B59E8], 1;
	__asm        jne    near ptr 0x005124F9;
// LINE 4432:
	__asm        mov    eax, ds:[0x6BED30];
	__asm        mov    ecx, ds:[0x6BED34];
	__asm        mov    ds:[0x62A4F8], eax;
	__asm        mov    ds:[0x62A4FC], ecx;
// LINE 4433:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(xdiff);
	__asm        add    ds:[0x67ED28], eax;
// LINE 4434:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(ydiff);
	__asm        add    ds:[0x67ED2C], eax;
// LINE 4435:
	__asm        call   S3TerrSetGridObj;
// LINE 4437:
	__asm        mov    eax, xdiff;
	__asm        shl    eax, 0x16;
	__asm        add    ds:[0x666300], eax;
// LINE 4438:
	__asm        xor    eax, eax;
	__asm        mov    ecx, ydiff;
	__asm        shl    ecx, 0x16;
	__asm        sub    eax, ecx;
	__asm        neg    eax;
	__asm        sub    ds:[0x666308], eax;
// LINE 4440:
}

// FUNCTION: COPTER_D 0x005124fe
void S3CitySpiralScan(long x, long y, long spiral_dist) {
	struct Point2d* fovcell;
	int32_t stop_now;
	long curr_dir;
	long i;
	long curr_dist;
	long ydir;
	long xdir;

// LINE 4456:
	__asm        mov    curr_dist, 0;
// LINE 4457:
	__asm        mov    curr_dir, 0xFFFFFFFF;
// LINE 4459:
	__asm        mov    stop_now, 0;
// LINE 4465:
	__asm        mov    eax, spiral_dist;
	__asm        imul   eax, spiral_dist;
	__asm        lea    eax, [eax*8+0x609C50];
	__asm        sub    eax, 8;
	__asm        mov    ds:[0x609BE8], eax;
	__asm        mov    eax, ds:[0x609BE8];
	__asm        mov    fovcell, eax;
// LINE 4470:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 4471:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 4472:
	__asm        sub    fovcell, 8;
// LINE 4478:
	__asm        inc    curr_dir;
// LINE 4479:
	__asm        mov    eax, curr_dir;
	__asm        mov    [ebp-0x20], eax;
	__asm        jmp    near ptr 0x005125BD;
// LINE 4483:
	__asm        mov    curr_dir, 0;
// LINE 4484:
	__asm        inc    curr_dist;
// LINE 4485:
	__asm        mov    xdir, 0;
// LINE 4486:
	__asm        mov    ydir, 0xFFFFFFFF;
// LINE 4487:
	__asm        jmp    near ptr 0x005125E5;
// LINE 4489:
	__asm        mov    xdir, 1;
// LINE 4490:
	__asm        mov    ydir, 0;
// LINE 4491:
	__asm        jmp    near ptr 0x005125E5;
// LINE 4493:
	__asm        inc    curr_dist;
// LINE 4494:
	__asm        mov    xdir, 0;
// LINE 4495:
	__asm        mov    ydir, 1;
// LINE 4496:
	__asm        jmp    near ptr 0x005125E5;
// LINE 4498:
	__asm        mov    xdir, 0xFFFFFFFF;
// LINE 4499:
	__asm        mov    ydir, 0;
// LINE 4500:
	__asm        jmp    near ptr 0x005125E5;
// LINE 4501:
	__asm        jmp    near ptr 0x005125E5;

	__asm        cmp    dword ptr [ebp-0x20], 4;
	__asm        ja     near ptr 0x005125E5;

	__asm        mov    eax, [ebp-0x20];
	__asm        jmp    dword ptr [eax*4+0x5125D1];
// Switch pointers
// LINE 4505:
	__asm        mov    eax, spiral_dist;
	__asm        cmp    curr_dist, eax;
	__asm        jne    near ptr 0x005125FB;
// LINE 4507:
	__asm        dec    curr_dist;
// LINE 4508:
	__asm        mov    stop_now, 1;
// LINE 4512:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x0051260A;

	__asm        inc    i;
	__asm        mov    eax, i;
	__asm        cmp    curr_dist, eax;
	__asm        jle    near ptr 0x00512657;
// LINE 4514:
	__asm        mov    eax, xdir;
	__asm        add    x, eax;
// LINE 4515:
	__asm        mov    eax, ydir;
	__asm        add    y, eax;
// LINE 4516:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx], eax;
// LINE 4517:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ecx, fovcell;
	__asm        mov    [ecx+4], eax;
// LINE 4518:
	__asm        sub    fovcell, 8;
// LINE 4520:
	__asm        cmp    fovcell, 0x609C50;
	__asm        jae    near ptr 0x00512652;
// LINE 4522:
	__asm        mov    stop_now, 1;
// LINE 4523:
	__asm        jmp    near ptr 0x00512657;
// LINE 4525:
	__asm        jmp    near ptr 0x00512607;
// LINE 4527:
	__asm        cmp    stop_now, 1;
	__asm        jne    near ptr 0x00512666;
// LINE 4528:
	__asm        jmp    near ptr 0x0051266B;
// LINE 4529:
	__asm        jmp    near ptr 0x00512551;
// LINE 4530:
}

// FUNCTION: COPTER_D 0x00512670
int32_t S3CityCellViewReject(struct _CELL_INFO* cptr) {
	struct Point3d pos;
	struct Point3d vpos;
	int32_t dotp;
	int32_t oradius;
	int32_t farz;
	long sradius;
	struct _DYOBJ_INST* dyobj;
	int32_t maxobjy;
	int32_t wradius;

// LINE 4745:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+8];
	__asm        cmp    eax, 0x10;
	__asm        jne    near ptr 0x0051269D;

	__asm        cmp    dword ptr ds:[0x6090A4], 0;
	__asm        jne    near ptr 0x0051269D;
// LINE 4746:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x0051295C;
// LINE 4749:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 8;
	__asm        je     near ptr 0x005126CF;
// LINE 4752:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        test   al, 0x10;
	__asm        je     near ptr 0x005126C8;
// LINE 4753:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x0051295C;
// LINE 4754:
	__asm        jmp    near ptr 0x005126CF;
// LINE 4755:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x0051295C;
// LINE 4759:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax];
	__asm        and    eax, 0xFFEF;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx], ax;
// LINE 4763:
	__asm        cmp    dword ptr ds:[0x5B4968], 0;
	__asm        je     near ptr 0x00512723;
// LINE 4765:
	__asm        mov    eax, ds:[0x5B4968];
	__asm        mov    eax, [eax+0x1C];
	__asm        and    eax, 0xFF;
	__asm        mov    ecx, ds:[0x5B4968];
	__asm        mov    ecx, [ecx+0x18];
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, cptr;
	__asm        cmp    [ecx+eax*4+0x67ED30], edx;
	__asm        jne    near ptr 0x00512723;
// LINE 4766:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x0051295C;
// LINE 4769:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+2];
	__asm        shl    eax, 0x10;
	__asm        mov    pos.x, eax;
// LINE 4770:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+4];
	__asm        shl    eax, 0x10;
	__asm        mov    pos.y, eax;
// LINE 4771:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+6];
	__asm        shl    eax, 0x10;
	__asm        mov    pos.z, eax;
// LINE 4774:
	__asm        mov    eax, 0x59D220;
	__asm        add    eax, 0x18;
	__asm        push   eax;
	__asm        lea    eax, vpos.x;
	__asm        push   eax;
	__asm        lea    eax, pos.x;
	__asm        push   eax;
	__asm        call   0x004D2094;
	__asm        add    esp, 0xC;
// LINE 4786:
	__asm        mov    eax, cptr;
	__asm        movsx  eax, word ptr [eax+8];
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [eax+eax*4];
	__asm        shl    eax, 0x11;
	__asm        mov    wradius, eax;
// LINE 4789:
	__asm        call   0x004D7B7D;
	__asm        mov    farz, eax;
// LINE 4790:
	__asm        mov    eax, vpos.z;
	__asm        sub    eax, wradius;
	__asm        cmp    eax, farz;
	__asm        jle    near ptr 0x00512797;
// LINE 4791:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x0051295C;
// LINE 4795:
	__asm        mov    eax, vpos.x;
	__asm        add    eax, wradius;
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6663C0];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ebx, eax;
	__asm        mov    eax, vpos.z;
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6663C8];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        add    ebx, eax;
	__asm        mov    dotp, ebx;
// LINE 4799:
	__asm        cmp    dotp, 0xFFFFFF9C;
	__asm        jge    near ptr 0x005127D9;
// LINE 4800:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x0051295C;
// LINE 4804:
	__asm        mov    eax, vpos.x;
	__asm        sub    eax, wradius;
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6663D0];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ebx, eax;
	__asm        mov    eax, vpos.z;
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6663D8];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        add    ebx, eax;
	__asm        mov    dotp, ebx;
// LINE 4808:
	__asm        cmp    dotp, 0xFFFFFF9C;
	__asm        jge    near ptr 0x0051281B;
// LINE 4809:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x0051295C;
// LINE 4813:
	__asm        mov    eax, vpos.y;
	__asm        sub    eax, wradius;
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6663B4];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ebx, eax;
	__asm        mov    eax, vpos.z;
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6663B8];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        add    ebx, eax;
	__asm        mov    dotp, ebx;
// LINE 4817:
	__asm        cmp    dotp, 0xFFFFFF9C;
	__asm        jge    near ptr 0x0051285D;
// LINE 4818:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x0051295C;
// LINE 4828:
	__asm        cmp    dword ptr ds:[0x5B59D0], 0x28;
	__asm        jge    near ptr 0x00512871;
// LINE 4829:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x0051295C;
// LINE 4832:
	__asm        mov    eax, cptr;
	__asm        mov    eax, [eax+0x10];
	__asm        mov    dyobj, eax;
// LINE 4833:
	__asm        mov    maxobjy, 0;
// LINE 4834:
	__asm        cmp    dyobj, 0;
	__asm        je     near ptr 0x005128B0;
// LINE 4836:
	__asm        mov    eax, dyobj;
	__asm        mov    ecx, maxobjy;
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jle    near ptr 0x005128A3;
// LINE 4837:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax+0x1C];
	__asm        mov    maxobjy, eax;
// LINE 4839:
	__asm        mov    eax, dyobj;
	__asm        mov    eax, [eax];
	__asm        mov    dyobj, eax;
// LINE 4840:
	__asm        jmp    near ptr 0x00512881;
// LINE 4843:
	__asm        mov    eax, maxobjy;
	__asm        sub    eax, pos.y;
	__asm        mov    oradius, eax;
// LINE 4848:
	__asm        mov    eax, cptr;
	__asm        push   eax;
	__asm        call   S3HeliHighestBuildAlt;
	__asm        add    esp, 4;
	__asm        mov    sradius, eax;
// LINE 4849:
	__asm        mov    eax, sradius;
	__asm        cmp    wradius, eax;
	__asm        jge    near ptr 0x005128DF;
// LINE 4850:
	__asm        mov    eax, sradius;
	__asm        mov    wradius, eax;
// LINE 4851:
	__asm        jmp    near ptr 0x005128E6;
// LINE 4854:
	__asm        add    wradius, 0x180000;
// LINE 4856:
	__asm        mov    eax, oradius;
	__asm        cmp    wradius, eax;
	__asm        jge    near ptr 0x005128F8;
// LINE 4857:
	__asm        mov    eax, oradius;
	__asm        mov    wradius, eax;
// LINE 4860:
	__asm        mov    eax, vpos.z;
	__asm        add    eax, wradius;
	__asm        cmp    eax, 0x10000;
	__asm        jge    near ptr 0x00512913;
// LINE 4861:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x0051295C;
// LINE 4867:
	__asm        mov    eax, vpos.y;
	__asm        add    eax, wradius;
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6663E4];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        mov    ebx, eax;
	__asm        mov    eax, vpos.z;
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6663E8];
	__asm        push   eax;
	__asm        call   0x004D19BD;
	__asm        add    esp, 8;
	__asm        add    ebx, eax;
	__asm        mov    dotp, ebx;
// LINE 4871:
	__asm        cmp    dotp, 0xFFFFFF9C;
	__asm        jge    near ptr 0x00512955;
// LINE 4872:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x0051295C;
// LINE 4876:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x0051295C;
// LINE 4878:
}

// FUNCTION: COPTER_D 0x00512961
void S3CityDrawOverHeadGrid() {
	long y;
	long x;
	int32_t mat2[4][4];
	int32_t mat1[4][4];

// LINE 4892:
	__asm        mov    dword ptr ds:[0x5B59E4], 1;
// LINE 4895:
	__asm        call   S3MapSet3dRender;
// LINE 4900:
	__asm        lea    eax, mat1[0][0];
	__asm        push   eax;
	__asm        call   0x004D1FF1;
	__asm        add    esp, 4;
// LINE 4901:
	__asm        lea    eax, mat1[0][0];
	__asm        push   eax;
	__asm        push   0xFC7C0000;
	__asm        call   0x004D2004;
	__asm        add    esp, 8;
// LINE 4902:
	__asm        lea    eax, mat2[0][0];
	__asm        push   eax;
	__asm        lea    eax, mat1[0][0];
	__asm        push   eax;
	__asm        push   0x6C1330;
	__asm        call   0x004D8900;
	__asm        add    esp, 0xC;
// LINE 4906:
	__asm        mov    eax, 0x6C12A0;
	__asm        add    eax, 0x38;
	__asm        push   eax;
	__asm        lea    eax, mat2[0][0];
	__asm        push   eax;
	__asm        call   0x004D8C2E;
	__asm        add    esp, 8;
// LINE 4908:
	__asm        mov    eax, ds:[0x5B4968];
	__asm        mov    eax, [eax+0xA4];
	__asm        add    eax, 0x18;
	__asm        mov    ecx, 0x6C12A0;
	__asm        add    ecx, 0x78;
	__asm        mov    edx, [eax];
	__asm        mov    [ecx], edx;
	__asm        mov    edx, [eax+4];
	__asm        mov    [ecx+4], edx;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ecx+8], eax;
// LINE 4911:
	__asm        call   S3ViewerSetView;
// LINE 4913:
	__asm        mov    eax, ds:[0x6C1318];
	__asm        add    eax, 0x20000000;
	__asm        sar    eax, 0x16;
	__asm        mov    x, eax;
// LINE 4914:
	__asm        mov    eax, 0x20000000;
	__asm        sub    eax, ds:[0x6C1320];
	__asm        sar    eax, 0x16;
	__asm        mov    y, eax;
// LINE 4917:
	__asm        push   5;
	__asm        mov    eax, y;
	__asm        push   eax;
	__asm        mov    eax, x;
	__asm        push   eax;
	__asm        call   S3CitySpiralScan;
	__asm        add    esp, 0xC;
// LINE 4920:
	__asm        call   S3CityDrawGrid;
// LINE 4923:
	__asm        call   S3MapRestore3dRender;
// LINE 4925:
	__asm        mov    dword ptr ds:[0x5B59E4], 0;
// LINE 4926:
}

// FUNCTION: COPTER_D 0x00512a46
short S3CityLowestTerrAlt(long startx, long starty, long size) {
	unsigned short alt;
	long y;
	long x;
	unsigned short minalt;

// LINE 4944:
	__asm        mov    minalt, 0xFFFF;
// LINE 4947:
	__asm        mov    eax, startx;
	__asm        mov    x, eax;
	__asm        jmp    near ptr 0x00512A63;

	__asm        inc    x;
	__asm        mov    eax, size;
	__asm        add    eax, startx;
	__asm        cmp    eax, x;
	__asm        jl     near ptr 0x00512AE7;
// LINE 4948:
	__asm        mov    eax, starty;
	__asm        mov    y, eax;
	__asm        jmp    near ptr 0x00512A80;

	__asm        inc    y;
	__asm        mov    eax, starty;
	__asm        add    eax, size;
	__asm        cmp    eax, y;
	__asm        jl     near ptr 0x00512AE2;
// LINE 4950:
	__asm        mov    eax, y;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 4951:
	__asm        mov    eax, reinterpret_cast<uint32_t>(alt);
	__asm        and    eax, 0xFFFF;
	__asm        mov    ecx, reinterpret_cast<uint32_t>(minalt);
	__asm        and    ecx, 0xFFFF;
	__asm        cmp    eax, ecx;
	__asm        jge    near ptr 0x00512ADD;
// LINE 4952:
	__asm        mov    ax, alt;
	__asm        mov    minalt, ax;
// LINE 4953:
	__asm        jmp    near ptr 0x00512A7D;

	__asm        jmp    near ptr 0x00512A60;
// LINE 4955:
	__asm        mov    ax, minalt;
	__asm        jmp    near ptr 0x00512AF0;
// LINE 4956:
}

// FUNCTION: COPTER_D 0x00512af5
int32_t S3CityIsCellFlat(long x, long y) {
// LINE 4968:
	__asm        mov    eax, ds:[0x5B5CBC];
	__asm        and    eax, y;
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        mov    eax, ds:[0x5B5CBC];
	__asm        and    eax, y;
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, ds:[0x5B5CBC];
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        cmp    edx, ebx;
	__asm        jne    near ptr 0x00512C1F;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, ds:[0x5B5CBC];
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        mov    eax, ds:[0x5B5CBC];
	__asm        and    eax, y;
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, ds:[0x5B5CBC];
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        cmp    edx, ebx;
	__asm        jne    near ptr 0x00512C1F;

	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        xor    edx, edx;
	__asm        mov    dx, [eax+ecx];
	__asm        mov    eax, ds:[0x5B5CBC];
	__asm        and    eax, y;
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, ds:[0x5B5CBC];
	__asm        and    ecx, x;
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        xor    ebx, ebx;
	__asm        mov    bx, [eax+ecx];
	__asm        cmp    edx, ebx;
	__asm        jne    near ptr 0x00512C1F;
// LINE 4970:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x00512C26;
// LINE 4973:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x00512C26;
// LINE 4974:
}

// FUNCTION: COPTER_D 0x00512c2b
int32_t S3CityGetBase(long x, long y, long size) {
	long zone;

// LINE 4987:
	__asm        cmp    x, 0;
	__asm        jl     near ptr 0x00512C5C;

	__asm        cmp    x, 0x7F;
	__asm        jg     near ptr 0x00512C5C;

	__asm        cmp    y, 0;
	__asm        jl     near ptr 0x00512C5C;

	__asm        cmp    y, 0x7F;
	__asm        jle    near ptr 0x00512C68;
// LINE 4988:
	__asm        mov    zone, 5;
// LINE 4989:
	__asm        jmp    near ptr 0x00512C80;
// LINE 4990:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x639DE0];
	__asm        mov    ecx, y;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    edx, 0xF;
	__asm        mov    zone, edx;
// LINE 4992:
	__asm        cmp    zone, 1;
	__asm        je     near ptr 0x00512C94;

	__asm        cmp    zone, 2;
	__asm        jne    near ptr 0x00512D0C;
// LINE 4994:
	__asm        mov    eax, size;
	__asm        mov    [ebp-8], eax;
	__asm        jmp    near ptr 0x00512CE0;
// LINE 4997:
	__asm        push   1;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        jmp    near ptr 0x00512E35;
// LINE 4999:
	__asm        push   2;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        jmp    near ptr 0x00512E35;
// LINE 5001:
	__asm        push   3;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        jmp    near ptr 0x00512E35;
// LINE 5003:
	__asm        push   4;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        jmp    near ptr 0x00512E35;
// LINE 5004:
	__asm        jmp    near ptr 0x00512D07;

	__asm        dec    dword ptr [ebp-8];
	__asm        cmp    dword ptr [ebp-8], 3;
	__asm        ja     near ptr 0x00512D07;

	__asm        mov    eax, [ebp-8];
	__asm        jmp    dword ptr [eax*4+0x512CF7];
// Switch pointers
// LINE 5006:
	__asm        jmp    near ptr 0x00512E23;

	__asm        cmp    zone, 3;
	__asm        je     near ptr 0x00512D20;

	__asm        cmp    zone, 4;
	__asm        jne    near ptr 0x00512DA4;
// LINE 5008:
	__asm        mov    eax, size;
	__asm        mov    [ebp-0xC], eax;
	__asm        jmp    near ptr 0x00512D78;
// LINE 5011:
	__asm        push   0x168;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        jmp    near ptr 0x00512E35;
// LINE 5013:
	__asm        push   0x169;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        jmp    near ptr 0x00512E35;
// LINE 5015:
	__asm        push   0x16A;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        jmp    near ptr 0x00512E35;
// LINE 5017:
	__asm        push   0x16B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        jmp    near ptr 0x00512E35;
// LINE 5018:
	__asm        jmp    near ptr 0x00512D9F;

	__asm        dec    dword ptr [ebp-0xC];
	__asm        cmp    dword ptr [ebp-0xC], 3;
	__asm        ja     near ptr 0x00512D9F;

	__asm        mov    eax, [ebp-0xC];
	__asm        jmp    dword ptr [eax*4+0x512D8F];
// Switch pointers
// LINE 5020:
	__asm        jmp    near ptr 0x00512E23;
// LINE 5022:
	__asm        mov    eax, size;
	__asm        mov    [ebp-0x10], eax;
	__asm        jmp    near ptr 0x00512DFC;
// LINE 5025:
	__asm        push   0x164;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        jmp    near ptr 0x00512E35;
// LINE 5027:
	__asm        push   0x165;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        jmp    near ptr 0x00512E35;
// LINE 5029:
	__asm        push   0x166;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        jmp    near ptr 0x00512E35;
// LINE 5031:
	__asm        push   0x167;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        jmp    near ptr 0x00512E35;
// LINE 5032:
	__asm        jmp    near ptr 0x00512E23;

	__asm        dec    dword ptr [ebp-0x10];
	__asm        cmp    dword ptr [ebp-0x10], 3;
	__asm        ja     near ptr 0x00512E23;

	__asm        mov    eax, [ebp-0x10];
	__asm        jmp    dword ptr [eax*4+0x512E13];
// Switch pointers
// LINE 5036:
	__asm        push   0x164;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        jmp    near ptr 0x00512E35;
// LINE 5037:
}

// FUNCTION: COPTER_D 0x00512e3a
void S3CityCreateHeliBase(long x, long y) {
	long px;
	struct _STOBJ_INST* sptr;
	struct _CELL_INFO* cptr;
	short alt;
	short i;
	int32_t incity;
	long py;

// LINE 5057:
	__asm        mov    incity, 0;
// LINE 5061:
	__asm        cmp    x, 0x80;
	__asm        jge    near ptr 0x00513022;

	__asm        cmp    y, 0x80;
	__asm        jge    near ptr 0x00513022;
// LINE 5063:
	__asm        mov    incity, 1;
// LINE 5066:
	__asm        mov    eax, x;
	__asm        mov    px, eax;
	__asm        jmp    near ptr 0x00512E79;

	__asm        inc    px;
	__asm        mov    eax, x;
	__asm        add    eax, 4;
	__asm        cmp    eax, px;
	__asm        jle    near ptr 0x00513022;
// LINE 5068:
	__asm        mov    eax, y;
	__asm        mov    py, eax;
	__asm        jmp    near ptr 0x00512E96;

	__asm        inc    py;
	__asm        mov    eax, y;
	__asm        add    eax, 4;
	__asm        cmp    eax, py;
	__asm        jle    near ptr 0x0051301D;
// LINE 5071:
	__asm        cmp    px, 0x7F;
	__asm        jg     near ptr 0x00512EB9;

	__asm        cmp    py, 0x7F;
	__asm        jle    near ptr 0x00512EBE;
// LINE 5072:
	__asm        jmp    near ptr 0x00513D3E;
// LINE 5075:
	__asm        mov    eax, px;
	__asm        mov    eax, [eax*4+0x639DE0];
	__asm        mov    ecx, py;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        and    dl, 0xF;
	__asm        cmp    dl, 8;
	__asm        je     near ptr 0x00512EE1;
// LINE 5076:
	__asm        jmp    near ptr 0x00513D3E;
// LINE 5079:
	__asm        mov    eax, px;
	__asm        sub    eax, x;
	__asm        cmp    eax, 3;
	__asm        jne    near ptr 0x00512F7B;
// LINE 5081:
	__asm        mov    eax, px;
	__asm        mov    eax, [eax*4+0x639850];
	__asm        mov    ecx, py;
	__asm        movzx  ax, byte ptr [eax+ecx];
	__asm        mov    i, ax;
// LINE 5082:
	__asm        movsx  eax, i;
	__asm        push   eax;
	__asm        call   S2TileSize;
	__asm        add    esp, 4;
	__asm        cmp    eax, 2;
	__asm        jne    near ptr 0x00512F7B;
// LINE 5085:
	__asm        mov    eax, px;
	__asm        mov    eax, [eax*4+0x63984C];
	__asm        mov    ecx, py;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        movsx  eax, i;
	__asm        cmp    edx, eax;
	__asm        jne    near ptr 0x00512F76;

	__asm        mov    eax, px;
	__asm        mov    eax, [eax*4+0x639848];
	__asm        mov    ecx, py;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        movsx  eax, i;
	__asm        cmp    edx, eax;
	__asm        jne    near ptr 0x00512F7B;

	__asm        mov    eax, px;
	__asm        mov    eax, [eax*4+0x639844];
	__asm        mov    ecx, py;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx];
	__asm        movsx  eax, i;
	__asm        cmp    edx, eax;
	__asm        je     near ptr 0x00512F7B;
// LINE 5087:
	__asm        jmp    near ptr 0x00513D3E;
// LINE 5091:
	__asm        mov    eax, py;
	__asm        sub    eax, y;
	__asm        cmp    eax, 3;
	__asm        jne    near ptr 0x00513018;
// LINE 5093:
	__asm        mov    eax, px;
	__asm        mov    eax, [eax*4+0x639850];
	__asm        mov    ecx, py;
	__asm        movzx  ax, byte ptr [eax+ecx];
	__asm        mov    i, ax;
// LINE 5094:
	__asm        movsx  eax, i;
	__asm        push   eax;
	__asm        call   S2TileSize;
	__asm        add    esp, 4;
	__asm        cmp    eax, 2;
	__asm        jne    near ptr 0x00513018;
// LINE 5097:
	__asm        mov    eax, px;
	__asm        mov    eax, [eax*4+0x639850];
	__asm        mov    ecx, py;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx-1];
	__asm        movsx  eax, i;
	__asm        cmp    edx, eax;
	__asm        jne    near ptr 0x00513013;

	__asm        mov    eax, px;
	__asm        mov    eax, [eax*4+0x639850];
	__asm        mov    ecx, py;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx-2];
	__asm        movsx  eax, i;
	__asm        cmp    edx, eax;
	__asm        jne    near ptr 0x00513018;

	__asm        mov    eax, px;
	__asm        mov    eax, [eax*4+0x639850];
	__asm        mov    ecx, py;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+ecx-3];
	__asm        movsx  eax, i;
	__asm        cmp    edx, eax;
	__asm        je     near ptr 0x00513018;
// LINE 5099:
	__asm        jmp    near ptr 0x00513D3E;
// LINE 5103:
	__asm        jmp    near ptr 0x00512E93;
// LINE 5104:
	__asm        jmp    near ptr 0x00512E76;
// LINE 5108:
	__asm        mov    eax, y;
	__asm        and    eax, ds:[0x5B5CBC];
	__asm        mov    cl, ds:[0x5B5CC0];
	__asm        shl    eax, cl;
	__asm        mov    ecx, x;
	__asm        and    ecx, ds:[0x5B5CBC];
	__asm        add    ecx, ecx;
	__asm        lea    eax, [ecx+eax*2];
	__asm        mov    ecx, ds:[0x67EB10];
	__asm        mov    ax, [eax+ecx];
	__asm        mov    alt, ax;
// LINE 5111:
	__asm        push   0x18;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    cptr, eax;
// LINE 5112:
	__asm        push   0x10;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    sptr, eax;
// LINE 5113:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 5114:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 5115:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, y;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, x;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5116:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, x;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, y;
	__asm        add    edx, 2;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 5119:
	__asm        cmp    incity, 1;
	__asm        jne    near ptr 0x00513153;
// LINE 5121:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x639854];
	__asm        mov    ecx, y;
	__asm        mov    byte ptr [eax+ecx+1], 0xF6;
// LINE 5122:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x639858];
	__asm        mov    ecx, y;
	__asm        mov    byte ptr [eax+ecx+1], 0xF6;
// LINE 5123:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x639854];
	__asm        mov    ecx, y;
	__asm        mov    byte ptr [eax+ecx+2], 0xF6;
// LINE 5124:
	__asm        mov    eax, x;
	__asm        mov    eax, [eax*4+0x639858];
	__asm        mov    ecx, y;
	__asm        mov    byte ptr [eax+ecx+2], 0xF6;
// LINE 5128:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FC0;
	__asm        mov    i, ax;
// LINE 5129:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 5130:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, y;
	__asm        inc    ecx;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x40;
	__asm        mov    i, ax;
// LINE 5131:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 5134:
	__asm        mov    ax, alt;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+4], ax;
// LINE 5135:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+8], 2;
// LINE 5136:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax], 1;
// LINE 5137:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+0xA], 0;
// LINE 5138:
	__asm        mov    eax, sptr;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+0xC], eax;
// LINE 5139:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 5141:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax], 0;
// LINE 5142:
	__asm        push   0x96;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx+4], eax;
// LINE 5143:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+8], 4;
// LINE 5144:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 5146:
	__asm        push   0x10;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx], eax;
// LINE 5147:
	__asm        mov    eax, sptr;
	__asm        mov    eax, [eax];
	__asm        mov    sptr, eax;
// LINE 5148:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax], 0;
// LINE 5149:
	__asm        push   0x165;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx+4], eax;
// LINE 5150:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+8], 0x10;
// LINE 5151:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 5156:
	__asm        mov    eax, x;
	__asm        mov    px, eax;
	__asm        mov    eax, y;
	__asm        mov    py, eax;
	__asm        jmp    near ptr 0x00513257;

	__asm        inc    px;
	__asm        mov    eax, x;
	__asm        add    eax, 4;
	__asm        cmp    eax, px;
	__asm        jle    near ptr 0x0051336C;
// LINE 5158:
	__asm        push   0x18;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    cptr, eax;
// LINE 5159:
	__asm        push   0x10;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    sptr, eax;
// LINE 5160:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5162:
	__asm        mov    eax, px;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FE0;
	__asm        mov    i, ax;
// LINE 5163:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 5164:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, py;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x20;
	__asm        mov    i, ax;
// LINE 5165:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 5167:
	__asm        mov    ax, alt;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+4], ax;
// LINE 5168:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+8], 1;
// LINE 5169:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax], 1;
// LINE 5170:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+0xA], 0;
// LINE 5171:
	__asm        mov    eax, sptr;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+0xC], eax;
// LINE 5172:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 5174:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax], 0;
// LINE 5175:
	__asm        push   0x8B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx+4], eax;
// LINE 5176:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+8], 0x10;
// LINE 5177:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 5179:
	__asm        cmp    incity, 1;
	__asm        jne    near ptr 0x00513367;
// LINE 5181:
	__asm        mov    eax, px;
	__asm        mov    eax, [eax*4+0x639850];
	__asm        mov    ecx, py;
	__asm        mov    byte ptr [eax+ecx], 0xDE;
// LINE 5183:
	__asm        jmp    near ptr 0x00513254;
// LINE 5186:
	__asm        mov    eax, x;
	__asm        mov    px, eax;
	__asm        mov    eax, y;
	__asm        add    eax, 3;
	__asm        mov    py, eax;
	__asm        jmp    near ptr 0x00513383;

	__asm        inc    px;
	__asm        mov    eax, x;
	__asm        add    eax, 4;
	__asm        cmp    eax, px;
	__asm        jle    near ptr 0x00513498;
// LINE 5188:
	__asm        push   0x18;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    cptr, eax;
// LINE 5189:
	__asm        push   0x10;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    sptr, eax;
// LINE 5190:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5192:
	__asm        mov    eax, px;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FE0;
	__asm        mov    i, ax;
// LINE 5193:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 5194:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, py;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x20;
	__asm        mov    i, ax;
// LINE 5195:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 5197:
	__asm        mov    ax, alt;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+4], ax;
// LINE 5198:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+8], 1;
// LINE 5199:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax], 1;
// LINE 5200:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+0xA], 0;
// LINE 5201:
	__asm        mov    eax, sptr;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+0xC], eax;
// LINE 5202:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 5204:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax], 0;
// LINE 5205:
	__asm        push   0x8B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx+4], eax;
// LINE 5206:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+8], 0x10;
// LINE 5207:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 5209:
	__asm        cmp    incity, 1;
	__asm        jne    near ptr 0x00513493;
// LINE 5211:
	__asm        mov    eax, px;
	__asm        mov    eax, [eax*4+0x639850];
	__asm        mov    ecx, py;
	__asm        mov    byte ptr [eax+ecx], 0xDE;
// LINE 5213:
	__asm        jmp    near ptr 0x00513380;
// LINE 5216:
	__asm        mov    eax, x;
	__asm        mov    px, eax;
// LINE 5217:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        mov    py, eax;
// LINE 5218:
	__asm        push   0x18;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    cptr, eax;
// LINE 5219:
	__asm        push   0x10;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    sptr, eax;
// LINE 5220:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5222:
	__asm        mov    eax, px;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FE0;
	__asm        mov    i, ax;
// LINE 5223:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 5224:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, py;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x20;
	__asm        mov    i, ax;
// LINE 5225:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 5227:
	__asm        mov    ax, alt;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+4], ax;
// LINE 5228:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+8], 1;
// LINE 5229:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax], 1;
// LINE 5230:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+0xA], 0;
// LINE 5231:
	__asm        mov    eax, sptr;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+0xC], eax;
// LINE 5232:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 5234:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax], 0;
// LINE 5235:
	__asm        push   0x8B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx+4], eax;
// LINE 5236:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+8], 0x10;
// LINE 5237:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 5239:
	__asm        cmp    incity, 1;
	__asm        jne    near ptr 0x005135A6;
// LINE 5241:
	__asm        mov    eax, px;
	__asm        mov    eax, [eax*4+0x639850];
	__asm        mov    ecx, py;
	__asm        mov    byte ptr [eax+ecx], 0xDE;
// LINE 5244:
	__asm        mov    eax, x;
	__asm        mov    px, eax;
// LINE 5245:
	__asm        mov    eax, y;
	__asm        add    eax, 2;
	__asm        mov    py, eax;
// LINE 5246:
	__asm        push   0x18;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    cptr, eax;
// LINE 5247:
	__asm        push   0x10;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    sptr, eax;
// LINE 5248:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5250:
	__asm        mov    eax, px;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FE0;
	__asm        mov    i, ax;
// LINE 5251:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 5252:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, py;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x20;
	__asm        mov    i, ax;
// LINE 5253:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 5255:
	__asm        mov    ax, alt;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+4], ax;
// LINE 5256:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+8], 1;
// LINE 5257:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax], 1;
// LINE 5258:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+0xA], 0;
// LINE 5259:
	__asm        mov    eax, sptr;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+0xC], eax;
// LINE 5260:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 5262:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax], 0;
// LINE 5263:
	__asm        push   0x8B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx+4], eax;
// LINE 5264:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+8], 0x10;
// LINE 5265:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 5267:
	__asm        cmp    incity, 1;
	__asm        jne    near ptr 0x005136B6;
// LINE 5269:
	__asm        mov    eax, px;
	__asm        mov    eax, [eax*4+0x639850];
	__asm        mov    ecx, py;
	__asm        mov    byte ptr [eax+ecx], 0xDE;
// LINE 5272:
	__asm        mov    eax, x;
	__asm        add    eax, 3;
	__asm        mov    px, eax;
// LINE 5273:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        mov    py, eax;
// LINE 5274:
	__asm        push   0x18;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    cptr, eax;
// LINE 5275:
	__asm        push   0x10;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    sptr, eax;
// LINE 5276:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5278:
	__asm        mov    eax, px;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FE0;
	__asm        mov    i, ax;
// LINE 5279:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 5280:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, py;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x20;
	__asm        mov    i, ax;
// LINE 5281:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 5283:
	__asm        mov    ax, alt;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+4], ax;
// LINE 5284:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+8], 1;
// LINE 5285:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax], 1;
// LINE 5286:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+0xA], 0;
// LINE 5287:
	__asm        mov    eax, sptr;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+0xC], eax;
// LINE 5288:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 5290:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax], 0;
// LINE 5291:
	__asm        push   0x8B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx+4], eax;
// LINE 5292:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+8], 0x10;
// LINE 5293:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 5295:
	__asm        cmp    incity, 1;
	__asm        jne    near ptr 0x005137C7;
// LINE 5297:
	__asm        mov    eax, px;
	__asm        mov    eax, [eax*4+0x639850];
	__asm        mov    ecx, py;
	__asm        mov    byte ptr [eax+ecx], 0xDE;
// LINE 5300:
	__asm        mov    eax, x;
	__asm        add    eax, 3;
	__asm        mov    px, eax;
// LINE 5301:
	__asm        mov    eax, y;
	__asm        add    eax, 2;
	__asm        mov    py, eax;
// LINE 5302:
	__asm        push   0x18;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    cptr, eax;
// LINE 5303:
	__asm        push   0x10;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    sptr, eax;
// LINE 5304:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5306:
	__asm        mov    eax, px;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1FE0;
	__asm        mov    i, ax;
// LINE 5307:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 5308:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, py;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x20;
	__asm        mov    i, ax;
// LINE 5309:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 5311:
	__asm        mov    ax, alt;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+4], ax;
// LINE 5312:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+8], 1;
// LINE 5313:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax], 1;
// LINE 5314:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+0xA], 0;
// LINE 5315:
	__asm        mov    eax, sptr;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+0xC], eax;
// LINE 5316:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 5318:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax], 0;
// LINE 5319:
	__asm        push   0x8B;
	__asm        call   0x004D8821;
	__asm        add    esp, 4;
	__asm        mov    ecx, sptr;
	__asm        mov    [ecx+4], eax;
// LINE 5320:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+8], 0x10;
// LINE 5321:
	__asm        mov    eax, sptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 5323:
	__asm        cmp    incity, 1;
	__asm        jne    near ptr 0x005138DA;
// LINE 5325:
	__asm        mov    eax, px;
	__asm        mov    eax, [eax*4+0x639850];
	__asm        mov    ecx, py;
	__asm        mov    byte ptr [eax+ecx], 0xDE;
// LINE 5330:
	__asm        cmp    x, 0x7F;
	__asm        jle    near ptr 0x00513C00;

	__asm        cmp    y, 0x7F;
	__asm        jle    near ptr 0x00513C00;
// LINE 5332:
	__asm        mov    eax, x;
	__asm        mov    px, eax;
	__asm        jmp    near ptr 0x005138FD;

	__asm        add    px, 4;
	__asm        mov    eax, x;
	__asm        add    eax, 0x10;
	__asm        cmp    eax, px;
	__asm        jle    near ptr 0x00513C00;
// LINE 5334:
	__asm        mov    eax, y;
	__asm        mov    py, eax;
	__asm        jmp    near ptr 0x0051391B;

	__asm        add    py, 4;
	__asm        mov    eax, y;
	__asm        add    eax, 0x10;
	__asm        cmp    eax, py;
	__asm        jle    near ptr 0x00513BFB;
// LINE 5336:
	__asm        mov    eax, px;
	__asm        cmp    x, eax;
	__asm        jne    near ptr 0x00513947;

	__asm        mov    eax, py;
	__asm        cmp    y, eax;
	__asm        jne    near ptr 0x00513947;

	__asm        jmp    near ptr 0x00513917;
// LINE 5338:
	__asm        push   0x18;
	__asm        mov    eax, ds:[0x647200];
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    cptr, eax;
// LINE 5339:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5340:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, px;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, py;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 5341:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, px;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, py;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 5342:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, px;
	__asm        add    ecx, 3;
	__asm        and    ecx, 0xFF;
	__asm        shl    ecx, 0xA;
	__asm        mov    edx, py;
	__asm        and    edx, 0xFF;
	__asm        mov    [ecx+edx*4+0x67ED30], eax;
// LINE 5343:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5344:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5345:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        add    edx, 2;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5346:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        inc    ecx;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        add    edx, 3;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5347:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5348:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5349:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        add    edx, 2;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5350:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        add    ecx, 2;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        add    edx, 3;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5351:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        add    ecx, 3;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5352:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        add    ecx, 3;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        inc    edx;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5353:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        add    ecx, 3;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        add    edx, 2;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5354:
	__asm        mov    eax, cptr;
	__asm        mov    ecx, py;
	__asm        add    ecx, 3;
	__asm        and    ecx, 0xFF;
	__asm        mov    edx, px;
	__asm        add    edx, 3;
	__asm        and    edx, 0xFF;
	__asm        shl    edx, 0xA;
	__asm        mov    [edx+ecx*4+0x67ED30], eax;
// LINE 5356:
	__asm        mov    eax, px;
	__asm        shl    eax, 6;
	__asm        sub    eax, 0x1F80;
	__asm        mov    i, ax;
// LINE 5357:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+2], ax;
// LINE 5358:
	__asm        mov    eax, 0x2000;
	__asm        mov    ecx, py;
	__asm        shl    ecx, 6;
	__asm        sub    eax, ecx;
	__asm        sub    eax, 0x80;
	__asm        mov    i, ax;
// LINE 5359:
	__asm        mov    ax, i;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+6], ax;
// LINE 5360:
	__asm        mov    ax, alt;
	__asm        mov    ecx, cptr;
	__asm        mov    [ecx+4], ax;
// LINE 5363:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+8], 4;
// LINE 5364:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax], 0;
// LINE 5365:
	__asm        mov    eax, cptr;
	__asm        mov    word ptr [eax+0xA], 0;
// LINE 5366:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 5367:
	__asm        mov    eax, cptr;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 5368:
	__asm        jmp    near ptr 0x00513917;
// LINE 5369:
	__asm        jmp    near ptr 0x005138F9;
// LINE 5374:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        inc    eax;
	__asm        mov    ds:[0x6C11F0], eax;
// LINE 5375:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        inc    eax;
	__asm        mov    ds:[0x6C11F4], eax;
// LINE 5378:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ds:[0x6C1190], eax;
// LINE 5379:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ds:[0x6C1194], eax;
// LINE 5380:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x6C1198], eax;
// LINE 5381:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ds:[0x6C119C], eax;
// LINE 5382:
	__asm        mov    eax, x;
	__asm        add    eax, 2;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x6C11A0], eax;
// LINE 5383:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ds:[0x6C11A4], eax;
// LINE 5384:
	__asm        mov    eax, x;
	__asm        add    eax, 3;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x6C11A8], eax;
// LINE 5385:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(y);
	__asm        mov    ds:[0x6C11AC], eax;
// LINE 5388:
	__asm        mov    eax, x;
	__asm        add    eax, 3;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x6C11B0], eax;
// LINE 5389:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x6C11B4], eax;
// LINE 5390:
	__asm        mov    eax, x;
	__asm        add    eax, 3;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x6C11B8], eax;
// LINE 5391:
	__asm        mov    eax, y;
	__asm        add    eax, 2;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x6C11BC], eax;
// LINE 5394:
	__asm        mov    eax, x;
	__asm        add    eax, 3;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x6C11C0], eax;
// LINE 5395:
	__asm        mov    eax, y;
	__asm        add    eax, 3;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x6C11C4], eax;
// LINE 5396:
	__asm        mov    eax, x;
	__asm        add    eax, 2;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x6C11C8], eax;
// LINE 5397:
	__asm        mov    eax, y;
	__asm        add    eax, 3;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x6C11CC], eax;
// LINE 5398:
	__asm        mov    eax, x;
	__asm        inc    eax;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x6C11D0], eax;
// LINE 5399:
	__asm        mov    eax, y;
	__asm        add    eax, 3;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x6C11D4], eax;
// LINE 5400:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ds:[0x6C11D8], eax;
// LINE 5401:
	__asm        mov    eax, y;
	__asm        add    eax, 3;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x6C11DC], eax;
// LINE 5404:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ds:[0x6C11E0], eax;
// LINE 5405:
	__asm        mov    eax, y;
	__asm        add    eax, 2;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x6C11E4], eax;
// LINE 5406:
	__asm        movsx  eax, reinterpret_cast<uint16_t>(x);
	__asm        mov    ds:[0x6C11E8], eax;
// LINE 5407:
	__asm        mov    eax, y;
	__asm        inc    eax;
	__asm        movsx  eax, ax;
	__asm        mov    ds:[0x6C11EC], eax;
// LINE 5409:
	__asm        mov    dword ptr ds:[0x5B491C], 1;
// LINE 5410:
}



// Contribution: 2:00003dc0-00003fd7 Module: 170, 8 byte alignment, initialized_data, read, 
// LOCAL: COPTER_D 0x00592dc0
// TurnTable3
// LOCAL: COPTER_D 0x00592e40
// TurnTable2
// LOCAL: COPTER_D 0x00592e80
// IndexToType
// LOCAL: COPTER_D 0x00592e90
// TypeToIndex2
// LOCAL: COPTER_D 0x00592ed0
// TILUT
// LOCAL: COPTER_D 0x00592f10
// OT
// LOCAL: COPTER_D 0x00592f50
// RRT
// LOCAL: COPTER_D 0x00592f90
// LRT


// Contribution: 3:0001e9d0-0001ecb1 Module: 170, 4 byte alignment, initialized_data, read, write, 
// GLOBAL: COPTER_D 0x005b59d0
// G_alt
// GLOBAL: COPTER_D 0x005b59d4
// G_last_grid_size
// GLOBAL: COPTER_D 0x005b59d8
// S_down_trend
// GLOBAL: COPTER_D 0x005b59dc
// S_up_trend
// LOCAL: COPTER_D 0x005b59e0
// S_S2CityAlloc_Count
// LOCAL: COPTER_D 0x005b59e4
// S_inmapmode
// LOCAL: COPTER_D 0x005b59e8
// S_watermorph
// LOCAL: COPTER_D 0x005b59ec
// how_deep
// LOCAL: COPTER_D 0x005b59f0
// S_water_cycle
// LOCAL: COPTER_D 0x005b59f4
// S_water_timer


// Contribution: 3:00072098-000934ff Module: 170, 8 byte alignment, uninitialized_data, read, write, 
// LOCAL: COPTER_D 0x00609098
// S_local_lstart
// LOCAL: COPTER_D 0x006090a4
// S_used_spiralscan
// LOCAL: COPTER_D 0x006090a8
// S_terr_pos
// LOCAL: COPTER_D 0x00609100
// S_facesort
// LOCAL: COPTER_D 0x00609104
// S_rlast
// LOCAL: COPTER_D 0x00609108
// S_lcells
// LOCAL: COPTER_D 0x00609908
// S_XposZneg
// LOCAL: COPTER_D 0x00609918
// S_tmp_cells
// LOCAL: COPTER_D 0x00609be8
// S_fovlast
// LOCAL: COPTER_D 0x00609bf0
// S_world_lstart
// LOCAL: COPTER_D 0x00609c00
// S_rrotmat
// LOCAL: COPTER_D 0x00609c40
// S_XposZpos
// LOCAL: COPTER_D 0x00609c50
// S_fov_cells
// LOCAL: COPTER_D 0x00629c50
// S_rcells
// LOCAL: COPTER_D 0x0062a450
// S_tmpcell_ctr
// LOCAL: COPTER_D 0x0062a458
// S_lrotmat
// LOCAL: COPTER_D 0x0062a498
// S_pos
// LOCAL: COPTER_D 0x0062a4a0
// S_llast
// LOCAL: COPTER_D 0x0062a4a8
// S_local_rstart
// LOCAL: COPTER_D 0x0062a4b8
// S_XnegZneg
// LOCAL: COPTER_D 0x0062a4c8
// S_world_rstart
// LOCAL: COPTER_D 0x0062a4d4
// S_lowres_dist
// LOCAL: COPTER_D 0x0062a4d8
// S_XnegZpos
// LOCAL: COPTER_D 0x0062a4e8
// S_world_eye
// LOCAL: COPTER_D 0x0062a4f8
// S_last_pos


// Unknown globals:
// The PDB was slightly corrupted and we aren't sure which file these globals belong to.

// WARNING: this global might actually belong to: C:\Copter\source\sparkal\Globals.cpp
// GLOBAL: COPTER_D 0x00662870
// _GridNSortFaces

// WARNING: this global might actually belong to: C:\Copter\source\sparkal\Globals.cpp
// GLOBAL: COPTER_D 0x0066635c
// _G_opolys

// WARNING: this global might actually belong to: C:\Copter\source\sparkal\Globals.cpp
// GLOBAL: COPTER_D 0x0066282c
// _G_gdpolys

// WARNING: this global might actually belong to: C:\Copter\source\sparkal\Globals.cpp
// GLOBAL: COPTER_D 0x0066636c
// _G_odpolys

// WARNING: this global might actually belong to: C:\Copter\source\sparkal\Globals.cpp
// GLOBAL: COPTER_D 0x006663a0
// _G_ViewSize
// GLOBAL: COPTER_D 0x006bed30
// _S_curr_pos
// GLOBAL: COPTER_D 0x006c1190
// _G_helibase
// GLOBAL: COPTER_D 0x006c1370
// _ViewRot

// WARNING: this global might actually belong to: C:\Copter\source\game\S3auto.cpp
// GLOBAL: COPTER_D 0x006c1370
// ViewRot

// WARNING: this global might actually belong to: C:\Copter\source\game\S3auto.cpp
// GLOBAL: COPTER_D 0x006c1330
// ViewYRot

// WARNING: this global might actually belong to: C:\Copter\source\game\S3auto.cpp
// GLOBAL: COPTER_D 0x006bed30
// S_curr_pos
// GLOBAL: COPTER_D 0x006bed38
// G_smokey
