// Module: Resource.obj
// Source: C:\Copter\source\engine\Resource.c
// autogenerated by simcopter_tool from PDB file



// Contribution: 1:000d42c0-000d505d Module: 146, 16 byte alignment, code, execute, read, 
// FUNCTION: COPTER_D 0x004d52c0
void InitResource() {
// LINE 92:
	__asm        push   ebp;
	__asm        mov    ebp, esp;
	__asm        push   ebx;
	__asm        push   esi;
	__asm        push   edi;
// LINE 93:
	__asm        push   0x59C230;
	__asm        push   0x6663F0;
	__asm        call   0x0056CEB0;
	__asm        add    esp, 8;
// LINE 94:
	__asm        mov    dword ptr ds:[0x6666A0], 0;
// LINE 95:
	__asm        mov    dword ptr ds:[0x6663EC], 0;
// LINE 96:
	__asm        mov    dword ptr ds:[0x666698], 0;
// LINE 97:
	__asm        mov    dword ptr ds:[0x66669C], 0;
// LINE 98:
	__asm        mov    dword ptr ds:[0x666690], 0;
// LINE 100:
	__asm        pop    edi;
	__asm        pop    esi;
	__asm        pop    ebx;
	__asm        leave;
	__asm        ret;
}

// FUNCTION: COPTER_D 0x004d530f
void VRResFreeBarrys(struct VRResource* res) {
	struct GEOM_Resource* geo;

// LINE 112:
	__asm        push   ebp;
	__asm        mov    ebp, esp;
	__asm        sub    esp, 4;
	__asm        push   ebx;
	__asm        push   esi;
	__asm        push   edi;
// LINE 113:
	__asm        mov    eax, res;
	__asm        mov    geo, eax;
// LINE 115:
	__asm        mov    eax, res;
	__asm        cmp    dword ptr [eax+8], 1;
	__asm        je     near ptr 0x004D5330;
// LINE 116:
	__asm        jmp    near ptr 0x004D5351;
// LINE 118:
	__asm        mov    eax, geo;
	__asm        cmp    dword ptr [eax+0x14], 0;
	__asm        jge    near ptr 0x004D5342;
// LINE 119:
	__asm        jmp    near ptr 0x004D5351;
// LINE 121:
	__asm        mov    eax, geo;
	__asm        mov    eax, [eax+0x14];
	__asm        push   eax;
	__asm        call   0x004CB6C3;
	__asm        add    esp, 4;
// LINE 122:
	__asm        pop    edi;
	__asm        pop    esi;
	__asm        pop    ebx;
	__asm        leave;
	__asm        ret;
}

// FUNCTION: COPTER_D 0x004d5356
struct VRResource* VRLoadResource(char * name, int32_t Flags, void * __ptr32 misc) {
	int32_t i;
	struct VRResource* res;

// LINE 138:
	__asm        push   ebp;
	__asm        mov    ebp, esp;
	__asm        sub    esp, 0xC;
	__asm        push   ebx;
	__asm        push   esi;
	__asm        push   edi;
// LINE 142:
	__asm        mov    eax, Flags;
	__asm        mov    [ebp-0xC], eax;
	__asm        jmp    near ptr 0x004D57F2;
// LINE 146:
	__asm        mov    eax, name;
	__asm        push   eax;
	__asm        call   0x004D5BAF;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5385;
// LINE 147:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 148:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x004D5394;
	__asm        inc    i;
	__asm        mov    eax, i;
	__asm        cmp    ds:[0x6666A4], eax;
	__asm        jle    near ptr 0x004D5491;
// LINE 149:
	__asm        mov    eax, misc;
	__asm        push   eax;
	__asm        mov    eax, i;
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*4];
	__asm        add    eax, ds:[0x666690];
	__asm        push   eax;
	__asm        call   0x005884D0;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D548C;
// LINE 151:
	__asm        mov    dword ptr ds:[0x59C220], 1;
// LINE 153:
	__asm        push   0;
	__asm        mov    eax, i;
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*4];
	__asm        mov    ecx, ds:[0x666690];
	__asm        mov    eax, [eax+ecx+0x11];
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6666A0];
	__asm        push   eax;
	__asm        call   0x005810C0;
	__asm        add    esp, 0xC;
	__asm        cmp    eax, 0xFFFFFFFF;
	__asm        jne    near ptr 0x004D5413;
// LINE 154:
	__asm        mov    dword ptr ds:[0x662810], 3;
// LINE 155:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 157:
	__asm        push   0x3E8;
	__asm        call   0x004CB401;
	__asm        add    esp, 4;
	__asm        mov    ds:[0x59C22C], eax;
	__asm        cmp    dword ptr ds:[0x59C22C], 0;
	__asm        jge    near ptr 0x004D5439;
// LINE 158:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 159:
	__asm        call   0x004D20D0;
	__asm        mov    res, eax;
// LINE 160:
	__asm        cmp    res, 0;
	__asm        jne    near ptr 0x004D5452;
// LINE 161:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 162:
	__asm        mov    eax, ds:[0x59C22C];
	__asm        mov    ecx, res;
	__asm        mov    [ecx+4], eax;
// LINE 163:
	__asm        mov    eax, res;
	__asm        push   eax;
	__asm        call   0x004D5FA9;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5484;
// LINE 164:
	__asm        mov    eax, res;
	__asm        push   eax;
	__asm        call   0x004D5872;
	__asm        add    esp, 4;
// LINE 165:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 167:
	__asm        mov    eax, res;
	__asm        jmp    near ptr 0x004D5820;
// LINE 169:
	__asm        jmp    near ptr 0x004D5391;
// LINE 170:
	__asm        mov    dword ptr ds:[0x662810], 7;
// LINE 171:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 172:
	__asm        jmp    near ptr 0x004D5819;
// LINE 176:
	__asm        push   0x10000;
	__asm        call   0x004CB401;
	__asm        add    esp, 4;
	__asm        mov    ds:[0x59C22C], eax;
	__asm        cmp    dword ptr ds:[0x59C22C], 0;
	__asm        jge    near ptr 0x004D54CD;
// LINE 177:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 178:
	__asm        mov    eax, name;
	__asm        push   eax;
	__asm        call   0x004D6060;
	__asm        add    esp, 4;
	__asm        mov    res, eax;
// LINE 179:
	__asm        cmp    res, 0;
	__asm        jne    near ptr 0x004D54ED;
// LINE 180:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 181:
	__asm        mov    eax, ds:[0x59C22C];
	__asm        mov    ecx, res;
	__asm        mov    [ecx+4], eax;
// LINE 182:
	__asm        mov    eax, res;
	__asm        push   eax;
	__asm        call   0x004D5FA9;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D551F;
// LINE 183:
	__asm        mov    eax, res;
	__asm        push   eax;
	__asm        call   0x004D5872;
	__asm        add    esp, 4;
// LINE 184:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 186:
	__asm        mov    eax, res;
	__asm        jmp    near ptr 0x004D5820;
// LINE 190:
	__asm        mov    eax, name;
	__asm        push   eax;
	__asm        call   0x004D5926;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5542;
// LINE 191:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 193:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x004D5551;
	__asm        inc    i;
	__asm        mov    eax, i;
	__asm        cmp    ds:[0x6666B0], eax;
	__asm        jle    near ptr 0x004D5688;
// LINE 194:
	__asm        mov    eax, misc;
	__asm        push   eax;
	__asm        mov    eax, i;
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*2];
	__asm        lea    eax, [ecx+eax*4];
	__asm        lea    eax, [ecx+eax*4];
	__asm        add    eax, ds:[0x666698];
	__asm        push   eax;
	__asm        call   0x005884D0;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5683;
// LINE 196:
	__asm        mov    dword ptr ds:[0x59C220], 1;
// LINE 198:
	__asm        push   0;
	__asm        mov    eax, i;
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*2];
	__asm        lea    eax, [ecx+eax*4];
	__asm        lea    eax, [ecx+eax*4];
	__asm        mov    ecx, ds:[0x666698];
	__asm        mov    eax, [eax+ecx+0x11];
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6666A0];
	__asm        push   eax;
	__asm        call   0x005810C0;
	__asm        add    esp, 0xC;
	__asm        cmp    eax, 0xFFFFFFFF;
	__asm        jne    near ptr 0x004D55D6;
// LINE 199:
	__asm        mov    dword ptr ds:[0x662810], 3;
// LINE 200:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 202:
	__asm        push   0x10000;
	__asm        call   0x004CB401;
	__asm        add    esp, 4;
	__asm        mov    ds:[0x59C22C], eax;
	__asm        cmp    dword ptr ds:[0x59C22C], 0;
	__asm        jge    near ptr 0x004D55FC;
// LINE 203:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 204:
	__asm        mov    eax, i;
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*2];
	__asm        lea    eax, [ecx+eax*4];
	__asm        lea    eax, [ecx+eax*4];
	__asm        mov    ecx, ds:[0x666698];
	__asm        mov    eax, [eax+ecx+0x15];
	__asm        push   eax;
	__asm        mov    eax, i;
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*2];
	__asm        lea    eax, [ecx+eax*4];
	__asm        lea    eax, [ecx+eax*4];
	__asm        add    eax, ds:[0x666698];
	__asm        add    eax, 0x19;
	__asm        push   eax;
	__asm        call   0x004D2180;
	__asm        add    esp, 8;
	__asm        mov    res, eax;
// LINE 205:
	__asm        cmp    res, 0;
	__asm        jne    near ptr 0x004D5649;
// LINE 206:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 207:
	__asm        mov    eax, ds:[0x59C22C];
	__asm        mov    ecx, res;
	__asm        mov    [ecx+4], eax;
// LINE 208:
	__asm        mov    eax, res;
	__asm        push   eax;
	__asm        call   0x004D5FA9;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D567B;
// LINE 209:
	__asm        mov    eax, res;
	__asm        push   eax;
	__asm        call   0x004D5872;
	__asm        add    esp, 4;
// LINE 210:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 212:
	__asm        mov    eax, res;
	__asm        jmp    near ptr 0x004D5820;
// LINE 214:
	__asm        jmp    near ptr 0x004D554E;
// LINE 215:
	__asm        mov    dword ptr ds:[0x662810], 7;
// LINE 216:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 217:
	__asm        jmp    near ptr 0x004D5819;
// LINE 221:
	__asm        mov    eax, name;
	__asm        push   eax;
	__asm        call   0x004D5926;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D56B9;
// LINE 222:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 224:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x004D56C8;
	__asm        inc    i;
	__asm        mov    eax, i;
	__asm        cmp    ds:[0x6666B4], eax;
	__asm        jle    near ptr 0x004D57D0;
// LINE 225:
	__asm        mov    eax, i;
	__asm        shl    eax, 2;
	__asm        lea    eax, [eax+eax*8];
	__asm        mov    ecx, ds:[0x66669C];
	__asm        mov    edx, misc;
	__asm        cmp    [eax+ecx], edx;
	__asm        jne    near ptr 0x004D57CB;
// LINE 227:
	__asm        mov    dword ptr ds:[0x59C220], 1;
// LINE 229:
	__asm        push   0;
	__asm        mov    eax, i;
	__asm        shl    eax, 2;
	__asm        lea    eax, [eax+eax*8];
	__asm        mov    ecx, ds:[0x66669C];
	__asm        mov    eax, [eax+ecx+4];
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6666A0];
	__asm        push   eax;
	__asm        call   0x005810C0;
	__asm        add    esp, 0xC;
	__asm        cmp    eax, 0xFFFFFFFF;
	__asm        jne    near ptr 0x004D573A;
// LINE 230:
	__asm        mov    dword ptr ds:[0x662810], 3;
// LINE 231:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 233:
	__asm        push   0x10000;
	__asm        call   0x004CB401;
	__asm        add    esp, 4;
	__asm        mov    ds:[0x59C22C], eax;
	__asm        cmp    dword ptr ds:[0x59C22C], 0;
	__asm        jge    near ptr 0x004D5760;
// LINE 234:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 235:
	__asm        push   1;
	__asm        mov    eax, i;
	__asm        shl    eax, 2;
	__asm        lea    eax, [eax+eax*8];
	__asm        add    eax, ds:[0x66669C];
	__asm        add    eax, 8;
	__asm        push   eax;
	__asm        call   0x004D2180;
	__asm        add    esp, 8;
	__asm        mov    res, eax;
// LINE 236:
	__asm        cmp    res, 0;
	__asm        jne    near ptr 0x004D5791;
// LINE 237:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 238:
	__asm        mov    eax, ds:[0x59C22C];
	__asm        mov    ecx, res;
	__asm        mov    [ecx+4], eax;
// LINE 239:
	__asm        mov    eax, res;
	__asm        push   eax;
	__asm        call   0x004D5FA9;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D57C3;
// LINE 240:
	__asm        mov    eax, res;
	__asm        push   eax;
	__asm        call   0x004D5872;
	__asm        add    esp, 4;
// LINE 241:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 243:
	__asm        mov    eax, res;
	__asm        jmp    near ptr 0x004D5820;
// LINE 245:
	__asm        jmp    near ptr 0x004D56C5;
// LINE 246:
	__asm        mov    dword ptr ds:[0x662810], 8;
// LINE 247:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 248:
	__asm        jmp    near ptr 0x004D5819;
// LINE 253:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 255:
	__asm        jmp    near ptr 0x004D5819;
	__asm        dec    dword ptr [ebp-0xC];
	__asm        cmp    dword ptr [ebp-0xC], 3;
	__asm        ja     near ptr 0x004D57E6;
	__asm        mov    eax, [ebp-0xC];
	__asm        jmp    dword ptr [eax*4+0x4D5809];
	__asm        daa;
	__asm        push   ebp;
	__asm        dec    ebp;
	__asm        add    [esi-0x58FFB2AA], bl;
	__asm        push   esp;
	__asm        dec    ebp;
	__asm        add    [edx+0x53], ch;
	__asm        dec    ebp;
	__asm        (bad);
// LINE 256:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5820;
// LINE 257:
	__asm        pop    edi;
	__asm        pop    esi;
	__asm        pop    ebx;
	__asm        leave;
	__asm        ret;
}

// FUNCTION: COPTER_D 0x004d5825
int32_t VRUnLoadAllResources() {
	struct VRResource* res;

// LINE 275:
	__asm        push   ebp;
	__asm        mov    ebp, esp;
	__asm        sub    esp, 4;
	__asm        push   ebx;
	__asm        push   esi;
	__asm        push   edi;
// LINE 278:
	__asm        cmp    dword ptr ds:[0x59C224], 0;
	__asm        je     near ptr 0x004D5863;
// LINE 279:
	__asm        mov    eax, ds:[0x666500];
	__asm        mov    res, eax;
// LINE 280:
	__asm        mov    eax, res;
	__asm        push   eax;
	__asm        call   0x004D5872;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D585E;
// LINE 281:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D586D;
// LINE 282:
	__asm        jmp    near ptr 0x004D582E;
// LINE 283:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x004D586D;
// LINE 284:
	__asm        pop    edi;
	__asm        pop    esi;
	__asm        pop    ebx;
	__asm        leave;
	__asm        ret;
}

// FUNCTION: COPTER_D 0x004d5872
int32_t VRUnLoadResource(struct VRResource* res) {
	struct GEOM_Resource* geo;

// LINE 301:
	__asm        push   ebp;
	__asm        mov    ebp, esp;
	__asm        sub    esp, 8;
	__asm        push   ebx;
	__asm        push   esi;
	__asm        push   edi;
// LINE 305:
	__asm        mov    eax, res;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ebp-8], eax;
	__asm        jmp    near ptr 0x004D58D8;
// LINE 308:
	__asm        mov    eax, res;
	__asm        mov    geo, eax;
// LINE 309:
	__asm        mov    eax, res;
	__asm        push   eax;
	__asm        call   0x004D5FFD;
	__asm        add    esp, 4;
// LINE 317:
	__asm        jmp    near ptr 0x004D58FB;
// LINE 320:
	__asm        mov    eax, res;
	__asm        push   eax;
	__asm        call   0x004D5FFD;
	__asm        add    esp, 4;
// LINE 321:
	__asm        jmp    near ptr 0x004D58FB;
// LINE 324:
	__asm        mov    eax, res;
	__asm        push   eax;
	__asm        call   0x004D5FFD;
	__asm        add    esp, 4;
// LINE 325:
	__asm        jmp    near ptr 0x004D58FB;
// LINE 328:
	__asm        mov    dword ptr ds:[0x662810], 0xB;
// LINE 329:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5921;
// LINE 331:
	__asm        jmp    near ptr 0x004D58FB;
	__asm        cmp    dword ptr [ebp-8], 1;
	__asm        je     near ptr 0x004D5889;
	__asm        cmp    dword ptr [ebp-8], 3;
	__asm        je     near ptr 0x004D58A0;
	__asm        cmp    dword ptr [ebp-8], 4;
	__asm        je     near ptr 0x004D58B1;
	__asm        jmp    near ptr 0x004D58C2;
// LINE 334:
	__asm        mov    eax, res;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jl     near ptr 0x004D5917;
// LINE 335:
	__asm        mov    eax, res;
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        call   0x004CB6C3;
	__asm        add    esp, 4;
// LINE 337:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x004D5921;
// LINE 338:
	__asm        pop    edi;
	__asm        pop    esi;
	__asm        pop    ebx;
	__asm        leave;
	__asm        ret;
}

// FUNCTION: COPTER_D 0x004d5926
int32_t GetDir_GEOM(char * name) {
	struct Chunk chunk;
	int32_t i;

// LINE 358:
	__asm        push   ebp;
	__asm        mov    ebp, esp;
	__asm        sub    esp, 0xC;
	__asm        push   ebx;
	__asm        push   esi;
	__asm        push   edi;
// LINE 364:
	__asm        mov    eax, name;
	__asm        push   eax;
	__asm        call   0x004D5D48;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D594A;
// LINE 365:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5BAA;
// LINE 369:
	__asm        cmp    dword ptr ds:[0x666698], 0;
	__asm        je     near ptr 0x004D596E;
	__asm        cmp    dword ptr ds:[0x66669C], 0;
	__asm        je     near ptr 0x004D596E;
// LINE 370:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x004D5BAA;
// LINE 375:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x004D597D;
	__asm        inc    i;
	__asm        mov    eax, i;
	__asm        cmp    ds:[0x666694], eax;
	__asm        jle    near ptr 0x004D5B99;
// LINE 377:
	__asm        mov    eax, i;
	__asm        mov    ecx, ds:[0x6663EC];
	__asm        cmp    dword ptr [ecx+eax*8], 0x4D4F4547;
	__asm        jne    near ptr 0x004D5B94;
// LINE 379:
	__asm        mov    dword ptr ds:[0x59C220], 1;
// LINE 381:
	__asm        push   0;
	__asm        mov    eax, i;
	__asm        mov    ecx, ds:[0x6663EC];
	__asm        mov    eax, [ecx+eax*8+4];
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6666A0];
	__asm        push   eax;
	__asm        call   0x005810C0;
	__asm        add    esp, 0xC;
	__asm        cmp    eax, 0xFFFFFFFF;
	__asm        jne    near ptr 0x004D59E4;
// LINE 382:
	__asm        mov    dword ptr ds:[0x662810], 3;
// LINE 383:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5BAA;
// LINE 386:
	__asm        push   8;
	__asm        lea    eax, chunk.Id;
	__asm        push   eax;
	__asm        call   0x004D5F1E;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5A01;
// LINE 387:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5BAA;
// LINE 403:
	__asm        cmp    chunk.Id, 0x4D4F4547;
	__asm        je     near ptr 0x004D5A1F;
// LINE 404:
	__asm        mov    dword ptr ds:[0x662810], 6;
// LINE 405:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5BAA;
// LINE 408:
	__asm        push   0x10;
	__asm        push   0x6666B0;
	__asm        call   0x004D5F1E;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5A3D;
// LINE 409:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5BAA;
// LINE 438:
	__asm        mov    eax, ds:[0x6666B0];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*2];
	__asm        lea    eax, [ecx+eax*4];
	__asm        lea    eax, [ecx+eax*4];
	__asm        push   eax;
	__asm        mov    eax, ds:[0x59C228];
	__asm        push   eax;
	__asm        call   0x004CB4AC;
	__asm        add    esp, 8;
	__asm        mov    ds:[0x666698], eax;
// LINE 440:
	__asm        mov    eax, ds:[0x6666B4];
	__asm        shl    eax, 2;
	__asm        lea    eax, [eax+eax*8];
	__asm        push   eax;
	__asm        mov    eax, ds:[0x59C228];
	__asm        push   eax;
	__asm        call   0x004CB4AC;
	__asm        add    esp, 8;
	__asm        mov    ds:[0x66669C], eax;
// LINE 441:
	__asm        cmp    dword ptr ds:[0x666698], 0;
	__asm        jne    near ptr 0x004D5ABF;
	__asm        cmp    dword ptr ds:[0x66669C], 0;
	__asm        jne    near ptr 0x004D5ABF;
// LINE 442:
	__asm        mov    dword ptr ds:[0x66669C], 0;
// LINE 443:
	__asm        mov    dword ptr ds:[0x666698], 0;
// LINE 444:
	__asm        mov    dword ptr ds:[0x662810], 4;
// LINE 445:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5BAA;
// LINE 449:
	__asm        mov    dword ptr ds:[0x59C220], 1;
// LINE 451:
	__asm        push   0;
	__asm        mov    eax, ds:[0x6666B8];
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6666A0];
	__asm        push   eax;
	__asm        call   0x005810C0;
	__asm        add    esp, 0xC;
	__asm        cmp    eax, 0xFFFFFFFF;
	__asm        jne    near ptr 0x004D5AF9;
// LINE 452:
	__asm        mov    dword ptr ds:[0x662810], 3;
// LINE 453:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5BAA;
// LINE 456:
	__asm        mov    eax, ds:[0x6666B0];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*2];
	__asm        lea    eax, [ecx+eax*4];
	__asm        lea    eax, [ecx+eax*4];
	__asm        push   eax;
	__asm        mov    eax, ds:[0x666698];
	__asm        push   eax;
	__asm        call   0x004D5F1E;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5B27;
// LINE 457:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5BAA;
// LINE 533:
	__asm        mov    dword ptr ds:[0x59C220], 1;
// LINE 535:
	__asm        push   0;
	__asm        mov    eax, ds:[0x6666BC];
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6666A0];
	__asm        push   eax;
	__asm        call   0x005810C0;
	__asm        add    esp, 0xC;
	__asm        cmp    eax, 0xFFFFFFFF;
	__asm        jne    near ptr 0x004D5B61;
// LINE 536:
	__asm        mov    dword ptr ds:[0x662810], 3;
// LINE 537:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5BAA;
// LINE 540:
	__asm        mov    eax, ds:[0x6666B4];
	__asm        shl    eax, 2;
	__asm        lea    eax, [eax+eax*8];
	__asm        push   eax;
	__asm        mov    eax, ds:[0x66669C];
	__asm        push   eax;
	__asm        call   0x004D5F1E;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5B8A;
// LINE 541:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5BAA;
// LINE 609:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x004D5BAA;
// LINE 611:
	__asm        jmp    near ptr 0x004D597A;
// LINE 612:
	__asm        mov    dword ptr ds:[0x662810], 5;
// LINE 613:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5BAA;
// LINE 615:
	__asm        pop    edi;
	__asm        pop    esi;
	__asm        pop    ebx;
	__asm        leave;
	__asm        ret;
}

// FUNCTION: COPTER_D 0x004d5baf
int32_t GetDir_CMAP(char * name) {
	struct Chunk chunk;
	int32_t i;

// LINE 635:
	__asm        push   ebp;
	__asm        mov    ebp, esp;
	__asm        sub    esp, 0xC;
	__asm        push   ebx;
	__asm        push   esi;
	__asm        push   edi;
// LINE 640:
	__asm        mov    eax, name;
	__asm        push   eax;
	__asm        call   0x004D5D48;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5BD3;
// LINE 641:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5D43;
// LINE 645:
	__asm        cmp    dword ptr ds:[0x666690], 0;
	__asm        je     near ptr 0x004D5BEA;
// LINE 646:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x004D5D43;
// LINE 651:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x004D5BF9;
	__asm        inc    i;
	__asm        mov    eax, i;
	__asm        cmp    ds:[0x666694], eax;
	__asm        jle    near ptr 0x004D5D32;
// LINE 653:
	__asm        mov    eax, i;
	__asm        mov    ecx, ds:[0x6663EC];
	__asm        cmp    dword ptr [ecx+eax*8], 0x50414D43;
	__asm        jne    near ptr 0x004D5D2D;
// LINE 655:
	__asm        mov    dword ptr ds:[0x59C220], 1;
// LINE 657:
	__asm        push   0;
	__asm        mov    eax, i;
	__asm        mov    ecx, ds:[0x6663EC];
	__asm        mov    eax, [ecx+eax*8+4];
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6666A0];
	__asm        push   eax;
	__asm        call   0x005810C0;
	__asm        add    esp, 0xC;
	__asm        cmp    eax, 0xFFFFFFFF;
	__asm        jne    near ptr 0x004D5C60;
// LINE 658:
	__asm        mov    dword ptr ds:[0x662810], 3;
// LINE 659:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5D43;
// LINE 662:
	__asm        push   8;
	__asm        lea    eax, chunk.Id;
	__asm        push   eax;
	__asm        call   0x004D5F1E;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5C7D;
// LINE 663:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5D43;
// LINE 678:
	__asm        cmp    chunk.Id, 0x50414D43;
	__asm        je     near ptr 0x004D5C9B;
// LINE 679:
	__asm        mov    dword ptr ds:[0x662810], 6;
// LINE 680:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5D43;
// LINE 683:
	__asm        push   4;
	__asm        push   0x6666A4;
	__asm        call   0x004D5F1E;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5CB9;
// LINE 684:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5D43;
// LINE 694:
	__asm        mov    eax, ds:[0x6666A4];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*4];
	__asm        push   eax;
	__asm        mov    eax, ds:[0x59C228];
	__asm        push   eax;
	__asm        call   0x004CB4AC;
	__asm        add    esp, 8;
	__asm        mov    ds:[0x666690], eax;
// LINE 695:
	__asm        cmp    dword ptr ds:[0x666690], 0;
	__asm        jne    near ptr 0x004D5CF8;
// LINE 696:
	__asm        mov    dword ptr ds:[0x662810], 4;
// LINE 697:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5D43;
// LINE 700:
	__asm        mov    eax, ds:[0x6666A4];
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*4];
	__asm        push   eax;
	__asm        mov    eax, ds:[0x666690];
	__asm        push   eax;
	__asm        call   0x004D5F1E;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5D23;
// LINE 701:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5D43;
// LINE 726:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x004D5D43;
// LINE 728:
	__asm        jmp    near ptr 0x004D5BF6;
// LINE 729:
	__asm        mov    dword ptr ds:[0x662810], 5;
// LINE 730:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5D43;
// LINE 732:
	__asm        pop    edi;
	__asm        pop    esi;
	__asm        pop    ebx;
	__asm        leave;
	__asm        ret;
}

// FUNCTION: COPTER_D 0x004d5d48
int32_t GetResourceDir(char * name) {
	struct Chunk chunk;

// LINE 752:
	__asm        push   ebp;
	__asm        mov    ebp, esp;
	__asm        sub    esp, 8;
	__asm        push   ebx;
	__asm        push   esi;
	__asm        push   edi;
// LINE 758:
	__asm        mov    eax, name;
	__asm        push   eax;
	__asm        push   0x6663F0;
	__asm        call   0x005884D0;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5DBC;
// LINE 759:
	__asm        cmp    dword ptr ds:[0x6663EC], 0;
	__asm        je     near ptr 0x004D5D81;
// LINE 760:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x004D5E7C;
// LINE 766:
	__asm        mov    dword ptr ds:[0x59C220], 1;
// LINE 768:
	__asm        push   0;
	__asm        push   0;
	__asm        mov    eax, ds:[0x6666A0];
	__asm        push   eax;
	__asm        call   0x005810C0;
	__asm        add    esp, 0xC;
	__asm        cmp    eax, 0xFFFFFFFF;
	__asm        jne    near ptr 0x004D5DB7;
// LINE 769:
	__asm        mov    dword ptr ds:[0x662810], 3;
// LINE 770:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5E7C;
// LINE 773:
	__asm        jmp    near ptr 0x004D5DD7;
// LINE 774:
	__asm        mov    eax, name;
	__asm        push   eax;
	__asm        call   0x004D5E81;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5DD7;
// LINE 775:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5E7C;
// LINE 783:
	__asm        push   8;
	__asm        lea    eax, chunk.Id;
	__asm        push   eax;
	__asm        call   0x004D5F1E;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5DF4;
// LINE 784:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5E7C;
// LINE 801:
	__asm        push   4;
	__asm        push   0x666694;
	__asm        call   0x004D5F1E;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5E12;
// LINE 802:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5E7C;
// LINE 815:
	__asm        mov    eax, ds:[0x666694];
	__asm        shl    eax, 3;
	__asm        push   eax;
	__asm        mov    eax, ds:[0x59C228];
	__asm        push   eax;
	__asm        call   0x004CB4AC;
	__asm        add    esp, 8;
	__asm        mov    ds:[0x6663EC], eax;
// LINE 816:
	__asm        cmp    dword ptr ds:[0x6663EC], 0;
	__asm        jne    near ptr 0x004D5E4C;
// LINE 817:
	__asm        mov    dword ptr ds:[0x662810], 4;
// LINE 818:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5E7C;
// LINE 821:
	__asm        mov    eax, ds:[0x666694];
	__asm        shl    eax, 3;
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6663EC];
	__asm        push   eax;
	__asm        call   0x004D5F1E;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D5E72;
// LINE 822:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5E7C;
// LINE 848:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x004D5E7C;
// LINE 849:
	__asm        pop    edi;
	__asm        pop    esi;
	__asm        pop    ebx;
	__asm        leave;
	__asm        ret;
}

// FUNCTION: COPTER_D 0x004d5e81
int32_t OpenResourceFile(char * name) {
// LINE 868:
	__asm        push   ebp;
	__asm        mov    ebp, esp;
	__asm        push   ebx;
	__asm        push   esi;
	__asm        push   edi;
// LINE 872:
	__asm        call   0x004D5F63;
// LINE 873:
	__asm        push   0x8000;
	__asm        mov    eax, name;
	__asm        push   eax;
	__asm        call   0x00586640;
	__asm        add    esp, 8;
	__asm        mov    ds:[0x6666A0], eax;
	__asm        cmp    dword ptr ds:[0x6666A0], 0xFFFFFFFF;
	__asm        jne    near ptr 0x004D5EC0;
// LINE 874:
	__asm        mov    dword ptr ds:[0x662810], 1;
// LINE 875:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5F19;
// LINE 878:
	__asm        push   0x7D0;
	__asm        call   0x004CB401;
	__asm        add    esp, 4;
	__asm        mov    ds:[0x59C228], eax;
	__asm        cmp    dword ptr ds:[0x59C228], 0;
	__asm        jge    near ptr 0x004D5EFE;
// LINE 880:
	__asm        mov    eax, ds:[0x6666A0];
	__asm        push   eax;
	__asm        call   0x00578E50;
	__asm        add    esp, 4;
// LINE 881:
	__asm        mov    dword ptr ds:[0x662810], 1;
// LINE 882:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5F19;
// LINE 884:
	__asm        mov    eax, name;
	__asm        push   eax;
	__asm        push   0x6663F0;
	__asm        call   0x0056CEB0;
	__asm        add    esp, 8;
// LINE 885:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x004D5F19;
// LINE 887:
	__asm        pop    edi;
	__asm        pop    esi;
	__asm        pop    ebx;
	__asm        leave;
	__asm        ret;
}

// FUNCTION: COPTER_D 0x004d5f1e
int32_t ReadResource(void * __ptr32 buf, int32_t s) {
// LINE 915:
	__asm        push   ebp;
	__asm        mov    ebp, esp;
	__asm        push   ebx;
	__asm        push   esi;
	__asm        push   edi;
// LINE 1058:
	__asm        mov    eax, s;
	__asm        push   eax;
	__asm        mov    eax, buf;
	__asm        push   eax;
	__asm        mov    eax, ds:[0x6666A0];
	__asm        push   eax;
	__asm        call   0x00580B50;
	__asm        add    esp, 0xC;
	__asm        cmp    eax, s;
	__asm        je     near ptr 0x004D5F54;
// LINE 1059:
	__asm        mov    dword ptr ds:[0x662810], 2;
// LINE 1060:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5F5E;
// LINE 1062:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x004D5F5E;
// LINE 1064:
	__asm        pop    edi;
	__asm        pop    esi;
	__asm        pop    ebx;
	__asm        leave;
	__asm        ret;
}

// FUNCTION: COPTER_D 0x004d5f63
void VRCloseResourceFile() {
// LINE 1079:
	__asm        push   ebp;
	__asm        mov    ebp, esp;
	__asm        push   ebx;
	__asm        push   esi;
	__asm        push   edi;
// LINE 1092:
	__asm        cmp    dword ptr ds:[0x6666A0], 0;
	__asm        je     near ptr 0x004D5F84;
// LINE 1093:
	__asm        mov    eax, ds:[0x6666A0];
	__asm        push   eax;
	__asm        call   0x00578E50;
	__asm        add    esp, 4;
// LINE 1094:
	__asm        cmp    dword ptr ds:[0x59C228], 0;
	__asm        jl     near ptr 0x004D5F9F;
// LINE 1096:
	__asm        mov    eax, ds:[0x59C228];
	__asm        push   eax;
	__asm        call   0x004CB6C3;
	__asm        add    esp, 4;
// LINE 1099:
	__asm        call   0x004D52C0;
// LINE 1100:
	__asm        pop    edi;
	__asm        pop    esi;
	__asm        pop    ebx;
	__asm        leave;
	__asm        ret;
}

// FUNCTION: COPTER_D 0x004d5fa9
int32_t RegisterResource(struct VRResource* res) {
// LINE 1117:
	__asm        push   ebp;
	__asm        mov    ebp, esp;
	__asm        push   ebx;
	__asm        push   esi;
	__asm        push   edi;
// LINE 1119:
	__asm        cmp    dword ptr ds:[0x59C224], 0x64;
	__asm        jl     near ptr 0x004D5FCD;
// LINE 1120:
	__asm        mov    dword ptr ds:[0x662810], 0xC;
// LINE 1121:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D5FF8;
// LINE 1123:
	__asm        mov    eax, ds:[0x59C224];
	__asm        mov    ecx, res;
	__asm        mov    [ecx+0xC], eax;
// LINE 1124:
	__asm        mov    eax, res;
	__asm        mov    ecx, ds:[0x59C224];
	__asm        mov    [ecx*4+0x666500], eax;
	__asm        inc    dword ptr ds:[0x59C224];
// LINE 1125:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x004D5FF8;
// LINE 1127:
	__asm        pop    edi;
	__asm        pop    esi;
	__asm        pop    ebx;
	__asm        leave;
	__asm        ret;
}

// FUNCTION: COPTER_D 0x004d5ffd
void UnRegisterResource(struct VRResource* res) {
	int32_t i;
	struct VRResource* r;

// LINE 1142:
	__asm        push   ebp;
	__asm        mov    ebp, esp;
	__asm        sub    esp, 8;
	__asm        push   ebx;
	__asm        push   esi;
	__asm        push   edi;
// LINE 1146:
	__asm        mov    eax, res;
	__asm        mov    eax, [eax+0xC];
	__asm        mov    i, eax;
// LINE 1147:
	__asm        mov    eax, i;
	__asm        mov    ecx, res;
	__asm        cmp    [eax*4+0x666500], ecx;
	__asm        je     near ptr 0x004D6027;
// LINE 1148:
	__asm        jmp    near ptr 0x004D6059;
// LINE 1149:
	__asm        dec    dword ptr ds:[0x59C224];
// LINE 1150:
	__asm        mov    eax, ds:[0x59C224];
	__asm        mov    eax, [eax*4+0x666500];
	__asm        mov    ecx, i;
	__asm        mov    [ecx*4+0x666500], eax;
	__asm        mov    eax, i;
	__asm        mov    eax, [eax*4+0x666500];
	__asm        mov    r, eax;
// LINE 1151:
	__asm        mov    eax, i;
	__asm        mov    ecx, r;
	__asm        mov    [ecx+0xC], eax;
// LINE 1153:
	__asm        pop    edi;
	__asm        pop    esi;
	__asm        pop    ebx;
	__asm        leave;
	__asm        ret;
}



// Contribution: 3:00005220-00005230 Module: 146, 4 byte alignment, initialized_data, read, write, 
// GLOBAL: COPTER_D 0x0059c220
// bufferBad
// GLOBAL: COPTER_D 0x0059c224
// NextResource
// GLOBAL: COPTER_D 0x0059c228
// ResFileMemPool
// GLOBAL: COPTER_D 0x0059c22c
// G_currmempool


// Unknown globals:
// The PDB was slightly corrupted and we aren't sure which file these globals belong to.
// GLOBAL: COPTER_D 0x006666b0
// _GEOM_hdr
// GLOBAL: COPTER_D 0x006666a4
// _CMAP_hdr
// GLOBAL: COPTER_D 0x006666a0
// _ResourceFilePtr
// GLOBAL: COPTER_D 0x0066669c
// _GEOM_IDdir
// GLOBAL: COPTER_D 0x00666698
// _GEOM_GPdir
// GLOBAL: COPTER_D 0x00666694
// _ResourceDirHdr
// GLOBAL: COPTER_D 0x00666690
// _CMAP_directory
// GLOBAL: COPTER_D 0x00666500
// _ResourceArray
// GLOBAL: COPTER_D 0x006663f0
// _ResourceFileName
// GLOBAL: COPTER_D 0x006663ec
// _ResourceDir
// GLOBAL: COPTER_D 0x006663f0
// ResourceFileName
// GLOBAL: COPTER_D 0x006663ec
// ResourceDir
// GLOBAL: COPTER_D 0x006666a0
// ResourceFilePtr
// GLOBAL: COPTER_D 0x00666694
// ResourceDirHdr
// GLOBAL: COPTER_D 0x00666500
// ResourceArray
