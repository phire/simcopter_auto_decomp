// Module: Loadpal.obj
// Source: C:\Copter\source\engine\Loadpal.c
// autogenerated by simcopter_tool from PDB file

// Type: /*packed*/ struct CMAP_Resource (forward reference);
struct CMAP_Resource{ // packed(0x10 bytes) TI: 0x2f34
	/*+0x0*/   /*packed*/ struct VRResource res; // 0x10 bytes
	/*+0x10*/  char cmap[0]; // 0x0 bytes
};

// Type: /*packed*/ struct VRResource (forward reference);
struct VRResource{ // packed(0x10 bytes) TI: 0x18ae
	/*+0x0*/   char * mem;
	/*+0x4*/   int32_t mempoolid;
	/*+0x8*/   int32_t type;
	/*+0xc*/   int32_t entry;
};

// Type: char *;



// Contribution: 1:000d10d0-000d1175 Module: 148, 16 byte alignment, code, execute, read, 
// FUNCTION: COPTER_D 0x004d20d0
/*packed*/ struct VRResource* LoadPalette() {
	/*bp-0x4*/   /*packed*/ struct CMAP_Resource *res;

// LINE 56:
	__asm        push   0x310;
	__asm        mov    eax, G_currmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    res, eax;
// LINE 57:
	__asm        cmp    res, 0;
	__asm        jne    _T3a;
// LINE 58:
	GlobalError = 0x4;
// LINE 59:
	__asm        xor    eax, eax;
	__asm        jmp    _T82;
// LINE 62:
_T3a:
	__asm        push   0x300;
	__asm        mov    eax, res;
	__asm        add    eax, 0x10;
	__asm        push   eax;
	__asm        call   ReadResource;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        jne    _T5d;
// LINE 63:
	__asm        xor    eax, eax;
	__asm        jmp    _T82;
// LINE 94:
_T5d:
	res->res.mem = 0x0;
// LINE 95:
	res->res.type = 0x4;
// LINE 96:
	res->res.entry = 0x0;
// LINE 97:
	__asm        mov    eax, res;
	__asm        jmp    _T82;
// LINE 99:
_T82:
}

// FUNCTION: COPTER_D 0x004d2157
char * VRGetPalFromResource(/*packed*/ struct VRResource *res) {
	/*bp-0x4*/   /*packed*/ struct CMAP_Resource *cmp;

// LINE 113:
	cmp = res;
// LINE 114:
	__asm        mov    eax, cmp;
	__asm        add    eax, 0x10;
	__asm        jmp    _T1a;
// LINE 116:
_T1a:
}

