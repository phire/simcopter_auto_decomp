// Module: Loadpal.obj
// Source: C:\Copter\source\engine\Loadpal.c
// autogenerated by simcopter_tool from PDB file

// Type: struct CMAP_Resource (forward reference);
// Type: struct VRResource (forward reference);
// Type: char *;


// Contribution: 1:000d10d0-000d1175 Module: 148, 16 byte alignment, code, execute, read, 
// FUNCTION: COPTER_D 0x004d20d0
struct VRResource* LoadPalette() {
	struct CMAP_Resource* res;

// LINE 53:
	__asm        push   ebp;
	__asm        mov    ebp, esp;
	__asm        sub    esp, 4;
	__asm        push   ebx;
	__asm        push   esi;
	__asm        push   edi;
// LINE 56:
	__asm        push   0x310;
	__asm        mov    eax, ds:[0x59C22C];
	__asm        push   eax;
	__asm        call   0x004CB4AC;
	__asm        add    esp, 8;
	__asm        mov    res, eax;
// LINE 57:
	__asm        cmp    res, 0;
	__asm        jne    near ptr 0x004D210A;
// LINE 58:
	__asm        mov    dword ptr ds:[0x662810], 4;
// LINE 59:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D2152;
// LINE 62:
	__asm        push   0x300;
	__asm        mov    eax, res;
	__asm        add    eax, 0x10;
	__asm        push   eax;
	__asm        call   0x004D5F1E;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        jne    near ptr 0x004D212D;
// LINE 63:
	__asm        xor    eax, eax;
	__asm        jmp    near ptr 0x004D2152;
// LINE 94:
	__asm        mov    eax, res;
	__asm        mov    dword ptr [eax], 0;
// LINE 95:
	__asm        mov    eax, res;
	__asm        mov    dword ptr [eax+8], 4;
// LINE 96:
	__asm        mov    eax, res;
	__asm        mov    dword ptr [eax+0xC], 0;
// LINE 97:
	__asm        mov    eax, res;
	__asm        jmp    near ptr 0x004D2152;
// LINE 99:
	__asm        pop    edi;
	__asm        pop    esi;
	__asm        pop    ebx;
	__asm        leave;
	__asm        ret;
}

// FUNCTION: COPTER_D 0x004d2157
char * VRGetPalFromResource(struct VRResource* res) {
	struct CMAP_Resource* cmp;

// LINE 110:
	__asm        push   ebp;
	__asm        mov    ebp, esp;
	__asm        sub    esp, 4;
	__asm        push   ebx;
	__asm        push   esi;
	__asm        push   edi;
// LINE 113:
	__asm        mov    eax, res;
	__asm        mov    cmp, eax;
// LINE 114:
	__asm        mov    eax, cmp;
	__asm        add    eax, 0x10;
	__asm        jmp    near ptr 0x004D2171;
// LINE 116:
	__asm        pop    edi;
	__asm        pop    esi;
	__asm        pop    ebx;
	__asm        leave;
	__asm        ret;
}

