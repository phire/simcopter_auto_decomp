// Module: Loadpal.obj
// Source: C:\Copter\source\engine\Loadpal.c
// autogenerated by simcopter_tool from PDB file

// Type: struct CMAP_Resource (forward reference);
struct CMAP_Resource{
	struct VRResource res;
	char cmap[0];
};

// Type: struct VRResource (forward reference);
struct VRResource{
	char * mem;
	int32_t mempoolid;
	int32_t type;
	int32_t entry;
};

// Type: char *;



// Contribution: 1:000d10d0-000d1175 Module: 148, 16 byte alignment, code, execute, read, 
// FUNCTION: COPTER_D 0x004d20d0
struct VRResource* LoadPalette() {
	struct CMAP_Resource *res;

// LINE 56:
	__asm        push   0x310;
	__asm        mov    eax, G_currmempool;
	__asm        push   eax;
	__asm        call   S2Alloc;
	__asm        add    esp, 8;
	__asm        mov    res, eax;
// LINE 57:
	__asm        cmp    res, 0;
	__asm        jne    _T3a;
// LINE 58:
	GlobalError = 0x4;
// LINE 59:
	__asm        xor    eax, eax;
	__asm        jmp    _T82;
// LINE 62:
_T3a:
	__asm        push   0x300;
	__asm        mov    eax, res;
	__asm        add    eax, 0x10;
	__asm        push   eax;
	__asm        call   ReadResource;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        jne    _T5d;
// LINE 63:
	__asm        xor    eax, eax;
	__asm        jmp    _T82;
// LINE 94:
_T5d:
	res->res.mem = 0x0;
// LINE 95:
	res->res.type = 0x4;
// LINE 96:
	res->res.entry = 0x0;
// LINE 97:
	__asm        mov    eax, res;
	__asm        jmp    _T82;
// LINE 99:
_T82:
}

// FUNCTION: COPTER_D 0x004d2157
char * VRGetPalFromResource(struct VRResource *res) {
	struct CMAP_Resource *cmp;

// LINE 113:
	cmp = res;
// LINE 114:
	__asm        mov    eax, cmp;
	__asm        add    eax, 0x10;
	__asm        jmp    near ptr 0x004D2171;
// LINE 116:
}

