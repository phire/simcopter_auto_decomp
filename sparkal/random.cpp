// Module: Random.obj
// Source: C:\Copter\source\sparkal\Random.cpp
// autogenerated by simcopter_tool from PDB file

// Type: void;

// Type: unsigned long;

// Type: class Random (forward reference);
class Random{
public:
	void Random(unsigned long);
	unsigned long operator()(unsigned long);
	void seed(unsigned long);
protected:
	unsigned long table[55];
	uint32_t index1;
	uint32_t index2;
};

// Type: uint32_t;

// Type: int32_t;



// Contribution: 1:0008ff90-00090171 Module: 22, 16 byte alignment, code, execute, read, 
// STATIC INITIALIZER:
// FUNCTION: COPTER_D 0x00490f90
void $E2() {
	__asm        call   0x00490FA5;
	__asm        jmp    near ptr 0x00490FA0;
}

// STATIC INITIALIZER:
// FUNCTION: COPTER_D 0x00490fa5
void $E1() {
	__asm        call   0x0056F980;
	__asm        mov    [ebp-4], eax;
	__asm        mov    eax, [ebp-4];
	__asm        push   eax;
	__asm        mov    ecx, 0x604B18;
	__asm        call   0x00490FF1;
	__asm        jmp    near ptr 0x00490FC9;
	__asm        jmp    near ptr 0x00490FCE;
}

// FUNCTION: COPTER_D 0x00490fd3
unsigned long __long_random(unsigned long limit) {
// LINE 27:
	__asm        mov    eax, limit;
	__asm        push   eax;
	__asm        mov    ecx, 0x604B18;
	__asm        call   0x004910EA;
	__asm        jmp    near ptr 0x00490FEC;
// LINE 28:
}

// FUNCTION: COPTER_D 0x00490ff1
void Random::seed(unsigned long j) {
	unsigned long k;
	uint32_t i;
	int32_t loop;

// LINE 35:
	__asm        mov    k, 1;
// LINE 36:
	__asm        mov    eax, j;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0xD8], eax;
// LINE 37:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x0049101F;
	__asm        inc    i;
	__asm        cmp    i, 0x36;
	__asm        jae    near ptr 0x00491066;
// LINE 38:
// Block start:
	uint32_t ii;
	__asm        mov    eax, i;
	__asm        mov    ecx, eax;
	__asm        lea    eax, [eax+eax*4];
	__asm        lea    eax, [ecx+eax*4];
	__asm        mov    ecx, 0x37;
	__asm        sub    edx, edx;
	__asm        div    ecx;
	__asm        mov    ii, edx;
// LINE 39:
	__asm        mov    eax, k;
	__asm        mov    ecx, ii;
	__asm        mov    edx, this;
	__asm        mov    [edx+ecx*4], eax;
// LINE 40:
	__asm        mov    eax, j;
	__asm        sub    eax, k;
	__asm        mov    k, eax;
// LINE 41:
	__asm        mov    eax, ii;
	__asm        mov    ecx, this;
	__asm        mov    eax, [ecx+eax*4];
	__asm        mov    j, eax;
// LINE 42:
// Block end:
	__asm        jmp    near ptr 0x0049101C;
// LINE 43:
	__asm        mov    loop, 0;
	__asm        jmp    near ptr 0x00491075;
	__asm        inc    loop;
	__asm        cmp    loop, 4;
	__asm        jge    near ptr 0x004910C4;
// LINE 44:
	__asm        mov    i, 0;
	__asm        jmp    near ptr 0x0049108E;
	__asm        inc    i;
	__asm        cmp    i, 0x37;
	__asm        jae    near ptr 0x004910BF;
// LINE 45:
	__asm        xor    ecx, ecx;
	__asm        mov    eax, i;
	__asm        mov    ebx, 0x37;
	__asm        add    eax, 0x1F;
	__asm        sub    edx, edx;
	__asm        div    ebx;
	__asm        mov    eax, this;
	__asm        sub    ecx, [eax+edx*4];
	__asm        neg    ecx;
	__asm        mov    eax, i;
	__asm        mov    edx, this;
	__asm        sub    [edx+eax*4], ecx;
	__asm        jmp    near ptr 0x0049108B;
// LINE 46:
	__asm        jmp    near ptr 0x00491072;
// LINE 47:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0xDC], 0;
// LINE 48:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0xE0], 0x1F;
// LINE 49:
	__asm        jmp    near ptr 0x004910E3;
}

// FUNCTION: COPTER_D 0x004910ea
unsigned long Random::operator()(unsigned long limit) {
// LINE 59:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0xDC];
	__asm        mov    ecx, 0x37;
	__asm        inc    eax;
	__asm        sub    edx, edx;
	__asm        div    ecx;
	__asm        mov    eax, this;
	__asm        mov    [eax+0xDC], edx;
// LINE 60:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0xE0];
	__asm        mov    ecx, 0x37;
	__asm        inc    eax;
	__asm        sub    edx, edx;
	__asm        div    ecx;
	__asm        mov    eax, this;
	__asm        mov    [eax+0xE0], edx;
// LINE 61:
	__asm        xor    eax, eax;
	__asm        mov    ecx, this;
	__asm        mov    ecx, [ecx+0xE0];
	__asm        mov    edx, this;
	__asm        sub    eax, [edx+ecx*4];
	__asm        neg    eax;
	__asm        mov    ecx, this;
	__asm        mov    ecx, [ecx+0xDC];
	__asm        mov    edx, this;
	__asm        sub    [edx+ecx*4], eax;
// LINE 62:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0xDC];
	__asm        mov    ecx, this;
	__asm        mov    eax, [ecx+eax*4];
	__asm        sub    edx, edx;
	__asm        div    limit;
	__asm        mov    eax, edx;
	__asm        jmp    near ptr 0x0049116B;
// LINE 63:
}



// Contribution: 3:00000084-00000087 Module: 22, 4 byte alignment, initialized_data, read, write, 
// LOCAL: COPTER_D 0x00597084
// $S3


// Contribution: 3:0006db18-0006dbfb Module: 22, 8 byte alignment, uninitialized_data, read, write, 
// GLOBAL: COPTER_D 0x00604b18
// gRandom
