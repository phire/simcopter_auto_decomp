// Module: Smkbuff.obj
// Source: C:\Copter\source\sparkal\Smkbuff.cpp
// autogenerated by simcopter_tool from PDB file

// Type: /*packed*/ class SmackerBuffer (forward reference);
// VTABLE: COPTER_D 0x00591138
class SmackerBuffer{ // packed(0x140 bytes) TI: 0x20de
public:
	void SmackerBuffer(char *, int32_t, int32_t);
	void SmackerBuffer();
	virtual void ~SmackerBuffer(); // vtable+0x0
	virtual int32_t Initialize(); // vtable+0x4
	virtual int32_t CreateSurface(); // vtable+0x8
	virtual void ClearBuffer(int32_t); // vtable+0xc
	virtual int32_t Open(char *, unsigned long, unsigned long); // vtable+0x10
	virtual void Close(); // vtable+0x14
	virtual int32_t ComposeToWindow(); // vtable+0x18
	virtual int32_t SetPalette(); // vtable+0x1c
	void Goto(unsigned long);
	void Reset();
	void GetSummary(/*packed*/ struct SmackSumTag*);
	void CenterBufferInRect(/*packed*/ struct SparkalRect*);
	void SetBufferPosition(int32_t, int32_t);
	void SetWindow(/*packed*/ class CSparkalWindow*);
	void SetWindow(void * __ptr32);
	void SetZoomFactor(int32_t);
	// calltype: NearC
	static char * GetSmackerVersion(char *);
	/*+0x4*/   int32_t nStatus;
	/*+0x8*/   int32_t bLoopVideo;
	/*+0xc*/   int32_t bBlankAtEndOfVideo;
	/*+0x10*/  int32_t nBlankColorIndex;
	/*+0x14*/  /*packed*/ struct SparkalColor colorWindowFill;
	/*+0x18*/  void * __ptr32 myWindow;
	/*+0x1c*/  int32_t nBufferWidth;
	/*+0x20*/  int32_t nBufferHeight;
	/*+0x24*/  int32_t nDestX;
	/*+0x28*/  int32_t nDestY;
	/*+0x2c*/  int32_t nDestWidth;
	/*+0x30*/  int32_t nDestHeight;
protected:
	/*+0x34*/  /*packed*/ struct SmackBufTag *smkbuf;
	/*+0x38*/  /*packed*/ struct SmackTag *smk;
	/*+0x3c*/  char szSmackFilePath[260]; // 0x104 bytes
};

// Type: void;

// Type: char *;

// Type: int32_t;

// Type: unsigned long;

// Type: void * __ptr32;

// Type: /*packed*/ struct SparkalRect;
struct SparkalRect{ // packed(0x10 bytes) TI: 0x155f
	/*+0x0*/   long left;
	/*+0x4*/   long top;
	/*+0x8*/   long right;
	/*+0xc*/   long bottom;
	void SparkalRect(long, long, long, long);
	void SparkalRect();
};

// Type: /*packed*/ struct tagRECT;
struct tagRECT{ // packed(0x10 bytes) TI: 0x13c4
	/*+0x0*/   long left;
	/*+0x4*/   long top;
	/*+0x8*/   long right;
	/*+0xc*/   long bottom;
};

// Type: /*unpacked*/ class CSparkalWindow (forward reference);
// CSparkalWindow Class implementation not found

// Type: /*packed*/ struct SparkalRect (forward reference);
struct SparkalRect{ // packed(0x10 bytes) TI: 0x155f
	/*+0x0*/   long left;
	/*+0x4*/   long top;
	/*+0x8*/   long right;
	/*+0xc*/   long bottom;
	void SparkalRect(long, long, long, long);
	void SparkalRect();
};

// Type: /*packed*/ class VRBmpSmackerBuffer (forward reference);
// VTABLE: COPTER_D 0x00591158
class VRBmpSmackerBuffer : public SmackerBuffer
{ // packed(0x164 bytes) TI: 0x230c
public:
	/*+0x140*/ char * szVRBmpName;
	/*+0x144*/ int32_t nVRBmpFlags;
	/*+0x148*/ /*packed*/ struct VRResource *vrOriginalResource;
	/*+0x14c*/ /*packed*/ struct VRBmpHdr *bmpOriginalHeader;
	/*+0x150*/ int32_t bPreserveBmp;
	/*+0x154*/ char * chVRBmpHeader;
	/*+0x158*/ /*packed*/ struct VRBmpHdr *bmpHeader;
	/*+0x15c*/ char * bmpDataStart;
	/*+0x160*/ int32_t bPreserveSmackerBuffer;
	void VRBmpSmackerBuffer(char *, int32_t, int32_t, int32_t);
	void VRBmpSmackerBuffer();
	virtual void ~VRBmpSmackerBuffer() /* override */;
	void InitializeVRBmpMembers();
	virtual int32_t CreateSurface(int32_t); // vtable+0x20
	virtual void DeleteSurface(); // vtable+0x24
	virtual void ClearBuffer(int32_t) /* override */;
	virtual int32_t Open(char *, unsigned long, unsigned long) /* override */;
	virtual int32_t SetDefaultVRBmp(char *, int32_t, int32_t); // vtable+0x28
	int32_t Compose();
	virtual int32_t DrawDefaultVRBmp(); // vtable+0x2c
};

// Type: /*packed*/ struct VRBmpHdr (forward reference);
struct VRBmpHdr{ // packed(0x10 bytes) TI: 0x2312
	/*+0x0*/   /*packed*/ struct VRBmpInfo info; // 0xc bytes
	/*+0xc*/   int32_t ScanOffset[1];
};

// Type: /*packed*/ class SmackerBackBuffer (forward reference);
// VTABLE: COPTER_D 0x005911f0
class SmackerBackBuffer : public SmackerBuffer, public CBackBuffer
{ // packed(0x27c bytes) TI: 0x41fc
public:
	/*+0x274*/ int32_t bUseSmackBuf;
	void SmackerBackBuffer(char *, int32_t, int32_t, int32_t, int32_t, int32_t);
	void SmackerBackBuffer();
	virtual void ~SmackerBackBuffer() /* override */;
	virtual int32_t Initialize() /* override */;
	virtual void SetBackBufferData(char *, int32_t, int32_t, int32_t, int32_t, int32_t); // vtable+0x20
	virtual int32_t Open(char *, unsigned long, unsigned long) /* override */;
	virtual int32_t CreateSurface() /* override */;
	virtual void SetDirectBlit(); // vtable+0x24
	virtual unsigned long Compose(/*packed*/ class IFlatImage*, long, long, long, long, long, long) /* override */;
	virtual unsigned long StretchCompose(/*packed*/ class IFlatImage*, long, long, long, long, long, long, long, long) /* override */;
protected:
	/*+0x278*/ int32_t bDirectBlit;
	void BltParts(/*packed*/ class IFlatImage*, long, long, long, long, long, long);
	void BltAll(/*packed*/ class IFlatImage*, long, long, long, long, long, long);
};

// Type: long;

// Type: /*packed*/ class IFlatImage (forward reference);
// VTABLE: COPTER_D 0x00591050
class IFlatImage{ // packed(0x18 bytes) TI: 0x13a1
public:
	void IFlatImage();
	virtual unsigned long Lock(); // vtable+0x0
	virtual unsigned long Unlock(); // vtable+0x4
	unsigned long GetLockCount();
	virtual void SetTransparentColor(int32_t, long); // vtable+0x8
	long GetHeight();
	long GetWidth();
	void * __ptr32 GetBitsPointer();
	long GetStride();
	virtual unsigned long Compose(/*packed*/ class IFlatImage*, long, long, long, long, long, long); // vtable+0xc
	unsigned long Compose(/*packed*/ class IFlatImage*, long, long);
	virtual unsigned long StretchCompose(/*packed*/ class IFlatImage*, long, long, long, long, long, long, long, long); // vtable+0x10
	virtual unsigned long StretchCompose(/*packed*/ class IFlatImage*, /*packed*/ struct SparkalRect, /*packed*/ struct SparkalRect); // vtable+0x14
	virtual unsigned long FillRect(long, /*packed*/ struct SparkalRect*); // vtable+0x18
	void DrawPixel(unsigned char, long, long);
	unsigned char GetPixel(long, long);
	static unsigned long lTotalMemoryUsage;
	static unsigned long lTotalLockCount;
protected:
	/*+0x4*/   unsigned long mLockCount;
	/*+0x8*/   long mWidth;
	/*+0xc*/   long mHeight;
	/*+0x10*/  void * __ptr32 mpBits;
	/*+0x14*/  long mStride;
};

// Type: uint32_t;

// Type: /*packed*/ class SmackerBuffer;
// VTABLE: COPTER_D 0x00591138
class SmackerBuffer{ // packed(0x140 bytes) TI: 0x20de
public:
	void SmackerBuffer(char *, int32_t, int32_t);
	void SmackerBuffer();
	virtual void ~SmackerBuffer(); // vtable+0x0
	virtual int32_t Initialize(); // vtable+0x4
	virtual int32_t CreateSurface(); // vtable+0x8
	virtual void ClearBuffer(int32_t); // vtable+0xc
	virtual int32_t Open(char *, unsigned long, unsigned long); // vtable+0x10
	virtual void Close(); // vtable+0x14
	virtual int32_t ComposeToWindow(); // vtable+0x18
	virtual int32_t SetPalette(); // vtable+0x1c
	void Goto(unsigned long);
	void Reset();
	void GetSummary(/*packed*/ struct SmackSumTag*);
	void CenterBufferInRect(/*packed*/ struct SparkalRect*);
	void SetBufferPosition(int32_t, int32_t);
	void SetWindow(/*packed*/ class CSparkalWindow*);
	void SetWindow(void * __ptr32);
	void SetZoomFactor(int32_t);
	// calltype: NearC
	static char * GetSmackerVersion(char *);
	/*+0x4*/   int32_t nStatus;
	/*+0x8*/   int32_t bLoopVideo;
	/*+0xc*/   int32_t bBlankAtEndOfVideo;
	/*+0x10*/  int32_t nBlankColorIndex;
	/*+0x14*/  /*packed*/ struct SparkalColor colorWindowFill;
	/*+0x18*/  void * __ptr32 myWindow;
	/*+0x1c*/  int32_t nBufferWidth;
	/*+0x20*/  int32_t nBufferHeight;
	/*+0x24*/  int32_t nDestX;
	/*+0x28*/  int32_t nDestY;
	/*+0x2c*/  int32_t nDestWidth;
	/*+0x30*/  int32_t nDestHeight;
protected:
	/*+0x34*/  /*packed*/ struct SmackBufTag *smkbuf;
	/*+0x38*/  /*packed*/ struct SmackTag *smk;
	/*+0x3c*/  char szSmackFilePath[260]; // 0x104 bytes
};

// Type: /*unpacked*/ class CBackBuffer (forward reference);
// CBackBuffer Class implementation not found



// Contribution: 1:00096c00-00098e2e Module: 17, 16 byte alignment, code, execute, read, 
// FUNCTION: COPTER_D 0x00497c00
void SmackerBuffer::SmackerBuffer() {

	__asm        jmp    near ptr 0x00497C11;

	this-><vftable> = 0x591138;
// LINE 40:
	this->nStatus = 0x0;
// LINE 41:
	this->bLoopVideo = 0x0;
// LINE 42:
	this->bBlankAtEndOfVideo = 0x0;
// LINE 43:
	this->nBlankColorIndex = 0x0;
// LINE 44:
	__asm        mov    eax, this;
	__asm        mov    byte ptr [eax+0x14], 0;
	__asm        mov    eax, this;
	__asm        mov    al, [eax+0x14];
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x15], al;
	__asm        mov    eax, this;
	__asm        mov    al, [eax+0x15];
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x16], al;
// LINE 45:
	this->myWindow = 0x0;
// LINE 46:
	this->nBufferWidth = 0x0;
// LINE 47:
	this->nBufferHeight = 0x0;
// LINE 48:
	this->nDestX = 0x0;
// LINE 49:
	this->nDestY = 0x0;
// LINE 50:
	this->nDestWidth = 0x0;
// LINE 51:
	this->nDestHeight = 0x0;
// LINE 52:
	this->smkbuf = 0x0;
// LINE 53:
	this->smk = 0x0;
// LINE 54:
	this->szSmackFilePath[0] = 0x0;
// LINE 55:
	__asm        jmp    near ptr 0x00497CC7;

	__asm        mov    eax, this;
}

// FUNCTION: COPTER_D 0x00497ccf
void SmackerBuffer::SmackerBuffer(char * szNewFilePath, int32_t nNewDestWidth, int32_t nNewDestHeight) {

	__asm        jmp    near ptr 0x00497CE0;

	this-><vftable> = 0x591138;
// LINE 63:
	this->nStatus = 0x0;
// LINE 64:
	this->bLoopVideo = 0x0;
// LINE 65:
	this->bBlankAtEndOfVideo = 0x0;
// LINE 66:
	this->nBlankColorIndex = 0x0;
// LINE 67:
	this->myWindow = 0x0;
// LINE 68:
	this->smkbuf = 0x0;
// LINE 69:
	this->smk = 0x0;
// LINE 70:
	this->nBufferWidth = 0x0;
// LINE 71:
	this->nBufferHeight = 0x0;
// LINE 72:
	this->nDestX = 0x0;
// LINE 73:
	this->nDestY = 0x0;
// LINE 74:
	this->nDestWidth = nNewDestWidth;
// LINE 75:
	this->nDestHeight = nNewDestHeight;
// LINE 77:
	__asm        cmp    szNewFilePath, 0;
	__asm        je     _Tbc;
// LINE 78:
	__asm        mov    eax, szNewFilePath;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        add    eax, 0x3C;
	__asm        push   eax;
	__asm        call   strcpy;
	__asm        add    esp, 8;
// LINE 79:
	__asm        jmp    _Tc3;
// LINE 80:
_Tbc:
	this->szSmackFilePath[0] = 0x0;
// LINE 81:
_Tc3:
	__asm        jmp    near ptr 0x00497D97;

	__asm        mov    eax, this;
}

// FUNCTION: COPTER_D 0x00497da1
void SmackerBuffer::~SmackerBuffer() {

	this-><vftable> = 0x591138;
// LINE 90:
	__asm        mov    ecx, this;
	__asm        call   SmackerBuffer::Close;
// LINE 91:
	__asm        jmp    near ptr 0x00497DC3;
}

// FUNCTION: COPTER_D 0x00497dc8
int32_t SmackerBuffer::Initialize() {
// LINE 106:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+8];
	__asm        jmp    near ptr 0x00497DE4;
// LINE 107:
}

// FUNCTION: COPTER_D 0x00497de9
int32_t SmackerBuffer::SetPalette() {
// LINE 115:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x34], 0;
	__asm        je     _T30;
// LINE 116:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x34];
	__asm        push   eax;
	__asm        call   0x004C4618;
	__asm        add    esp, 4;
	__asm        movzx  eax, ax;
	__asm        jmp    _T37;
// LINE 117:
_T30:
	__asm        xor    eax, eax;
	__asm        jmp    _T37;
// LINE 118:
_T37:
}

// FUNCTION: COPTER_D 0x00497e25
int32_t SmackerBuffer::CreateSurface() {
// LINE 132:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x34], 0;
	__asm        je     _T23;
// LINE 133:
	__asm        mov    eax, 1;
	__asm        jmp    _Tf8;
// LINE 134:
_T23:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x38], 0;
	__asm        jne    _T37;
// LINE 135:
	__asm        xor    eax, eax;
	__asm        jmp    _Tf8;
// LINE 137:
_T37:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x30];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x2C];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x18];
	__asm        push   eax;
	__asm        call   0x004C4624;
	__asm        add    esp, 0x18;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x34], eax;
// LINE 138:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x34], 0;
	__asm        jne    _T84;
// LINE 139:
	__asm        xor    eax, eax;
	__asm        jmp    _Tf8;
// LINE 143:
_T84:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x34];
	__asm        mov    eax, [eax];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x34];
	__asm        mov    eax, [eax+0x43C];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x34];
	__asm        mov    eax, [eax+0x14];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x34];
	__asm        mov    eax, [eax+0x10];
	__asm        push   eax;
	__asm        push   0;
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        push   eax;
	__asm        call   0x004C461E;
	__asm        add    esp, 0x1C;
// LINE 145:
	this->nBufferWidth = this->smk->Width;
// LINE 146:
	this->nBufferHeight = this->smk->Height;
// LINE 148:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x18];
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   SmackerBuffer::SetWindow;
// LINE 149:
	__asm        mov    eax, 1;
	__asm        jmp    _Tf8;
// LINE 150:
_Tf8:
}

// FUNCTION: COPTER_D 0x00497f22
int32_t SmackerBuffer::Open(char * szNewFilePath, unsigned long nFlags, unsigned long nExraBuffering) {
// LINE 160:
	__asm        cmp    szNewFilePath, 0;
	__asm        je     _T29;
// LINE 161:
	__asm        mov    eax, szNewFilePath;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        add    eax, 0x3C;
	__asm        push   eax;
	__asm        call   strcpy;
	__asm        add    esp, 8;
// LINE 162:
_T29:
	__asm        mov    eax, nExraBuffering;
	__asm        push   eax;
	__asm        mov    eax, nFlags;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        add    eax, 0x3C;
	__asm        push   eax;
	__asm        call   0x004C4630;
	__asm        add    esp, 0xC;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x38], eax;
// LINE 165:
	__asm        push   0x493E0;
	__asm        call   0x004C462A;
	__asm        add    esp, 4;
// LINE 168:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+8];
// LINE 169:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x00497F8A;
// LINE 170:
}

// FUNCTION: COPTER_D 0x00497f91
void SmackerBuffer::Close() {
// LINE 179:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x34], 0;
	__asm        je     _T32;
// LINE 180:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x34];
	__asm        push   eax;
	__asm        call   0x004C463C;
	__asm        add    esp, 4;
// LINE 181:
	this->smkbuf = 0x0;
// LINE 183:
_T32:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x38], 0;
	__asm        je     _T58;
// LINE 184:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        push   eax;
	__asm        call   0x004C4636;
	__asm        add    esp, 4;
// LINE 185:
	this->smk = 0x0;
// LINE 187:
_T58:
	__asm        jmp    near ptr 0x00497FEE;
}

// FUNCTION: COPTER_D 0x00497ff3
void SmackerBuffer::Reset() {
// LINE 196:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+4], 1;
	__asm        je     _T26;

	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+4], 2;
	__asm        jne    _T46;
// LINE 198:
_T26:
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        push   eax;
	__asm        call   0x004C4642;
	__asm        add    esp, 8;
	__asm        jmp    near ptr 0x0049802F;
// LINE 199:
	this->nStatus = 0x0;
// LINE 201:
_T46:
	__asm        jmp    near ptr 0x0049803E;
}

// FUNCTION: COPTER_D 0x00498043
void SmackerBuffer::ClearBuffer(int32_t nPaletteIndex) {
// LINE 219:
	__asm        jmp    near ptr 0x00498054;
}

// FUNCTION: COPTER_D 0x0049805b
void SmackerBuffer::SetWindow(void * __ptr32 myNewWindow) {
	/*bp-0x10*/  /*packed*/ struct tagRECT rectWindow; // 0x10 bytes
	/*bp-0x20*/  /*packed*/ struct SparkalRect rectWindowSparkal; // 0x10 bytes

// LINE 229:
	this->myWindow = myNewWindow;
// LINE 233:
	__asm        jmp    near ptr 0x00498075;
// LINE 236:
	__asm        lea    eax, rectWindow.left;
	__asm        push   eax;
	__asm        mov    eax, myNewWindow;
	__asm        push   eax;
	__asm        call   dword ptr ds:[0x6C382C];
// LINE 237:
	rectWindowSparkal.left = rectWindow.left;
// LINE 238:
	rectWindowSparkal.right = rectWindow.right;
// LINE 239:
	rectWindowSparkal.top = rectWindow.top;
// LINE 240:
	rectWindowSparkal.bottom = rectWindow.bottom;
// LINE 241:
	__asm        lea    eax, rectWindowSparkal.left;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   SmackerBuffer::CenterBufferInRect;
// LINE 243:
	__asm        jmp    near ptr 0x004980AC;
}

// FUNCTION: COPTER_D 0x004980b3
void SmackerBuffer::SetWindow(/*unpacked*/ class CSparkalWindow *myNewWindow) {
// LINE 252:
	__asm        jmp    near ptr 0x004980C4;

	__asm        mov    eax, myNewWindow;
	__asm        mov    eax, [eax+0x18];
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   SmackerBuffer::SetWindow;
// LINE 253:
	__asm        jmp    near ptr 0x004980D8;
}

// FUNCTION: COPTER_D 0x004980df
void SmackerBuffer::CenterBufferInRect(/*packed*/ struct SparkalRect *rectParent) {
	/*bp-0x4*/   int32_t nActualDestinationWidth;
	/*bp-0x8*/   int32_t nActualDestinationHeight;

// LINE 272:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x2C], 0;
	__asm        je     _T27;
// LINE 273:
	nActualDestinationWidth = this->nDestWidth;
// LINE 274:
	__asm        jmp    _T30;
// LINE 275:
_T27:
	nActualDestinationWidth = this->nBufferWidth;
// LINE 277:
_T30:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x30], 0;
	__asm        je     _T4b;
// LINE 278:
	nActualDestinationHeight = this->nDestHeight;
// LINE 279:
	__asm        jmp    _T54;
// LINE 280:
_T4b:
	nActualDestinationHeight = this->nBufferHeight;
// LINE 282:
_T54:
	__asm        mov    eax, rectParent;
	__asm        mov    eax, [eax+8];
	__asm        mov    ecx, rectParent;
	__asm        sub    eax, [ecx];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    ecx, eax;
	__asm        mov    eax, nActualDestinationWidth;
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        sub    ecx, eax;
	__asm        mov    eax, this;
	__asm        mov    [eax+0x24], ecx;
// LINE 283:
	__asm        mov    eax, rectParent;
	__asm        mov    eax, [eax+0xC];
	__asm        mov    ecx, rectParent;
	__asm        sub    eax, [ecx+4];
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        mov    ecx, eax;
	__asm        mov    eax, nActualDestinationHeight;
	__asm        cdq;
	__asm        sub    eax, edx;
	__asm        sar    eax, 1;
	__asm        sub    ecx, eax;
	__asm        mov    eax, this;
	__asm        mov    [eax+0x28], ecx;
// LINE 284:
	__asm        jmp    near ptr 0x00498181;
}

// FUNCTION: COPTER_D 0x00498188
int32_t SmackerBuffer::ComposeToWindow() {
	/*bp-0x4*/   void * __ptr32 hBrush;
	/*bp-0x8*/   unsigned long colorRefFill;
	/*bp-0x18*/  /*packed*/ struct tagRECT rectFill; // 0x10 bytes
	/*bp-0x1c*/  void * __ptr32 dc;

// LINE 313:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x38], 0;
	__asm        jne    _T20;
// LINE 314:
	__asm        xor    eax, eax;
	__asm        jmp    _T2fc;
// LINE 316:
_T20:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jne    _T3c;
// LINE 317:
	this->nStatus = 0x1;
// LINE 319:
	__asm        jmp    _T140;
_T3c:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+4], 2;
	__asm        jne    _T140;
// LINE 321:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x18];
	__asm        push   eax;
	__asm        call   dword ptr ds:[0x6C3850];
	__asm        mov    dc, eax;
// LINE 322:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0xC], 0;
	__asm        je     _Tdf;
// LINE 325:
	__asm        mov    eax, this;
	__asm        xor    ecx, ecx;
	__asm        mov    cl, [eax+0x15];
	__asm        shl    ecx, 8;
	__asm        mov    eax, this;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+0x16];
	__asm        or     ecx, edx;
	__asm        mov    eax, this;
	__asm        xor    edx, edx;
	__asm        mov    dl, [eax+0x14];
	__asm        shl    edx, 0x10;
	__asm        or     ecx, edx;
	__asm        mov    colorRefFill, ecx;
// LINE 326:
	__asm        mov    eax, colorRefFill;
	__asm        push   eax;
	__asm        call   dword ptr ds:[0x6C35D0];
	__asm        mov    hBrush, eax;
// LINE 327:
	rectFill.left = 0x0;
// LINE 328:
	rectFill.top = 0x0;
// LINE 329:
	rectFill.right = this->smk->Width;
// LINE 330:
	rectFill.bottom = this->smk->Height;
// LINE 331:
	__asm        mov    eax, hBrush;
	__asm        push   eax;
	__asm        lea    eax, rectFill.left;
	__asm        push   eax;
	__asm        mov    eax, dc;
	__asm        push   eax;
	__asm        call   dword ptr ds:[0x6C3888];
// LINE 332:
	__asm        mov    eax, hBrush;
	__asm        push   eax;
	__asm        call   dword ptr ds:[0x6C358C];
// LINE 334:
	__asm        jmp    _T125;
// LINE 337:
_Tdf:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x34], 0;
	__asm        je     _T125;
// LINE 338:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        push   0;
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x28];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x24];
	__asm        push   eax;
	__asm        mov    eax, dc;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x34];
	__asm        push   eax;
	__asm        call   0x004C464E;
	__asm        add    esp, 0x20;
// LINE 340:
_T125:
	__asm        mov    eax, dc;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x18];
	__asm        push   eax;
	__asm        call   dword ptr ds:[0x6C384C];
// LINE 344:
	__asm        mov    eax, 1;
	__asm        jmp    _T2fc;
// LINE 347:
_T140:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x38], 0;
	__asm        je     _T2eb;
// LINE 348:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        push   eax;
	__asm        call   0x004C466C;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T2e6;
// LINE 349:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x34], 0;
	__asm        je     _T29a;
// LINE 350:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        cmp    dword ptr [eax+0x68], 0;
	__asm        je     _T1df;
// LINE 351:
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        add    eax, 0x6C;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x34];
	__asm        push   eax;
	__asm        call   0x004C4666;
	__asm        add    esp, 0xC;
// LINE 352:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x34];
	__asm        cmp    dword ptr [eax+0x2C], 0x100;
	__asm        jae    _T1df;
// LINE 354:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x34];
	__asm        mov    eax, [eax+0x438];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x34];
	__asm        mov    eax, [eax+0x28];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x34];
	__asm        add    eax, 0x38;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        push   eax;
	__asm        call   0x004C4660;
	__asm        add    esp, 0x10;
// LINE 357:
_T1df:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        push   eax;
	__asm        call   0x004C465A;
	__asm        add    esp, 4;
// LINE 359:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x18];
	__asm        push   eax;
	__asm        call   dword ptr ds:[0x6C3850];
	__asm        mov    dc, eax;
// LINE 360:
_T1fe:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x34];
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        push   eax;
	__asm        call   0x004C4654;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     _T289;
// LINE 362:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        mov    eax, [eax+0x380];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        mov    eax, [eax+0x37C];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        mov    eax, [eax+0x378];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        mov    eax, [eax+0x374];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x28];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x24];
	__asm        push   eax;
	__asm        mov    eax, dc;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x34];
	__asm        push   eax;
	__asm        call   0x004C464E;
	__asm        add    esp, 0x20;
	__asm        movzx  eax, ax;
	__asm        test   eax, eax;
	__asm        je     _T284;
// LINE 364:
	__asm        jmp    _T289;
// LINE 366:
_T284:
	__asm        jmp    _T1fe;
// LINE 367:
_T289:
	__asm        mov    eax, dc;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x18];
	__asm        push   eax;
	__asm        call   dword ptr ds:[0x6C384C];
// LINE 373:
_T29a:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        mov    eax, [eax+0xC];
	__asm        dec    eax;
	__asm        mov    ecx, this;
	__asm        mov    ecx, [ecx+0x38];
	__asm        cmp    eax, [ecx+0x370];
	__asm        jne    _T2d7;
// LINE 374:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+8], 0;
	__asm        jne    _T2d7;
// LINE 375:
	this->nStatus = 0x2;
// LINE 376:
	__asm        mov    eax, 1;
	__asm        jmp    _T2fc;
// LINE 379:
_T2d7:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        push   eax;
	__asm        call   0x004C4648;
	__asm        add    esp, 4;
// LINE 382:
_T2e6:
	__asm        jmp    _T2f5;
// LINE 383:
_T2eb:
	__asm        mov    eax, 2;
	__asm        jmp    _T2fc;
// LINE 385:
_T2f5:
	__asm        xor    eax, eax;
	__asm        jmp    _T2fc;
// LINE 386:
_T2fc:
}

// FUNCTION: COPTER_D 0x00498489
void * __ptr32 VRSmackerInit(char * szSmackerFilePath, int32_t bPreserveBufferMemory) {
	/*bp-0x4*/   /*packed*/ class VRBmpSmackerBuffer *tempVRBmpSmackerBuffer;

// LINE 427:
	__asm        push   0x164;
	__asm        call   operator new;
	__asm        add    esp, 4;
	__asm        mov    [ebp-8], eax;
	__asm        cmp    dword ptr [ebp-8], 0;
	__asm        je     _T3f;

	__asm        mov    eax, bPreserveBufferMemory;
	__asm        push   eax;
	__asm        push   0;
	__asm        push   0;
	__asm        mov    eax, szSmackerFilePath;
	__asm        push   eax;
	__asm        mov    ecx, [ebp-8];
	__asm        call   VRBmpSmackerBuffer::VRBmpSmackerBuffer;
	__asm        mov    tempVRBmpSmackerBuffer, eax;
	__asm        jmp    _T46;
_T3f:
	tempVRBmpSmackerBuffer = 0x0;
// LINE 428:
_T46:
	__asm        mov    eax, tempVRBmpSmackerBuffer;
	__asm        jmp    near ptr 0x004984D7;
// LINE 429:
}

// FUNCTION: COPTER_D 0x004984dc
void VRSmackerDestroy(void * __ptr32 pVRSmacker) {
// LINE 433:
	__asm        mov    eax, pVRSmacker;
	__asm        mov    [ebp-8], eax;
	__asm        mov    eax, [ebp-8];
	__asm        mov    [ebp-4], eax;
	__asm        cmp    dword ptr [ebp-4], 0;
	__asm        je     _T30;

	__asm        push   1;
	__asm        mov    eax, [ebp-4];
	__asm        mov    eax, [eax];
	__asm        mov    ecx, [ebp-4];
	__asm        call   dword ptr [eax];
	__asm        jmp    _T30;
// LINE 434:
_T30:
	__asm        jmp    near ptr 0x00498511;
}

// FUNCTION: COPTER_D 0x00498516
int32_t VRSmackerSetBitmap(void * __ptr32 pVRSmacker, char * szVRBitmap, int32_t nFlags, int32_t bPreserveBitmapMemory) {
// LINE 441:
	__asm        mov    eax, bPreserveBitmapMemory;
	__asm        push   eax;
	__asm        mov    eax, nFlags;
	__asm        push   eax;
	__asm        mov    eax, szVRBitmap;
	__asm        push   eax;
	__asm        mov    eax, pVRSmacker;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, pVRSmacker;
	__asm        call   dword ptr [eax+0x28];
	__asm        jmp    near ptr 0x00498538;
// LINE 442:
}

// FUNCTION: COPTER_D 0x0049853d
int32_t VRSmackerNextFrame(void * __ptr32 pVRSmacker) {
// LINE 446:
	__asm        mov    ecx, pVRSmacker;
	__asm        call   VRBmpSmackerBuffer::Compose;
	__asm        jmp    near ptr 0x00498550;
// LINE 447:
}

// FUNCTION: COPTER_D 0x00498555
void VRSmackerReset(void * __ptr32 pVRSmacker) {
// LINE 450:
	__asm        mov    ecx, pVRSmacker;
	__asm        call   SmackerBuffer::Reset;
// LINE 451:
	__asm        jmp    near ptr 0x00498568;
}

// FUNCTION: COPTER_D 0x0049856d
int32_t VRSmackerStatus(void * __ptr32 pVRSmacker) {
// LINE 454:
	__asm        mov    eax, pVRSmacker;
	__asm        mov    eax, [eax+4];
	__asm        jmp    near ptr 0x0049857E;
// LINE 455:
}

// FUNCTION: COPTER_D 0x00498583
/*packed*/ struct VRBmpHdr* VRSmackerGetBitmap(void * __ptr32 pVRSmacker) {
// LINE 458:
	__asm        mov    eax, pVRSmacker;
	__asm        mov    eax, [eax+0x158];
	__asm        jmp    near ptr 0x00498597;
// LINE 459:
}

// FUNCTION: COPTER_D 0x0049859c
char * VRSmackerGetBitmapBits(void * __ptr32 pVRSmacker) {
// LINE 462:
	__asm        mov    eax, pVRSmacker;
	__asm        mov    eax, [eax+0x15C];
	__asm        jmp    near ptr 0x004985B0;
// LINE 463:
}

// FUNCTION: COPTER_D 0x004985b5
void VRBmpSmackerBuffer::VRBmpSmackerBuffer() {

	__asm        mov    ecx, this;
	__asm        call   SmackerBuffer::SmackerBuffer;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x160], 0;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax], 0x591158;
// LINE 473:
	__asm        mov    ecx, this;
	__asm        call   VRBmpSmackerBuffer::InitializeVRBmpMembers;
// LINE 474:
	__asm        jmp    near ptr 0x004985EC;

	__asm        mov    eax, this;
}

// FUNCTION: COPTER_D 0x004985f4
void VRBmpSmackerBuffer::VRBmpSmackerBuffer(char * szNewFilePath, int32_t nNewDestWidth, int32_t nNewDestHeight, int32_t bNewPreserveSmackerBuffer) {

	__asm        mov    eax, nNewDestHeight;
	__asm        push   eax;
	__asm        mov    eax, nNewDestWidth;
	__asm        push   eax;
	__asm        mov    eax, szNewFilePath;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   SmackerBuffer::SmackerBuffer;
	__asm        mov    eax, bNewPreserveSmackerBuffer;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x160], eax;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax], 0x591158;
// LINE 486:
	__asm        mov    ecx, this;
	__asm        call   VRBmpSmackerBuffer::InitializeVRBmpMembers;
// LINE 487:
	__asm        jmp    near ptr 0x00498636;

	__asm        mov    eax, this;
}

// FUNCTION: COPTER_D 0x00498640
void VRBmpSmackerBuffer::~VRBmpSmackerBuffer() {

	this-><VRBmpSmackerBuffer+0x00> = 0x591158;
// LINE 495:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x140], 0;
	__asm        je     _T43;
// LINE 496:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x140];
	__asm        mov    [ebp-4], eax;
	__asm        mov    eax, [ebp-4];
	__asm        mov    [ebp-8], eax;
	__asm        mov    eax, [ebp-8];
	__asm        push   eax;
	__asm        call   operator delete;
	__asm        add    esp, 4;
// LINE 497:
_T43:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x148], 0;
	__asm        je     _T65;
// LINE 498:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x148];
	__asm        push   eax;
	__asm        call   VRUnLoadResource;
	__asm        add    esp, 4;
// LINE 499:
_T65:
	__asm        mov    ecx, this;
	__asm        call   VRBmpSmackerBuffer::DeleteSurface;
// LINE 500:
	__asm        jmp    near ptr 0x004986B2;

	__asm        mov    ecx, this;
	__asm        call   SmackerBuffer::~SmackerBuffer;
}

// FUNCTION: COPTER_D 0x004986bf
void VRBmpSmackerBuffer::InitializeVRBmpMembers() {
// LINE 508:
	this->szVRBmpName = 0x0;
// LINE 509:
	this->nVRBmpFlags = 0x0;
// LINE 510:
	this->vrOriginalResource = 0x0;
// LINE 511:
	this->bmpOriginalHeader = 0x0;
// LINE 512:
	this->chVRBmpHeader = 0x0;
// LINE 513:
	this->bmpHeader = 0x0;
// LINE 514:
	this->bmpDataStart = 0x0;
// LINE 515:
	this->bPreserveBmp = 0x0;
// LINE 516:
	__asm        jmp    near ptr 0x00498738;
}

// FUNCTION: COPTER_D 0x0049873d
int32_t VRBmpSmackerBuffer::CreateSurface(int32_t bCopyOriginalBitmap) {
	/*bp-0x4*/   int32_t i;
	/*bp-0x8*/   int32_t nSizeOfHeader;

// LINE 536:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x158], 0;
	__asm        je     _T26;
// LINE 537:
	__asm        mov    eax, 1;
	__asm        jmp    _T1db;
// LINE 540:
_T26:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x1C], 0;
	__asm        jne    _T4f;

	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x38], 0;
	__asm        je     _T4f;
// LINE 541:
	this->nBufferWidth = this->smk->Width;
// LINE 542:
_T4f:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x20], 0;
	__asm        jne    _T78;

	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x38], 0;
	__asm        je     _T78;
// LINE 543:
	this->nBufferHeight = this->smk->Height;
// LINE 545:
_T78:
	nSizeOfHeader = 0xc;
// LINE 546:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x20];
	__asm        shl    eax, 2;
	__asm        add    nSizeOfHeader, eax;
// LINE 547:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x1C];
	__asm        mov    ecx, this;
	__asm        imul   eax, [ecx+0x20];
	__asm        add    nSizeOfHeader, eax;
// LINE 549:
	__asm        mov    eax, nSizeOfHeader;
	__asm        push   eax;
	__asm        call   operator new;
	__asm        add    esp, 4;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x154], eax;
// LINE 550:
	this->bmpHeader = this->chVRBmpHeader;
// LINE 551:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x158];
	__asm        mov    eax, [eax+4];
	__asm        shl    eax, 2;
	__asm        mov    ecx, this;
	__asm        add    eax, [ecx+0x158];
	__asm        add    eax, 0xC;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x15C], eax;
// LINE 553:
	this->bmpHeader->info.width = this->nBufferWidth;
// LINE 554:
	this->bmpHeader->info.height = this->nBufferHeight;
// LINE 555:
	this->bmpHeader->info.attrib = 0x0;
// LINE 556:
	this->bmpHeader->info.scale = 0x0;
// LINE 560:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x140], 0;
	__asm        je     _T191;

	__asm        cmp    bCopyOriginalBitmap, 0;
	__asm        je     _T191;
// LINE 561:
	__asm        mov    i, 0;
	__asm        jmp    _T150;
_T14d:
	__asm        inc    i;
_T150:
	__asm        mov    eax, this;
	__asm        mov    ecx, i;
	__asm        cmp    [eax+0x20], ecx;
	__asm        jle    _T181;
// LINE 562:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x1C];
	__asm        imul   eax, i;
	__asm        add    eax, 0xC;
	__asm        mov    ecx, this;
	__asm        mov    ecx, [ecx+0x158];
	__asm        mov    edx, i;
	__asm        mov    [ecx+edx*4+0xC], eax;
	__asm        jmp    _T14d;
// LINE 563:
_T181:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+0x2C];
// LINE 565:
	__asm        jmp    _T1d1;
// LINE 566:
_T191:
	__asm        mov    i, 0;
	__asm        jmp    _T1a0;
_T19d:
	__asm        inc    i;
_T1a0:
	__asm        mov    eax, this;
	__asm        mov    ecx, i;
	__asm        cmp    [eax+0x20], ecx;
	__asm        jle    _T1d1;
// LINE 567:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x1C];
	__asm        imul   eax, i;
	__asm        add    eax, 0xC;
	__asm        mov    ecx, this;
	__asm        mov    ecx, [ecx+0x158];
	__asm        mov    edx, i;
	__asm        mov    [ecx+edx*4+0xC], eax;
// LINE 569:
	__asm        jmp    _T19d;
// LINE 571:
_T1d1:
	__asm        mov    eax, 1;
	__asm        jmp    _T1db;
// LINE 572:
_T1db:
}

// FUNCTION: COPTER_D 0x0049891f
void VRBmpSmackerBuffer::DeleteSurface() {
// LINE 581:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x154], 0;
	__asm        je     _T61;
// LINE 582:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x154];
	__asm        mov    [ebp-4], eax;
	__asm        mov    eax, [ebp-4];
	__asm        mov    [ebp-8], eax;
	__asm        mov    eax, [ebp-8];
	__asm        push   eax;
	__asm        call   operator delete;
	__asm        add    esp, 4;
// LINE 583:
	this->chVRBmpHeader = 0x0;
// LINE 584:
	this->bmpHeader = 0x0;
// LINE 585:
	this->bmpDataStart = 0x0;
// LINE 587:
_T61:
	__asm        jmp    near ptr 0x00498985;
}

// FUNCTION: COPTER_D 0x0049898a
int32_t VRBmpSmackerBuffer::Open(char * szNewFilePath, unsigned long nFlags, unsigned long nExraBuffering) {
// LINE 597:
	__asm        cmp    szNewFilePath, 0;
	__asm        je     _T29;
// LINE 598:
	__asm        mov    eax, szNewFilePath;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        add    eax, 0x3C;
	__asm        push   eax;
	__asm        call   strcpy;
	__asm        add    esp, 8;
// LINE 599:
_T29:
	__asm        mov    eax, nExraBuffering;
	__asm        push   eax;
	__asm        mov    eax, nFlags;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        add    eax, 0x3C;
	__asm        push   eax;
	__asm        call   0x004C4630;
	__asm        add    esp, 0xC;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x38], eax;
// LINE 602:
	__asm        push   0x493E0;
	__asm        call   0x004C462A;
	__asm        add    esp, 4;
// LINE 607:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x160], 0;
	__asm        je     _T70;
// LINE 608:
	__asm        push   1;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+0x20];
// LINE 609:
_T70:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x00498A04;
// LINE 610:
}

// FUNCTION: COPTER_D 0x00498a0b
void VRBmpSmackerBuffer::ClearBuffer(int32_t nPaletteIndex) {
	/*bp-0x4*/   int32_t i;

// LINE 623:
	__asm        mov    i, 0;
	__asm        jmp    _T1b;
_T18:
	__asm        inc    i;
_T1b:
	__asm        mov    eax, this;
	__asm        mov    ecx, i;
	__asm        cmp    [eax+0x20], ecx;
	__asm        jle    _T7c;
// LINE 624:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x1C];
	__asm        imul   eax, i;
	__asm        add    eax, 0xC;
	__asm        mov    ecx, this;
	__asm        mov    ecx, [ecx+0x158];
	__asm        mov    edx, i;
	__asm        mov    [ecx+edx*4+0xC], eax;
// LINE 625:
	__asm        mov    eax, nPaletteIndex;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x1C];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x158];
	__asm        mov    ecx, i;
	__asm        mov    eax, [eax+ecx*4+0xC];
	__asm        shl    eax, 4;
	__asm        mov    ecx, this;
	__asm        add    eax, [ecx+0x158];
	__asm        push   eax;
	__asm        call   memset;
	__asm        add    esp, 0xC;
// LINE 626:
	__asm        jmp    _T18;
// LINE 627:
_T7c:
	__asm        jmp    near ptr 0x00498A8C;
}

// FUNCTION: COPTER_D 0x00498a93
int32_t VRBmpSmackerBuffer::Compose() {
// LINE 650:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+4], 0;
	__asm        jne    _T45;
// LINE 652:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x158], 0;
	__asm        jne    _T40;
// LINE 653:
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+0x20];
// LINE 654:
	this->nStatus = 0x1;
// LINE 658:
_T40:
	__asm        jmp    _T161;
_T45:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+4], 2;
	__asm        jne    _T8b;
// LINE 659:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0xC], 0;
	__asm        je     _T7c;

	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x158], 0;
	__asm        je     _T7c;
// LINE 660:
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+0xC];
// LINE 661:
_T7c:
	__asm        mov    eax, 1;
	__asm        jmp    _T168;
// LINE 664:
	__asm        jmp    _T161;
_T8b:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x38], 0;
	__asm        je     _T157;
// LINE 665:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        push   eax;
	__asm        call   0x004C466C;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T152;
// LINE 666:
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x15C];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x20];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x1C];
	__asm        push   eax;
	__asm        push   0;
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        push   eax;
	__asm        call   0x004C461E;
	__asm        add    esp, 0x1C;
// LINE 667:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        push   eax;
	__asm        call   0x004C465A;
	__asm        add    esp, 4;
// LINE 668:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        mov    eax, [eax+0xC];
	__asm        dec    eax;
	__asm        mov    ecx, this;
	__asm        mov    ecx, [ecx+0x38];
	__asm        cmp    eax, [ecx+0x370];
	__asm        jne    _T143;
// LINE 669:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+8], 0;
	__asm        jne    _T143;
// LINE 670:
	this->nStatus = 0x2;
// LINE 671:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x160], 0;
	__asm        jne    _T139;
// LINE 672:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+0x24];
// LINE 673:
_T139:
	__asm        mov    eax, 1;
	__asm        jmp    _T168;
// LINE 676:
_T143:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        push   eax;
	__asm        call   0x004C4648;
	__asm        add    esp, 4;
// LINE 679:
_T152:
	__asm        jmp    _T161;
// LINE 680:
_T157:
	__asm        mov    eax, 2;
	__asm        jmp    _T168;
// LINE 682:
_T161:
	__asm        xor    eax, eax;
	__asm        jmp    _T168;
// LINE 683:
_T168:
}

// FUNCTION: COPTER_D 0x00498c00
int32_t VRBmpSmackerBuffer::SetDefaultVRBmp(char * szNewVRBmpName, int32_t nNewVRBmpFlags, int32_t bNewPreserveBmp) {
// LINE 699:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x140], 0;
	__asm        je     _T3a;
// LINE 700:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x140];
	__asm        mov    [ebp-4], eax;
	__asm        mov    eax, [ebp-4];
	__asm        mov    [ebp-8], eax;
	__asm        mov    eax, [ebp-8];
	__asm        push   eax;
	__asm        call   operator delete;
	__asm        add    esp, 4;
// LINE 701:
_T3a:
	__asm        mov    eax, szNewVRBmpName;
	__asm        push   eax;
	__asm        call   strlen;
	__asm        add    esp, 4;
	__asm        inc    eax;
	__asm        push   eax;
	__asm        call   operator new;
	__asm        add    esp, 4;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x140], eax;
// LINE 702:
	__asm        mov    eax, szNewVRBmpName;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x140];
	__asm        push   eax;
	__asm        call   strcpy;
	__asm        add    esp, 8;
// LINE 703:
	this->nVRBmpFlags = nNewVRBmpFlags;
// LINE 704:
	this->bPreserveBmp = bNewPreserveBmp;
// LINE 706:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+0x2C];
// LINE 707:
	__asm        mov    eax, 1;
	__asm        jmp    near ptr 0x00498C9C;
// LINE 708:
}

// FUNCTION: COPTER_D 0x00498ca3
int32_t VRBmpSmackerBuffer::DrawDefaultVRBmp() {
	/*bp-0x4*/   int32_t nBmpWidth;
	/*bp-0x8*/   int32_t nBmpHeight;
	/*bp-0xc*/   int32_t i;
	/*bp-0x10*/  int32_t nWidthToCopy;
	/*bp-0x14*/  int32_t nHeightToCopy;

// LINE 730:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x140], 0;
	__asm        je     _T1ea;
// LINE 732:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x148], 0;
	__asm        jne    _T8a;
// LINE 733:
	__asm        push   0x59A208;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x144];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x140];
	__asm        push   eax;
	__asm        call   VRLoadResource;
	__asm        add    esp, 0xC;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x148], eax;
// LINE 734:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x148], 0;
	__asm        jne    _T6d;
// LINE 735:
	__asm        xor    eax, eax;
	__asm        jmp    _T240;
// LINE 736:
_T6d:
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x148];
	__asm        push   eax;
	__asm        call   VRInt2BmpHdr;
	__asm        add    esp, 8;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x14C], eax;
// LINE 745:
_T8a:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x158], 0;
	__asm        je     _T1ea;
// LINE 746:
	nBmpWidth = this->bmpOriginalHeader->info.width;
// LINE 747:
	nBmpHeight = this->bmpOriginalHeader->info.height;
// LINE 748:
	__asm        mov    eax, this;
	__asm        mov    ecx, nBmpWidth;
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jle    _Td1;
// LINE 749:
	nWidthToCopy = nBmpWidth;
// LINE 750:
	__asm        jmp    _Tda;
// LINE 751:
_Td1:
	nWidthToCopy = this->nBufferWidth;
// LINE 752:
_Tda:
	__asm        mov    eax, this;
	__asm        mov    ecx, nBmpHeight;
	__asm        cmp    [eax+0x20], ecx;
	__asm        jle    _Tf4;
// LINE 753:
	nHeightToCopy = nBmpHeight;
// LINE 754:
	__asm        jmp    _Tfd;
// LINE 755:
_Tf4:
	nHeightToCopy = this->nBufferHeight;
// LINE 757:
_Tfd:
	__asm        mov    i, 0;
	__asm        jmp    _T10c;
_T109:
	__asm        inc    i;
_T10c:
	__asm        mov    eax, i;
	__asm        cmp    nHeightToCopy, eax;
	__asm        jle    _T19d;
// LINE 759:
	__asm        mov    eax, nWidthToCopy;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x158];
	__asm        mov    ecx, i;
	__asm        mov    eax, [eax+ecx*4+0xC];
	__asm        mov    ecx, this;
	__asm        add    eax, [ecx+0x14C];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x158];
	__asm        mov    ecx, i;
	__asm        mov    eax, [eax+ecx*4+0xC];
	__asm        mov    ecx, this;
	__asm        add    eax, [ecx+0x158];
	__asm        push   eax;
	__asm        call   memcpy;
	__asm        add    esp, 0xC;
// LINE 762:
	__asm        mov    eax, this;
	__asm        mov    ecx, nWidthToCopy;
	__asm        cmp    [eax+0x1C], ecx;
	__asm        jle    _T198;
// LINE 764:
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x1C];
	__asm        sub    eax, nWidthToCopy;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x158];
	__asm        mov    ecx, i;
	__asm        mov    eax, [eax+ecx*4+0xC];
	__asm        mov    ecx, this;
	__asm        add    eax, [ecx+0x158];
	__asm        add    eax, nWidthToCopy;
	__asm        push   eax;
	__asm        call   memset;
	__asm        add    esp, 0xC;
// LINE 765:
_T198:
	__asm        jmp    _T109;
// LINE 766:
_T19d:
	__asm        mov    eax, nBmpHeight;
	__asm        cmp    nHeightToCopy, eax;
	__asm        jge    _T1ea;
// LINE 767:
	__asm        jmp    _T1b1;
_T1ae:
	__asm        inc    i;
_T1b1:
	__asm        mov    eax, i;
	__asm        cmp    nBmpHeight, eax;
	__asm        jle    _T1ea;
// LINE 768:
	__asm        push   0;
	__asm        mov    eax, nBmpWidth;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x158];
	__asm        mov    ecx, i;
	__asm        mov    eax, [eax+ecx*4+0xC];
	__asm        mov    ecx, this;
	__asm        add    eax, [ecx+0x158];
	__asm        push   eax;
	__asm        call   memset;
	__asm        add    esp, 0xC;
	__asm        jmp    _T1ae;
// LINE 774:
_T1ea:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x150], 0;
	__asm        jne    _T236;

	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x148], 0;
	__asm        je     _T236;
// LINE 775:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x148];
	__asm        push   eax;
	__asm        call   VRUnLoadResource;
	__asm        add    esp, 4;
// LINE 776:
	this->vrOriginalResource = 0x0;
// LINE 777:
	this->bmpOriginalHeader = 0x0;
// LINE 779:
_T236:
	__asm        mov    eax, 1;
	__asm        jmp    _T240;
// LINE 780:
_T240:
}

// FUNCTION: COPTER_D 0x00498ee8
void SmackerBackBuffer::SmackerBackBuffer() {

	__asm        mov    ecx, this;
	__asm        call   SmackerBuffer::SmackerBuffer;
	__asm        mov    ecx, this;
	__asm        add    ecx, 0x140;
	__asm        call   CBackBuffer::CBackBuffer;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax], 0x5911F0;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x140], 0x591188;
// LINE 806:
	this->bUseSmackBuf = 0x0;
// LINE 807:
	this-><SmackerBackBuffer+0x148> = 0x0;
// LINE 808:
	this-><SmackerBackBuffer+0x14c> = 0x0;
// LINE 809:
	this->bDirectBlit = 0x0;
// LINE 810:
	__asm        jmp    near ptr 0x00498F59;

	__asm        mov    eax, this;
}

// FUNCTION: COPTER_D 0x00498f61
void SmackerBackBuffer::SmackerBackBuffer(char * szNewFilePath, int32_t bNewUseSmackBuf, int32_t nNewWidth, int32_t nNewHeight, int32_t nNewDestWidth, int32_t nNewDestHeight) {

	__asm        mov    eax, nNewDestHeight;
	__asm        push   eax;
	__asm        mov    eax, nNewDestWidth;
	__asm        push   eax;
	__asm        mov    eax, szNewFilePath;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   SmackerBuffer::SmackerBuffer;
	__asm        mov    ecx, this;
	__asm        add    ecx, 0x140;
	__asm        call   CBackBuffer::CBackBuffer;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax], 0x5911F0;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x140], 0x591188;
// LINE 820:
	this->bUseSmackBuf = bNewUseSmackBuf;
// LINE 821:
	this-><SmackerBackBuffer+0x148> = nNewWidth;
// LINE 822:
	this-><SmackerBackBuffer+0x14c> = nNewHeight;
// LINE 823:
	this->bDirectBlit = 0x0;
// LINE 824:
	__asm        jmp    near ptr 0x00498FDB;

	__asm        mov    eax, this;
}

// FUNCTION: COPTER_D 0x00498fe5
void SmackerBackBuffer::~SmackerBackBuffer() {

	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax], 0x5911F0;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x140], 0x591188;
// LINE 834:
	__asm        mov    ecx, this;
	__asm        call   SmackerBuffer::Close;
// LINE 835:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x278], 0;
	__asm        je     _T54;
// LINE 837:
	this-><SmackerBackBuffer+0x18c> = 0x0;
// LINE 838:
	this-><SmackerBackBuffer+0x190> = 0x0;
// LINE 841:
_T54:
	__asm        jmp    near ptr 0x0049903E;

	__asm        cmp    this, 0;
	__asm        je     _T73;

	__asm        mov    eax, this;
	__asm        add    eax, 0x140;
	__asm        mov    [ebp-4], eax;
	__asm        jmp    _T7a;
_T73:
	None = 0x0;
_T7a:
	__asm        mov    ecx, [ebp-4];
	__asm        call   CBackBuffer::~CBackBuffer;
	__asm        mov    ecx, this;
	__asm        call   SmackerBuffer::~SmackerBuffer;
}

// FUNCTION: COPTER_D 0x00499074
void SmackerBackBuffer::SetDirectBlit() {
// LINE 849:
	this->bDirectBlit = 0x1;
// LINE 850:
	__asm        jmp    near ptr 0x00499092;
}

// FUNCTION: COPTER_D 0x00499097
int32_t SmackerBackBuffer::Initialize() {
// LINE 866:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x278], 0;
	__asm        je     _T26;
// LINE 867:
	__asm        mov    eax, 1;
	__asm        jmp    _T36;
// LINE 868:
_T26:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+8];
	__asm        jmp    _T36;
// LINE 869:
_T36:
}

// FUNCTION: COPTER_D 0x004990d2
void SmackerBackBuffer::SetBackBufferData(char * szNewFilePath, int32_t bNewUseSmackBuf, int32_t nNewWidth, int32_t nNewHeight, int32_t nNewDestinationWidth, int32_t nNewDestinationHeight) {
// LINE 884:
	__asm        cmp    szNewFilePath, 0;
	__asm        je     _T2e;
// LINE 885:
	__asm        mov    eax, szNewFilePath;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        add    eax, 0x3C;
	__asm        push   eax;
	__asm        call   strcpy;
	__asm        add    esp, 8;
// LINE 886:
	__asm        jmp    _T35;
// LINE 887:
_T2e:
	this->szSmackFilePath[0] = 0x0;
// LINE 889:
_T35:
	this->bUseSmackBuf = bNewUseSmackBuf;
// LINE 890:
	this-><SmackerBackBuffer+0x148> = nNewWidth;
// LINE 891:
	this-><SmackerBackBuffer+0x14c> = nNewHeight;
// LINE 892:
	this->nDestWidth = nNewDestinationWidth;
// LINE 893:
	this->nDestHeight = nNewDestinationHeight;
// LINE 894:
	__asm        jmp    near ptr 0x00499142;
}

// FUNCTION: COPTER_D 0x00499149
int32_t SmackerBackBuffer::Open(char * szNewFilePath, unsigned long nFlags, unsigned long nExraBuffering) {
// LINE 902:
	__asm        cmp    szNewFilePath, 0;
	__asm        je     _T29;
// LINE 903:
	__asm        mov    eax, szNewFilePath;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        add    eax, 0x3C;
	__asm        push   eax;
	__asm        call   strcpy;
	__asm        add    esp, 8;
// LINE 904:
_T29:
	__asm        mov    eax, nExraBuffering;
	__asm        push   eax;
	__asm        mov    eax, nFlags;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        add    eax, 0x3C;
	__asm        push   eax;
	__asm        call   0x004C4630;
	__asm        add    esp, 0xC;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x38], eax;
// LINE 905:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x38], 0;
	__asm        jne    _T5a;
// LINE 906:
	__asm        xor    eax, eax;
	__asm        jmp    _Tba;
// LINE 908:
_T5a:
	this-><SmackerBackBuffer+0x148> = this->smk->Width;
// LINE 909:
	this-><SmackerBackBuffer+0x14c> = this->smk->Height;
// LINE 912:
	__asm        push   0x493E0;
	__asm        call   0x004C462A;
	__asm        add    esp, 4;
// LINE 915:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x278], 0;
	__asm        je     _Ta5;
// LINE 916:
	__asm        mov    eax, 1;
	__asm        jmp    _Tba;
// LINE 917:
_Ta5:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+8];
// LINE 918:
	__asm        mov    eax, 1;
	__asm        jmp    _Tba;
// LINE 919:
_Tba:
}

// FUNCTION: COPTER_D 0x0049920a
int32_t SmackerBackBuffer::CreateSurface() {
	/*bp-0x4*/   long ddrval;

// LINE 946:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x278], 0;
	__asm        je     _T26;
// LINE 947:
	__asm        mov    eax, 1;
	__asm        jmp    _T187;
// LINE 952:
_T26:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x18C], 0;
	__asm        je     _T40;
// LINE 953:
	__asm        mov    eax, 1;
	__asm        jmp    _T187;
// LINE 956:
_T40:
	__asm        push   0x6C;
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        add    eax, 0x198;
	__asm        push   eax;
	__asm        call   memset;
	__asm        add    esp, 0xC;
// LINE 957:
	this-><SmackerBackBuffer+0x198> = 0x6c;
// LINE 958:
	this-><SmackerBackBuffer+0x19c> = 0x6;
// LINE 959:
	this-><SmackerBackBuffer+0x200> = 0x840;
// LINE 960:
	this-><SmackerBackBuffer+0x1ac> = 0x0;
// LINE 961:
	this-><SmackerBackBuffer+0x1a4> = this-><SmackerBackBuffer+0x148>;
// LINE 962:
	this-><SmackerBackBuffer+0x1a0> = this-><SmackerBackBuffer+0x14c>;
// LINE 963:
	this-><SmackerBackBuffer+0x15c> = 0x0;
// LINE 964:
	this-><SmackerBackBuffer+0x160> = 0x0;
// LINE 965:
	this-><SmackerBackBuffer+0x164> = this-><SmackerBackBuffer+0x148>;
// LINE 966:
	this-><SmackerBackBuffer+0x168> = this-><SmackerBackBuffer+0x14c>;
// LINE 968:
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        add    eax, 0x18C;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        add    eax, 0x198;
	__asm        push   eax;
	__asm        mov    eax, lpDD;
	__asm        push   eax;
	__asm        mov    eax, lpDD;
	__asm        mov    eax, [eax];
	__asm        call   dword ptr [eax+0x18];
	__asm        mov    ddrval, eax;
// LINE 969:
	__asm        cmp    ddrval, 0;
	__asm        je     _T13b;
// LINE 970:
	__asm        mov    eax, ddrval;
	__asm        mov    [ebp-8], eax;
	__asm        jmp    near ptr 0x00499331;

	__asm        push   0x59A20C;
	__asm        lea    ecx, [ebp-8];
	__asm        call   DirectDrawError::DisplayError;
// LINE 971:
	__asm        xor    eax, eax;
	__asm        jmp    _T187;
// LINE 977:
_T13b:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x148];
	__asm        mov    ecx, this;
	__asm        imul   eax, [ecx+0x14C];
	__asm        add    IFlatImage::lTotalMemoryUsage, eax;
// LINE 981:
	__asm        mov    ecx, this;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x140];
	__asm        add    ecx, 0x140;
	__asm        call   dword ptr [eax];
// LINE 982:
	__asm        mov    ecx, this;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x140];
	__asm        add    ecx, 0x140;
	__asm        call   dword ptr [eax+4];
// LINE 986:
	__asm        mov    eax, 1;
	__asm        jmp    _T187;
// LINE 987:
_T187:
}

// FUNCTION: COPTER_D 0x00499396
unsigned long SmackerBackBuffer::Compose(/*packed*/ class IFlatImage *pDestImage, long DestLeft, long DestTop, long SrcLeft, long SrcTop, long SrcRight, long SrcBottom) {
// LINE 1015:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax-0x13C], 0;
	__asm        jne    _T2e;
// LINE 1016:
	this-><SmackerBackBuffer+0x-13c> = 0x1;
// LINE 1018:
	__asm        jmp    _T10c;
_T2e:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax-0x13C], 2;
	__asm        jne    _T10c;
// LINE 1019:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax-0x134], 0;
	__asm        je     _T9f;
// LINE 1020:
// Block start:
	/*bp-0x10*/  /*packed*/ struct SparkalRect rectFill; // 0x10 bytes
	__asm        jmp    near ptr 0x004993E9;
// LINE 1021:
	rectFill.left = DestLeft;
// LINE 1022:
	rectFill.top = DestTop;
// LINE 1023:
	__asm        jmp    near ptr 0x004993FA;

	__asm        mov    eax, this;
	__asm        mov    eax, [eax+8];
	__asm        add    eax, DestLeft;
	__asm        mov    rectFill.right, eax;
// LINE 1024:
	__asm        jmp    near ptr 0x0049940B;

	__asm        mov    eax, this;
	__asm        mov    eax, [eax+8];
	__asm        add    eax, DestTop;
	__asm        mov    rectFill.bottom, eax;
// LINE 1025:
	__asm        lea    eax, rectFill.left;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x130];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+0x44];
// LINE 1027:
// Block end:
	__asm        jmp    _T102;
// LINE 1030:
_T9f:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x134], 0;
	__asm        je     _Tde;
// LINE 1032:
	__asm        mov    eax, SrcBottom;
	__asm        push   eax;
	__asm        mov    eax, SrcRight;
	__asm        push   eax;
	__asm        mov    eax, SrcTop;
	__asm        push   eax;
	__asm        mov    eax, SrcLeft;
	__asm        push   eax;
	__asm        mov    eax, DestTop;
	__asm        push   eax;
	__asm        mov    eax, DestLeft;
	__asm        push   eax;
	__asm        mov    eax, pDestImage;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        sub    ecx, 0x140;
	__asm        call   SmackerBackBuffer::BltAll;
// LINE 1034:
	__asm        jmp    _T102;
// LINE 1036:
_Tde:
	__asm        mov    eax, SrcBottom;
	__asm        push   eax;
	__asm        mov    eax, SrcRight;
	__asm        push   eax;
	__asm        mov    eax, SrcTop;
	__asm        push   eax;
	__asm        mov    eax, SrcLeft;
	__asm        push   eax;
	__asm        mov    eax, DestTop;
	__asm        push   eax;
	__asm        mov    eax, DestLeft;
	__asm        push   eax;
	__asm        mov    eax, pDestImage;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   CBackBuffer::Compose;
// LINE 1039:
_T102:
	__asm        mov    eax, 1;
	__asm        jmp    _T3d0;
// LINE 1042:
_T10c:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax-0x108], 0;
	__asm        je     _T3bf;
// LINE 1043:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        push   eax;
	__asm        call   0x004C466C;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T3ba;
// LINE 1044:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x134], 0;
	__asm        je     _T25c;
// LINE 1048:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        cmp    dword ptr [eax+0x68], 0;
	__asm        je     _T1cc;
// LINE 1049:
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        add    eax, 0x6C;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x10C];
	__asm        push   eax;
	__asm        call   0x004C4666;
	__asm        add    esp, 0xC;
// LINE 1050:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x10C];
	__asm        cmp    dword ptr [eax+0x2C], 0x100;
	__asm        jae    _T1cc;
// LINE 1052:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x10C];
	__asm        mov    eax, [eax+0x438];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x10C];
	__asm        mov    eax, [eax+0x28];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x10C];
	__asm        add    eax, 0x38;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        push   eax;
	__asm        call   0x004C4660;
	__asm        add    esp, 0x10;
// LINE 1055:
_T1cc:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        push   eax;
	__asm        call   0x004C465A;
	__asm        add    esp, 4;
// LINE 1057:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax-0x114], 0;
	__asm        jne    _T22d;

	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax-0x110], 0;
	__asm        jne    _T22d;
// LINE 1059:
	__asm        mov    eax, SrcBottom;
	__asm        push   eax;
	__asm        mov    eax, SrcRight;
	__asm        push   eax;
	__asm        mov    eax, SrcTop;
	__asm        push   eax;
	__asm        mov    eax, SrcLeft;
	__asm        push   eax;
	__asm        mov    eax, DestTop;
	__asm        push   eax;
	__asm        mov    eax, DestLeft;
	__asm        push   eax;
	__asm        mov    eax, pDestImage;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        sub    ecx, 0x140;
	__asm        call   SmackerBackBuffer::BltParts;
// LINE 1060:
	__asm        jmp    _T257;
// LINE 1062:
_T22d:
	__asm        mov    eax, SrcBottom;
	__asm        push   eax;
	__asm        mov    eax, SrcRight;
	__asm        push   eax;
	__asm        mov    eax, SrcTop;
	__asm        push   eax;
	__asm        mov    eax, SrcLeft;
	__asm        push   eax;
	__asm        mov    eax, DestTop;
	__asm        push   eax;
	__asm        mov    eax, DestLeft;
	__asm        push   eax;
	__asm        mov    eax, pDestImage;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        sub    ecx, 0x140;
	__asm        call   SmackerBackBuffer::BltAll;
// LINE 1064:
_T257:
	__asm        jmp    _T35f;
// LINE 1065:
_T25c:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x138], 0;
	__asm        je     _T2d8;
// LINE 1066:
	__asm        mov    eax, pDestImage;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, pDestImage;
	__asm        call   dword ptr [eax];
// LINE 1067:
	__asm        jmp    near ptr 0x00499611;

	__asm        jmp    near ptr 0x00499616;

	__asm        jmp    near ptr 0x0049961B;

	__asm        push   0;
	__asm        mov    eax, pDestImage;
	__asm        mov    eax, [eax+0x10];
	__asm        push   eax;
	__asm        mov    eax, pDestImage;
	__asm        mov    eax, [eax+0xC];
	__asm        push   eax;
	__asm        mov    eax, pDestImage;
	__asm        mov    eax, [eax+0x14];
	__asm        push   eax;
	__asm        mov    eax, DestTop;
	__asm        push   eax;
	__asm        mov    eax, DestLeft;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        push   eax;
	__asm        call   0x004C461E;
	__asm        add    esp, 0x1C;
// LINE 1068:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        push   eax;
	__asm        call   0x004C465A;
	__asm        add    esp, 4;
// LINE 1069:
	__asm        mov    eax, pDestImage;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, pDestImage;
	__asm        call   dword ptr [eax+4];
// LINE 1071:
	__asm        jmp    _T35f;
// LINE 1072:
_T2d8:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax];
// LINE 1073:
	__asm        jmp    near ptr 0x0049967D;

	__asm        jmp    near ptr 0x00499682;

	__asm        jmp    near ptr 0x00499687;

	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x10];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0xC];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x14];
	__asm        push   eax;
	__asm        push   0;
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        push   eax;
	__asm        call   0x004C461E;
	__asm        add    esp, 0x1C;
// LINE 1074:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        push   eax;
	__asm        call   0x004C465A;
	__asm        add    esp, 4;
// LINE 1075:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+4];
// LINE 1078:
	__asm        mov    eax, SrcBottom;
	__asm        push   eax;
	__asm        mov    eax, SrcRight;
	__asm        push   eax;
	__asm        mov    eax, SrcTop;
	__asm        push   eax;
	__asm        mov    eax, SrcLeft;
	__asm        push   eax;
	__asm        mov    eax, DestTop;
	__asm        push   eax;
	__asm        mov    eax, DestLeft;
	__asm        push   eax;
	__asm        mov    eax, pDestImage;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   CBackBuffer::Compose;
// LINE 1081:
_T35f:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        mov    eax, [eax+0xC];
	__asm        dec    eax;
	__asm        mov    ecx, this;
	__asm        mov    ecx, [ecx-0x108];
	__asm        cmp    eax, [ecx+0x370];
	__asm        jne    _T3a8;
// LINE 1082:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax-0x138], 0;
	__asm        jne    _T3a8;
// LINE 1083:
	this-><SmackerBackBuffer+0x-13c> = 0x2;
// LINE 1084:
	__asm        mov    eax, 1;
	__asm        jmp    _T3d0;
// LINE 1087:
_T3a8:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        push   eax;
	__asm        call   0x004C4648;
	__asm        add    esp, 4;
// LINE 1090:
_T3ba:
	__asm        jmp    _T3c9;
// LINE 1091:
_T3bf:
	__asm        mov    eax, 2;
	__asm        jmp    _T3d0;
// LINE 1093:
_T3c9:
	__asm        xor    eax, eax;
	__asm        jmp    _T3d0;
// LINE 1094:
_T3d0:
}

// FUNCTION: COPTER_D 0x0049976d
unsigned long SmackerBackBuffer::StretchCompose(/*packed*/ class IFlatImage *pDestImage, long DestLeft, long DestTop, long DestRight, long DestBottom, long SrcLeft, long SrcTop, long SrcRight, long SrcBottom) {
// LINE 1105:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax-0x13C], 0;
	__asm        jne    _T2e;
// LINE 1106:
	this-><SmackerBackBuffer+0x-13c> = 0x1;
// LINE 1108:
	__asm        jmp    _Tfe;
_T2e:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax-0x13C], 2;
	__asm        jne    _Tfe;
// LINE 1109:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax-0x134], 0;
	__asm        je     _T89;
// LINE 1110:
// Block start:
	/*bp-0x10*/  /*packed*/ struct SparkalRect rectFill; // 0x10 bytes
	__asm        jmp    near ptr 0x004997C0;
// LINE 1111:
	rectFill.left = DestLeft;
// LINE 1112:
	rectFill.top = DestTop;
// LINE 1113:
	rectFill.right = DestRight;
// LINE 1114:
	rectFill.bottom = DestBottom;
// LINE 1115:
	__asm        lea    eax, rectFill.left;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x130];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+0x44];
// LINE 1117:
// Block end:
	__asm        jmp    _Tf4;
// LINE 1120:
_T89:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x134], 0;
	__asm        je     _Tc8;
// LINE 1122:
	__asm        mov    eax, SrcBottom;
	__asm        push   eax;
	__asm        mov    eax, SrcRight;
	__asm        push   eax;
	__asm        mov    eax, SrcTop;
	__asm        push   eax;
	__asm        mov    eax, SrcLeft;
	__asm        push   eax;
	__asm        mov    eax, DestTop;
	__asm        push   eax;
	__asm        mov    eax, DestLeft;
	__asm        push   eax;
	__asm        mov    eax, pDestImage;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        sub    ecx, 0x140;
	__asm        call   SmackerBackBuffer::BltAll;
// LINE 1124:
	__asm        jmp    _Tf4;
// LINE 1127:
_Tc8:
	__asm        mov    eax, SrcBottom;
	__asm        push   eax;
	__asm        mov    eax, SrcRight;
	__asm        push   eax;
	__asm        mov    eax, SrcTop;
	__asm        push   eax;
	__asm        mov    eax, SrcLeft;
	__asm        push   eax;
	__asm        mov    eax, DestBottom;
	__asm        push   eax;
	__asm        mov    eax, DestRight;
	__asm        push   eax;
	__asm        mov    eax, DestTop;
	__asm        push   eax;
	__asm        mov    eax, DestLeft;
	__asm        push   eax;
	__asm        mov    eax, pDestImage;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   CBackBuffer::StretchCompose;
// LINE 1130:
_Tf4:
	__asm        mov    eax, 1;
	__asm        jmp    _T3c1;
// LINE 1133:
_Tfe:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax-0x108], 0;
	__asm        je     _T3b0;
// LINE 1134:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        push   eax;
	__asm        call   0x004C466C;
	__asm        add    esp, 4;
	__asm        test   eax, eax;
	__asm        jne    _T3ab;
// LINE 1135:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x134], 0;
	__asm        je     _T24e;
// LINE 1139:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        cmp    dword ptr [eax+0x68], 0;
	__asm        je     _T1be;
// LINE 1140:
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        add    eax, 0x6C;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x10C];
	__asm        push   eax;
	__asm        call   0x004C4666;
	__asm        add    esp, 0xC;
// LINE 1141:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x10C];
	__asm        cmp    dword ptr [eax+0x2C], 0x100;
	__asm        jae    _T1be;
// LINE 1143:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x10C];
	__asm        mov    eax, [eax+0x438];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x10C];
	__asm        mov    eax, [eax+0x28];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x10C];
	__asm        add    eax, 0x38;
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        push   eax;
	__asm        call   0x004C4660;
	__asm        add    esp, 0x10;
// LINE 1146:
_T1be:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        push   eax;
	__asm        call   0x004C465A;
	__asm        add    esp, 4;
// LINE 1148:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax-0x114], 0;
	__asm        jne    _T21f;

	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax-0x110], 0;
	__asm        jne    _T21f;
// LINE 1150:
	__asm        mov    eax, SrcBottom;
	__asm        push   eax;
	__asm        mov    eax, SrcRight;
	__asm        push   eax;
	__asm        mov    eax, SrcTop;
	__asm        push   eax;
	__asm        mov    eax, SrcLeft;
	__asm        push   eax;
	__asm        mov    eax, DestTop;
	__asm        push   eax;
	__asm        mov    eax, DestLeft;
	__asm        push   eax;
	__asm        mov    eax, pDestImage;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        sub    ecx, 0x140;
	__asm        call   SmackerBackBuffer::BltParts;
// LINE 1151:
	__asm        jmp    _T249;
// LINE 1153:
_T21f:
	__asm        mov    eax, SrcBottom;
	__asm        push   eax;
	__asm        mov    eax, SrcRight;
	__asm        push   eax;
	__asm        mov    eax, SrcTop;
	__asm        push   eax;
	__asm        mov    eax, SrcLeft;
	__asm        push   eax;
	__asm        mov    eax, DestTop;
	__asm        push   eax;
	__asm        mov    eax, DestLeft;
	__asm        push   eax;
	__asm        mov    eax, pDestImage;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        sub    ecx, 0x140;
	__asm        call   SmackerBackBuffer::BltAll;
// LINE 1155:
_T249:
	__asm        jmp    _T350;
// LINE 1156:
_T24e:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x138], 0;
	__asm        je     _T2c6;
// LINE 1157:
	__asm        mov    eax, pDestImage;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, pDestImage;
	__asm        call   dword ptr [eax];
// LINE 1158:
	__asm        jmp    near ptr 0x004999DA;

	__asm        jmp    near ptr 0x004999DF;

	__asm        jmp    near ptr 0x004999E4;

	__asm        push   0;
	__asm        mov    eax, pDestImage;
	__asm        mov    eax, [eax+0x10];
	__asm        push   eax;
	__asm        mov    eax, pDestImage;
	__asm        mov    eax, [eax+0xC];
	__asm        push   eax;
	__asm        mov    eax, pDestImage;
	__asm        mov    eax, [eax+0x14];
	__asm        push   eax;
	__asm        push   0;
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        push   eax;
	__asm        call   0x004C461E;
	__asm        add    esp, 0x1C;
// LINE 1159:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        push   eax;
	__asm        call   0x004C465A;
	__asm        add    esp, 4;
// LINE 1160:
	__asm        mov    eax, pDestImage;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, pDestImage;
	__asm        call   dword ptr [eax+4];
// LINE 1162:
	__asm        jmp    _T350;
// LINE 1163:
_T2c6:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax];
// LINE 1164:
	__asm        jmp    near ptr 0x00499A42;

	__asm        jmp    near ptr 0x00499A47;

	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x10];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0xC];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x14];
	__asm        push   eax;
	__asm        push   0;
	__asm        push   0;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        push   eax;
	__asm        call   0x004C461E;
	__asm        add    esp, 0x1C;
// LINE 1165:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        push   eax;
	__asm        call   0x004C465A;
	__asm        add    esp, 4;
// LINE 1166:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, this;
	__asm        call   dword ptr [eax+4];
// LINE 1170:
	__asm        mov    eax, SrcBottom;
	__asm        push   eax;
	__asm        mov    eax, SrcRight;
	__asm        push   eax;
	__asm        mov    eax, SrcTop;
	__asm        push   eax;
	__asm        mov    eax, SrcLeft;
	__asm        push   eax;
	__asm        mov    eax, DestBottom;
	__asm        push   eax;
	__asm        mov    eax, DestRight;
	__asm        push   eax;
	__asm        mov    eax, DestTop;
	__asm        push   eax;
	__asm        mov    eax, DestLeft;
	__asm        push   eax;
	__asm        mov    eax, pDestImage;
	__asm        push   eax;
	__asm        mov    ecx, this;
	__asm        call   CBackBuffer::StretchCompose;
// LINE 1173:
_T350:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        mov    eax, [eax+0xC];
	__asm        dec    eax;
	__asm        mov    ecx, this;
	__asm        mov    ecx, [ecx-0x108];
	__asm        cmp    eax, [ecx+0x370];
	__asm        jne    _T399;
// LINE 1174:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax-0x138], 0;
	__asm        jne    _T399;
// LINE 1175:
	this-><SmackerBackBuffer+0x-13c> = 0x2;
// LINE 1176:
	__asm        mov    eax, 1;
	__asm        jmp    _T3c1;
// LINE 1179:
_T399:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax-0x108];
	__asm        push   eax;
	__asm        call   0x004C4648;
	__asm        add    esp, 4;
// LINE 1182:
_T3ab:
	__asm        jmp    _T3ba;
// LINE 1183:
_T3b0:
	__asm        mov    eax, 2;
	__asm        jmp    _T3c1;
// LINE 1185:
_T3ba:
	__asm        xor    eax, eax;
	__asm        jmp    _T3c1;
// LINE 1186:
_T3c1:
}

// FUNCTION: COPTER_D 0x00499b35
void SmackerBackBuffer::BltParts(/*packed*/ class IFlatImage *pDestImage, long DestLeft, long DestTop, long SrcLeft, long SrcTop, long SrcRight, long SrcBottom) {
	/*bp-0x4*/   unsigned long nLastRectx2;
	/*bp-0x8*/   char * pOriginalDestImageBits;
	/*bp-0xc*/   char * pSourceImageBits;
	/*bp-0x10*/  int32_t nDestImageStride;
	/*bp-0x14*/  char * pDestImageBits;
	/*bp-0x18*/  int32_t nSourceImageStride;
	/*bp-0x1c*/  unsigned long nLastRecth;
	/*bp-0x20*/  unsigned long nLastRectx;
	/*bp-0x24*/  unsigned long nLastRecty;
	/*bp-0x28*/  unsigned long i;
	/*bp-0x2c*/  unsigned long nLastRectw;
	/*bp-0x30*/  unsigned long nLastRecty2;
	/*bp-0x34*/  char * pOriginalSourceImageBits;

// LINE 1230:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x38], 0;
	__asm        jne    _T1e;
// LINE 1231:
	__asm        jmp    _T220;
// LINE 1233:
_T1e:
	__asm        mov    eax, pDestImage;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, pDestImage;
	__asm        call   dword ptr [eax];
// LINE 1234:
	__asm        jmp    near ptr 0x00499B62;

	pOriginalDestImageBits = pDestImage->mpBits;
// LINE 1235:
	__asm        jmp    near ptr 0x00499B70;

	nDestImageStride = pDestImage->mStride;
// LINE 1236:
	__asm        mov    eax, DestTop;
	__asm        imul   eax, nDestImageStride;
	__asm        add    eax, DestLeft;
	__asm        add    pOriginalDestImageBits, eax;
// LINE 1237:
	pOriginalSourceImageBits = this->smkbuf->Buffer;
// LINE 1238:
	nSourceImageStride = this->smkbuf->Width;
// LINE 1243:
	__asm        cmp    SrcRight, 0;
	__asm        jne    _T82;
// LINE 1244:
	SrcRight = this-><SmackerBackBuffer+0x148>;
// LINE 1245:
_T82:
	__asm        cmp    SrcBottom, 0;
	__asm        jne    _T98;
// LINE 1246:
	SrcBottom = this-><SmackerBackBuffer+0x14c>;
// LINE 1248:
_T98:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x34];
	__asm        mov    eax, [eax+4];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        push   eax;
	__asm        call   0x004C4654;
	__asm        add    esp, 8;
	__asm        test   eax, eax;
	__asm        je     _T210;
// LINE 1250:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        mov    eax, [eax+0x374];
	__asm        add    eax, DestLeft;
	__asm        mov    nLastRectx, eax;
// LINE 1251:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x38];
	__asm        mov    eax, [eax+0x378];
	__asm        add    eax, DestTop;
	__asm        mov    nLastRecty, eax;
// LINE 1252:
	nLastRectw = this->smk->LastRectw;
// LINE 1253:
	nLastRecth = this->smk->LastRecth;
// LINE 1254:
	__asm        mov    eax, nLastRectw;
	__asm        add    eax, nLastRectx;
	__asm        mov    nLastRectx2, eax;
// LINE 1255:
	__asm        mov    eax, nLastRecth;
	__asm        add    eax, nLastRecty;
	__asm        mov    nLastRecty2, eax;
// LINE 1259:
	__asm        mov    eax, nLastRectx;
	__asm        cmp    SrcLeft, eax;
	__asm        jbe    _T135;
// LINE 1260:
	__asm        mov    eax, nLastRectx2;
	__asm        cmp    SrcLeft, eax;
	__asm        jbe    _T12f;
// LINE 1261:
	__asm        jmp    _T98;
// LINE 1262:
	__asm        jmp    _T135;
// LINE 1263:
_T12f:
	nLastRectx = SrcLeft;
// LINE 1265:
_T135:
	__asm        mov    eax, nLastRectx2;
	__asm        cmp    SrcRight, eax;
	__asm        jae    _T160;
// LINE 1266:
	__asm        mov    eax, nLastRectx;
	__asm        cmp    SrcRight, eax;
	__asm        jae    _T157;
// LINE 1267:
	__asm        jmp    _T98;
// LINE 1268:
	__asm        jmp    _T160;
// LINE 1269:
_T157:
	__asm        mov    eax, SrcRight;
	__asm        sub    eax, nLastRectx;
	__asm        mov    nLastRectw, eax;
// LINE 1271:
_T160:
	__asm        mov    eax, nLastRecty;
	__asm        cmp    SrcTop, eax;
	__asm        jbe    _T188;
// LINE 1272:
	__asm        mov    eax, nLastRecty2;
	__asm        cmp    SrcTop, eax;
	__asm        jbe    _T182;
// LINE 1273:
	__asm        jmp    _T98;
// LINE 1274:
	__asm        jmp    _T188;
// LINE 1275:
_T182:
	nLastRecty = SrcTop;
// LINE 1277:
_T188:
	__asm        mov    eax, nLastRecty2;
	__asm        cmp    SrcBottom, eax;
	__asm        jae    _T1b3;
// LINE 1278:
	__asm        mov    eax, nLastRecty;
	__asm        cmp    SrcBottom, eax;
	__asm        jae    _T1aa;
// LINE 1279:
	__asm        jmp    _T98;
// LINE 1280:
	__asm        jmp    _T1b3;
// LINE 1281:
_T1aa:
	__asm        mov    eax, SrcBottom;
	__asm        sub    eax, nLastRecty;
	__asm        mov    nLastRecth, eax;
// LINE 1286:
_T1b3:
	__asm        mov    eax, nLastRecty;
	__asm        imul   eax, nDestImageStride;
	__asm        add    eax, nLastRectx;
	__asm        add    eax, pOriginalDestImageBits;
	__asm        mov    pDestImageBits, eax;
// LINE 1288:
	__asm        mov    eax, nLastRecty;
	__asm        imul   eax, nSourceImageStride;
	__asm        add    eax, nLastRectx;
	__asm        add    eax, pOriginalSourceImageBits;
	__asm        mov    pSourceImageBits, eax;
// LINE 1290:
	i = 0x0;
// LINE 1291:
_T1da:
	__asm        mov    eax, nLastRecth;
	__asm        cmp    i, eax;
	__asm        jae    _T20b;
// LINE 1293:
	__asm        mov    eax, nLastRectw;
	__asm        push   eax;
	__asm        mov    eax, pSourceImageBits;
	__asm        push   eax;
	__asm        mov    eax, pDestImageBits;
	__asm        push   eax;
	__asm        call   memcpy;
	__asm        add    esp, 0xC;
// LINE 1294:
	__asm        mov    eax, nDestImageStride;
	__asm        add    pDestImageBits, eax;
// LINE 1295:
	__asm        mov    eax, nSourceImageStride;
	__asm        add    pSourceImageBits, eax;
// LINE 1296:
	__asm        jmp    _T1da;
// LINE 1297:
_T20b:
	__asm        jmp    _T98;
// LINE 1298:
_T210:
	__asm        mov    eax, pDestImage;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, pDestImage;
	__asm        call   dword ptr [eax+4];
// LINE 1299:
	__asm        jmp    _T220;
_T220:
}

// FUNCTION: COPTER_D 0x00499d5c
void SmackerBackBuffer::BltAll(/*packed*/ class IFlatImage *pDestImage, long DestLeft, long DestTop, long SrcLeft, long SrcTop, long SrcRight, long SrcBottom) {
	/*bp-0x4*/   char * pSourceImageBits;
	/*bp-0x8*/   int32_t nDestImageStride;
	/*bp-0xc*/   char * pDestImageBits;
	/*bp-0x10*/  int32_t nSourceImageStride;
	/*bp-0x14*/  int32_t i;
	/*bp-0x18*/  int32_t nSourceImageHeight;
	/*bp-0x1c*/  int32_t nSourceImageWidth;

// LINE 1340:
	i = 0x0;
// LINE 1342:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x38], 0;
	__asm        jne    _T25;
// LINE 1343:
	__asm        jmp    _Tcc;
// LINE 1345:
_T25:
	__asm        mov    eax, pDestImage;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, pDestImage;
	__asm        call   dword ptr [eax];
// LINE 1346:
	__asm        jmp    near ptr 0x00499D90;

	pDestImageBits = pDestImage->mpBits;
// LINE 1347:
	__asm        jmp    near ptr 0x00499D9E;

	nDestImageStride = pDestImage->mStride;
// LINE 1348:
	__asm        mov    eax, DestTop;
	__asm        imul   eax, nDestImageStride;
	__asm        add    eax, DestLeft;
	__asm        add    pDestImageBits, eax;
// LINE 1349:
	pSourceImageBits = this->smkbuf->Buffer;
// LINE 1350:
	nSourceImageStride = this->smkbuf->Width;
// LINE 1351:
	nSourceImageWidth = this->smkbuf->Width;
// LINE 1352:
	nSourceImageHeight = this->smkbuf->Height;
// LINE 1354:
_T8b:
	__asm        mov    eax, nSourceImageHeight;
	__asm        cmp    i, eax;
	__asm        jge    _Tbc;
// LINE 1356:
	__asm        mov    eax, nSourceImageWidth;
	__asm        push   eax;
	__asm        mov    eax, pSourceImageBits;
	__asm        push   eax;
	__asm        mov    eax, pDestImageBits;
	__asm        push   eax;
	__asm        call   memcpy;
	__asm        add    esp, 0xC;
// LINE 1357:
	__asm        mov    eax, nDestImageStride;
	__asm        add    pDestImageBits, eax;
// LINE 1358:
	__asm        mov    eax, nSourceImageStride;
	__asm        add    pSourceImageBits, eax;
// LINE 1359:
	__asm        jmp    _T8b;
// LINE 1361:
_Tbc:
	__asm        mov    eax, pDestImage;
	__asm        mov    eax, [eax];
	__asm        mov    ecx, pDestImage;
	__asm        call   dword ptr [eax+4];
// LINE 1362:
	__asm        jmp    _Tcc;
_Tcc:
}



// Contribution: 1:00098e30-00098e68 Module: 17, 16 byte alignment, code, (comdat), execute, read, 
// FUNCTION: COPTER_D 0x00499e30
// SmackerBuffer::`scalar deleting destructor'



// Contribution: 1:00098e70-00098ea8 Module: 17, 16 byte alignment, code, (comdat), execute, read, 
// FUNCTION: COPTER_D 0x00499e70
// VRBmpSmackerBuffer::`scalar deleting destructor'



// Contribution: 1:00098eb0-00098ee8 Module: 17, 16 byte alignment, code, (comdat), execute, read, 
// FUNCTION: COPTER_D 0x00499eb0
// SmackerBackBuffer::`scalar deleting destructor'



// Contribution: 2:00002138-00002157 Module: 17, 8 byte alignment, initialized_data, (comdat), read, 
// vftable for SmackerBuffer @ 0x00591138
//   00: SmackerBuffer::`scalar deleting destructor' @ 0x00499e30
//   01: SmackerBuffer::Initialize @ 0x00497dc8
//   02: SmackerBuffer::CreateSurface @ 0x00497e25
//   03: SmackerBuffer::ClearBuffer @ 0x00498043
//   04: SmackerBuffer::Open @ 0x00497f22
//   05: SmackerBuffer::Close @ 0x00497f91
//   06: SmackerBuffer::ComposeToWindow @ 0x00498188
//   07: SmackerBuffer::SetPalette @ 0x00497de9
//   8 entries



// Contribution: 2:00002158-00002187 Module: 17, 8 byte alignment, initialized_data, (comdat), read, 
// vftable for VRBmpSmackerBuffer @ 0x00591158
//   00: VRBmpSmackerBuffer::`scalar deleting destructor' @ 0x00499e70
//   01: SmackerBuffer::Initialize @ 0x00497dc8
//   02: SmackerBuffer::CreateSurface @ 0x00497e25
//   03: VRBmpSmackerBuffer::ClearBuffer @ 0x00498a0b
//   04: VRBmpSmackerBuffer::Open @ 0x0049898a
//   05: SmackerBuffer::Close @ 0x00497f91
//   06: SmackerBuffer::ComposeToWindow @ 0x00498188
//   07: SmackerBuffer::SetPalette @ 0x00497de9
//   08: VRBmpSmackerBuffer::CreateSurface @ 0x0049873d
//   09: VRBmpSmackerBuffer::DeleteSurface @ 0x0049891f
//   10: VRBmpSmackerBuffer::SetDefaultVRBmp @ 0x00498c00
//   11: VRBmpSmackerBuffer::DrawDefaultVRBmp @ 0x00498ca3
//   12 entries



// Contribution: 2:00002188-000021eb Module: 17, 8 byte alignment, initialized_data, (comdat), read, 
// vftable for SmackerBackBuffer @ 0x00591188
//   00: CBackBuffer::Lock @ 0x0047006f
//   01: CBackBuffer::Unlock @ 0x00470149
//   02: CBackBuffer::SetTransparentColor @ 0x0046ffe6
//   03: SmackerBackBuffer::Compose @ 0x00499396
//   04: SmackerBackBuffer::StretchCompose @ 0x0049976d
//   05: IFlatImage::StretchCompose @ 0x0048f32e
//   06: IFlatImage::FillRect @ 0x0048f56b
//   07: CBackBuffer::Swap @ 0x0046f7bb
//   08: CBackBuffer::SwapRect @ 0x0046f828
//   09: CBackBuffer::StretchRect @ 0x0046ffcc
//   10: CBackBuffer::InitializeMemberVariables @ 0x0046eb58
//   11: CBackBuffer::Compose @ 0x0046fd33
//   12: CBackBuffer::StretchCompose @ 0x0046fd82
//   13: CBackBuffer::Duplicate @ 0x0046fe7c
//   14: CBackBuffer::ComposeNoClip @ 0x0046fce4
//   15: CBackBuffer::ComposeNoClip @ 0x0046fbb1
//   16: CBackBuffer::DrawLine @ 0x0046f5c6
//   17: CBackBuffer::FillRect @ 0x004702f1
//   18: CBackBuffer::DrawBufferText @ 0x0046f403
//   19: CBackBuffer::DrawBufferText @ 0x0046f1bd
//   20: CBackBuffer::DrawLineUnclipped @ 0x00470864
//   21: CBackBuffer::DrawLineClipped @ 0x00470c22
//   22: CBackBuffer::DrawRectangleOutline @ 0x004706e4
//   23: CBackBuffer::DrawRectangleOutlineUnclipped @ 0x004707a4
//   24: CBackBuffer::GetDDSurface @ 0x004704a7
//   25 entries



// Contribution: 2:000021f0-00002217 Module: 17, 8 byte alignment, initialized_data, (comdat), read, 
// vftable for SmackerBackBuffer @ 0x005911f0
//   00: SmackerBackBuffer::`scalar deleting destructor' @ 0x00499eb0
//   01: SmackerBackBuffer::Initialize @ 0x00499097
//   02: SmackerBackBuffer::CreateSurface @ 0x0049920a
//   03: SmackerBuffer::ClearBuffer @ 0x00498043
//   04: SmackerBackBuffer::Open @ 0x00499149
//   05: SmackerBuffer::Close @ 0x00497f91
//   06: SmackerBuffer::ComposeToWindow @ 0x00498188
//   07: SmackerBuffer::SetPalette @ 0x00497de9
//   08: SmackerBackBuffer::SetBackBufferData @ 0x004990d2
//   09: SmackerBackBuffer::SetDirectBlit @ 0x00499074
//   10 entries



// Contribution: 3:00003208-00003249 Module: 17, 4 byte alignment, initialized_data, read, write, 
