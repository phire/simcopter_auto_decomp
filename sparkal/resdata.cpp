// Module: Resdata.obj
// Source: C:\Copter\source\sparkal\Resdata.cpp
// autogenerated by simcopter_tool from PDB file

// Type: class ResourceRCData (forward reference);
class ResourceRCData{
public:
	void ResourceRCData(class ResourceRCData&);
	void ResourceRCData(int32_t, int32_t);
	void ResourceRCData();
	void ~ResourceRCData();
	class ResourceRCData& operator=(class ResourceRCData&);
	// vtable: 0
	intro void Reset();
	// vtable: 4
	intro int32_t ReadResource();
	unsigned long DataSize();
	char * DataReference();
protected:
	int32_t nResource;
	char * chData;
	int32_t bWeOwnTheData;
	void * __ptr32 hFoundResource;
	void * __ptr32 hInstance;
	void * __ptr32 hResource;
};

// Type: void;

// Type: int32_t;

// Type: uint32_t;

// Type: unsigned long;

// Type: char *;



// Contribution: 1:000467b0-00046b55 Module: 49, 16 byte alignment, code, execute, read, 
// FUNCTION: COPTER_D 0x004477b0
void ResourceRCData::ResourceRCData() {

	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+4], 0;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+8], 0;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0xC], 0;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x10], 0;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x14], 0;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x18], 0;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax], 0x58F648;
// LINE 27:
	__asm        jmp    near ptr 0x00447806;

	__asm        mov    eax, this;
}

// FUNCTION: COPTER_D 0x0044780e
void ResourceRCData::ResourceRCData(int32_t nTheResource, int32_t bLoadNow) {

	__asm        mov    eax, nTheResource;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+4], eax;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+8], 0;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0xC], 0;
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax], 0x58F648;
// LINE 40:
	__asm        mov    eax, _ghWindowsInstance;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x14], eax;
// LINE 41:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 42:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x18], 0;
// LINE 45:
	__asm        cmp    bLoadNow, 0;
	__asm        je     _T63;
// LINE 46:
	__asm        mov    ecx, this;
	__asm        call   ResourceRCData::ReadResource;
// LINE 47:
_T63:
	__asm        jmp    near ptr 0x00447876;

	__asm        mov    eax, this;
}

// FUNCTION: COPTER_D 0x00447880
void ResourceRCData::ResourceRCData(class ResourceRCData& resData) {

	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax], 0x58F648;
// LINE 55:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 56:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x14], 0;
// LINE 57:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x18], 0;
// LINE 58:
	__asm        mov    eax, resData;
	__asm        mov    eax, [eax+4];
	__asm        mov    ecx, this;
	__asm        mov    [ecx+4], eax;
// LINE 59:
	__asm        mov    eax, resData;
	__asm        cmp    dword ptr [eax+8], 0;
	__asm        je     _T8d;
// LINE 60:
// Block start:
	uint32_t nAllocationSize;
	__asm        mov    ecx, resData;
	__asm        call   ResourceRCData::DataSize;
	__asm        mov    nAllocationSize, eax;
// LINE 61:
	__asm        mov    eax, nAllocationSize;
	__asm        push   eax;
	__asm        call   operator new;
	__asm        add    esp, 4;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+8], eax;
// LINE 62:
	__asm        mov    eax, nAllocationSize;
	__asm        push   eax;
	__asm        mov    eax, resData;
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   memcpy;
	__asm        add    esp, 0xC;
// LINE 63:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0xC], 1;
// LINE 65:
// Block end:
_T8d:
	__asm        jmp    near ptr 0x00447912;

	__asm        mov    eax, this;
}

// FUNCTION: COPTER_D 0x0044791c
void ResourceRCData::~ResourceRCData() {

	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax], 0x58F648;
// LINE 73:
	__asm        mov    ecx, this;
	__asm        call   ResourceRCData::Reset;
// LINE 74:
	__asm        jmp    near ptr 0x0044793E;
}

// FUNCTION: COPTER_D 0x00447943
class ResourceRCData& ResourceRCData::operator=(class ResourceRCData& resData) {
// LINE 82:
	__asm        mov    eax, resData;
	__asm        cmp    this, eax;
	__asm        jne    _T20;
// LINE 83:
	__asm        mov    eax, this;
	__asm        jmp    _Ta0;
// LINE 85:
_T20:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 86:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x14], 0;
// LINE 87:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x18], 0;
// LINE 88:
	__asm        mov    eax, resData;
	__asm        mov    eax, [eax+4];
	__asm        mov    ecx, this;
	__asm        mov    [ecx+4], eax;
// LINE 89:
	__asm        mov    eax, resData;
	__asm        cmp    dword ptr [eax+8], 0;
	__asm        je     _T98;
// LINE 90:
// Block start:
	uint32_t nAllocationSize;
	__asm        mov    ecx, resData;
	__asm        call   ResourceRCData::DataSize;
	__asm        mov    nAllocationSize, eax;
// LINE 91:
	__asm        mov    eax, nAllocationSize;
	__asm        push   eax;
	__asm        call   operator new;
	__asm        add    esp, 4;
	__asm        mov    ecx, this;
	__asm        mov    [ecx+8], eax;
// LINE 92:
	__asm        mov    eax, nAllocationSize;
	__asm        push   eax;
	__asm        mov    eax, resData;
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+8];
	__asm        push   eax;
	__asm        call   memcpy;
	__asm        add    esp, 0xC;
// LINE 93:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0xC], 1;
// LINE 96:
// Block end:
_T98:
	__asm        mov    eax, this;
	__asm        jmp    _Ta0;
// LINE 97:
_Ta0:
}

// FUNCTION: COPTER_D 0x004479ea
void ResourceRCData::Reset() {
// LINE 106:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x18], 0;
	__asm        je     _T26;
// LINE 107:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x18];
	__asm        push   eax;
	__asm        call   dword ptr ds:[0x6C3634];
// LINE 108:
_T26:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x10], 0;
// LINE 109:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x14], 0;
// LINE 110:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+0x18], 0;
// LINE 112:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+4], 0;
// LINE 113:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0xC], 0;
	__asm        je     _T76;
// LINE 114:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+8];
	__asm        mov    [ebp-4], eax;
	__asm        mov    eax, [ebp-4];
	__asm        mov    [ebp-8], eax;
	__asm        mov    eax, [ebp-8];
	__asm        push   eax;
	__asm        call   operator delete;
	__asm        add    esp, 4;
// LINE 115:
_T76:
	__asm        mov    eax, this;
	__asm        mov    dword ptr [eax+8], 0;
// LINE 116:
	__asm        jmp    near ptr 0x00447A6F;
}

// FUNCTION: COPTER_D 0x00447a74
unsigned long ResourceRCData::DataSize() {
// LINE 132:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x10], 0;
	__asm        je     _T32;
// LINE 133:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x10];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x14];
	__asm        push   eax;
	__asm        call   dword ptr ds:[0x6C3630];
	__asm        jmp    _T39;
// LINE 135:
_T32:
	__asm        xor    eax, eax;
	__asm        jmp    _T39;
// LINE 136:
_T39:
}

// FUNCTION: COPTER_D 0x00447ab2
int32_t ResourceRCData::ReadResource() {
// LINE 145:
	__asm        push   0xA;
	__asm        mov    eax, this;
	__asm        xor    ecx, ecx;
	__asm        mov    cx, [eax+4];
	__asm        push   ecx;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x14];
	__asm        push   eax;
	__asm        call   dword ptr ds:[0x6C3624];
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x10], eax;
// LINE 146:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x10], 0;
	__asm        je     _T7c;
// LINE 147:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x10];
	__asm        push   eax;
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x14];
	__asm        push   eax;
	__asm        call   dword ptr ds:[0x6C3628];
	__asm        mov    ecx, this;
	__asm        mov    [ecx+0x18], eax;
// LINE 148:
	__asm        mov    eax, this;
	__asm        cmp    dword ptr [eax+0x18], 0;
	__asm        je     _T7c;
// LINE 149:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+0x18];
	__asm        push   eax;
	__asm        call   dword ptr ds:[0x6C3620];
	__asm        mov    ecx, this;
	__asm        mov    [ecx+8], eax;
// LINE 150:
	__asm        mov    eax, 1;
	__asm        jmp    _T83;
// LINE 154:
_T7c:
	__asm        xor    eax, eax;
	__asm        jmp    _T83;
// LINE 155:
_T83:
}

// FUNCTION: COPTER_D 0x00447b3a
char * ResourceRCData::DataReference() {
// LINE 162:
	__asm        mov    eax, this;
	__asm        mov    eax, [eax+8];
	__asm        jmp    near ptr 0x00447B51;
// LINE 163:
}



// Contribution: 2:00000648-0000064f Module: 49, 8 byte alignment, initialized_data, (comdat), read, 
// GLOBAL: COPTER_D 0x0058f648
// ??_7ResourceRCData@@6B@
